<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=1900">
  <style>
    html, body {
        margin: 0;
        overflow: hidden;
    }
  </style>
  <!-- Pollyfill script -->
  <script src="https://unpkg.com/core-js-bundle@3.6.1/minified.js"></script>
  
  <script defer>
    /**
 * Live2D Cubism Core
 * (C) 2019 Live2D Inc. All rights reserved.
 *
 * This file is licensed pursuant to the license agreement below.
 * This file corresponds to the "Redistributable Code" in the agreement.
 * https://www.live2d.com/eula/live2d-proprietary-software-license-agreement_en.html
 */
    var Live2DCubismCore;!function(Live2DCubismCore){var _scriptDir,_csm=function(){function _csm(){}return _csm.getVersion=function(){return _em.ccall("csmGetVersion","number",[],[])},_csm.getLatestMocVersion=function(){return _em.ccall("csmGetLatestMocVersion","number",[],[])},_csm.getMocVersion=function(moc,mocSize){return _em.ccall("csmGetMocVersion","number",["number","number"],[moc,mocSize])},_csm.getSizeofModel=function(moc){return _em.ccall("csmGetSizeofModel","number",["number"],[moc])},_csm.reviveMocInPlace=function(memory,mocSize){return _em.ccall("csmReviveMocInPlace","number",["number","number"],[memory,mocSize])},_csm.initializeModelInPlace=function(moc,memory,modelSize){return _em.ccall("csmInitializeModelInPlace","number",["number","number","number"],[moc,memory,modelSize])},_csm.hasMocConsistency=function(memory,mocSize){return _em.ccall("csmHasMocConsistency","number",["number","number"],[memory,mocSize])},_csm.getParameterCount=function(model){return _em.ccall("csmGetParameterCount","number",["number"],[model])},_csm.getParameterIds=function(model){return _em.ccall("csmGetParameterIds","number",["number"],[model])},_csm.getParameterMinimumValues=function(model){return _em.ccall("csmGetParameterMinimumValues","number",["number"],[model])},_csm.getParameterTypes=function(model){return _em.ccall("csmGetParameterTypes","number",["number"],[model])},_csm.getParameterMaximumValues=function(model){return _em.ccall("csmGetParameterMaximumValues","number",["number"],[model])},_csm.getParameterDefaultValues=function(model){return _em.ccall("csmGetParameterDefaultValues","number",["number"],[model])},_csm.getParameterValues=function(model){return _em.ccall("csmGetParameterValues","number",["number"],[model])},_csm.getParameterKeyCounts=function(model){return _em.ccall("csmGetParameterKeyCounts","number",["number"],[model])},_csm.getParameterKeyValues=function(model){return _em.ccall("csmGetParameterKeyValues","number",["number"],[model])},_csm.getPartCount=function(model){return _em.ccall("csmGetPartCount","number",["number"],[model])},_csm.getPartIds=function(model){return _em.ccall("csmGetPartIds","number",["number"],[model])},_csm.getPartOpacities=function(model){return _em.ccall("csmGetPartOpacities","number",["number"],[model])},_csm.getPartParentPartIndices=function(model){return _em.ccall("csmGetPartParentPartIndices","number",["number"],[model])},_csm.getDrawableCount=function(model){return _em.ccall("csmGetDrawableCount","number",["number"],[model])},_csm.getDrawableIds=function(model){return _em.ccall("csmGetDrawableIds","number",["number"],[model])},_csm.getDrawableConstantFlags=function(model){return _em.ccall("csmGetDrawableConstantFlags","number",["number"],[model])},_csm.getDrawableDynamicFlags=function(model){return _em.ccall("csmGetDrawableDynamicFlags","number",["number"],[model])},_csm.getDrawableTextureIndices=function(model){return _em.ccall("csmGetDrawableTextureIndices","number",["number"],[model])},_csm.getDrawableDrawOrders=function(model){return _em.ccall("csmGetDrawableDrawOrders","number",["number"],[model])},_csm.getDrawableRenderOrders=function(model){return _em.ccall("csmGetDrawableRenderOrders","number",["number"],[model])},_csm.getDrawableOpacities=function(model){return _em.ccall("csmGetDrawableOpacities","number",["number"],[model])},_csm.getDrawableMaskCounts=function(model){return _em.ccall("csmGetDrawableMaskCounts","number",["number"],[model])},_csm.getDrawableMasks=function(model){return _em.ccall("csmGetDrawableMasks","number",["number"],[model])},_csm.getDrawableVertexCounts=function(model){return _em.ccall("csmGetDrawableVertexCounts","number",["number"],[model])},_csm.getDrawableVertexPositions=function(model){return _em.ccall("csmGetDrawableVertexPositions","number",["number"],[model])},_csm.getDrawableVertexUvs=function(model){return _em.ccall("csmGetDrawableVertexUvs","number",["number"],[model])},_csm.getDrawableIndexCounts=function(model){return _em.ccall("csmGetDrawableIndexCounts","number",["number"],[model])},_csm.getDrawableIndices=function(model){return _em.ccall("csmGetDrawableIndices","number",["number"],[model])},_csm.getDrawableMultiplyColors=function(model){return _em.ccall("csmGetDrawableMultiplyColors","number",["number"],[model])},_csm.getDrawableScreenColors=function(model){return _em.ccall("csmGetDrawableScreenColors","number",["number"],[model])},_csm.getDrawableParentPartIndices=function(model){return _em.ccall("csmGetDrawableParentPartIndices","number",["number"],[model])},_csm.mallocMoc=function(mocSize){return _em.ccall("csmMallocMoc","number",["number"],[mocSize])},_csm.mallocModelAndInitialize=function(moc){return _em.ccall("csmMallocModelAndInitialize","number",["number"],[moc])},_csm.malloc=function(size){return _em.ccall("csmMalloc","number",["number"],[size])},_csm.setLogFunction=function(handler){_em.ccall("csmSetLogFunction",null,["number"],[handler])},_csm.updateModel=function(model){_em.ccall("csmUpdateModel",null,["number"],[model])},_csm.readCanvasInfo=function(model,outSizeInPixels,outOriginInPixels,outPixelsPerUnit){_em.ccall("csmReadCanvasInfo",null,["number","number","number","number"],[model,outSizeInPixels,outOriginInPixels,outPixelsPerUnit])},_csm.resetDrawableDynamicFlags=function(model){_em.ccall("csmResetDrawableDynamicFlags",null,["number"],[model])},_csm.free=function(memory){_em.ccall("csmFree",null,["number"],[memory])},_csm.initializeAmountOfMemory=function(size){_em.ccall("csmInitializeAmountOfMemory",null,["number"],[size])},_csm}(),Version=(Live2DCubismCore.AlignofMoc=64,Live2DCubismCore.AlignofModel=16,Live2DCubismCore.MocVersion_Unknown=0,Live2DCubismCore.MocVersion_30=1,Live2DCubismCore.MocVersion_33=2,Live2DCubismCore.MocVersion_40=3,Live2DCubismCore.MocVersion_42=4,Live2DCubismCore.ParameterType_Normal=0,Live2DCubismCore.ParameterType_BlendShape=1,function(){function Version(){}return Version.csmGetVersion=function(){return _csm.getVersion()},Version.csmGetLatestMocVersion=function(){return _csm.getLatestMocVersion()},Version.csmGetMocVersion=function(moc,mocBytes){return _csm.getMocVersion(moc._ptr,mocBytes.byteLength)},Version}()),Version=(Live2DCubismCore.Version=Version,function(){function Logging(){}return Logging.csmSetLogFunction=function(handler){Logging.logFunction=handler;handler=_em.addFunction(Logging.wrapLogFunction,"vi");_csm.setLogFunction(handler)},Logging.csmGetLogFunction=function(){return Logging.logFunction},Logging.wrapLogFunction=function(messagePtr){messagePtr=_em.UTF8ToString(messagePtr);Logging.logFunction(messagePtr)},Logging}()),Version=(Live2DCubismCore.Logging=Version,function(){function Moc(mocBytes){var memory=_csm.mallocMoc(mocBytes.byteLength);memory&&(new Uint8Array(_em.HEAPU8.buffer,memory,mocBytes.byteLength).set(new Uint8Array(mocBytes)),this._ptr=_csm.reviveMocInPlace(memory,mocBytes.byteLength),this._ptr||_csm.free(memory))}return Moc.prototype.hasMocConsistency=function(mocBytes){var memory=_csm.mallocMoc(mocBytes.byteLength);if(memory)return new Uint8Array(_em.HEAPU8.buffer,memory,mocBytes.byteLength).set(new Uint8Array(mocBytes)),mocBytes=_csm.hasMocConsistency(memory,mocBytes.byteLength),_csm.free(memory),mocBytes},Moc.fromArrayBuffer=function(buffer){if(!buffer)return null;buffer=new Moc(buffer);return buffer._ptr?buffer:null},Moc.prototype._release=function(){_csm.free(this._ptr),this._ptr=0},Moc}()),Version=(Live2DCubismCore.Moc=Version,function(){function Model(moc){this._ptr=_csm.mallocModelAndInitialize(moc._ptr),this._ptr&&(this.parameters=new Parameters(this._ptr),this.parts=new Parts(this._ptr),this.drawables=new Drawables(this._ptr),this.canvasinfo=new CanvasInfo(this._ptr))}return Model.fromMoc=function(moc){moc=new Model(moc);return moc._ptr?moc:null},Model.prototype.update=function(){_csm.updateModel(this._ptr)},Model.prototype.release=function(){_csm.free(this._ptr),this._ptr=0},Model}()),CanvasInfo=(Live2DCubismCore.Model=Version,function(modelPtr){var _canvasSize_data,_canvasSize_dataPtr,_canvasSize_nDataBytes,_canvasOrigin_dataPtr,_canvasOrigin_nDataBytes,_canvasPPU_nDataBytes,_canvasPPU_dataPtr;modelPtr&&(_canvasSize_nDataBytes=(_canvasSize_data=new Float32Array(2)).length*_canvasSize_data.BYTES_PER_ELEMENT,_canvasSize_dataPtr=_csm.malloc(_canvasSize_nDataBytes),(_canvasSize_dataPtr=new Uint8Array(_em.HEAPU8.buffer,_canvasSize_dataPtr,_canvasSize_nDataBytes)).set(new Uint8Array(_canvasSize_data.buffer)),_canvasOrigin_nDataBytes=(_canvasSize_nDataBytes=new Float32Array(2)).length*_canvasSize_nDataBytes.BYTES_PER_ELEMENT,_canvasOrigin_dataPtr=_csm.malloc(_canvasOrigin_nDataBytes),(_canvasOrigin_dataPtr=new Uint8Array(_em.HEAPU8.buffer,_canvasOrigin_dataPtr,_canvasOrigin_nDataBytes)).set(new Uint8Array(_canvasSize_nDataBytes.buffer)),_canvasPPU_nDataBytes=(_canvasOrigin_nDataBytes=new Float32Array(1)).length*_canvasOrigin_nDataBytes.BYTES_PER_ELEMENT,_canvasPPU_dataPtr=_csm.malloc(_canvasPPU_nDataBytes),(_canvasPPU_dataPtr=new Uint8Array(_em.HEAPU8.buffer,_canvasPPU_dataPtr,_canvasPPU_nDataBytes)).set(new Uint8Array(_canvasOrigin_nDataBytes.buffer)),_csm.readCanvasInfo(modelPtr,_canvasSize_dataPtr.byteOffset,_canvasOrigin_dataPtr.byteOffset,_canvasPPU_dataPtr.byteOffset),_canvasSize_data=new Float32Array(_canvasSize_dataPtr.buffer,_canvasSize_dataPtr.byteOffset,_canvasSize_dataPtr.length),_canvasSize_nDataBytes=new Float32Array(_canvasOrigin_dataPtr.buffer,_canvasOrigin_dataPtr.byteOffset,_canvasOrigin_dataPtr.length),_canvasOrigin_nDataBytes=new Float32Array(_canvasPPU_dataPtr.buffer,_canvasPPU_dataPtr.byteOffset,_canvasPPU_dataPtr.length),this.CanvasWidth=_canvasSize_data[0],this.CanvasHeight=_canvasSize_data[1],this.CanvasOriginX=_canvasSize_nDataBytes[0],this.CanvasOriginY=_canvasSize_nDataBytes[1],this.PixelsPerUnit=_canvasOrigin_nDataBytes[0],_csm.free(_canvasSize_dataPtr.byteOffset),_csm.free(_canvasOrigin_dataPtr.byteOffset),_csm.free(_canvasPPU_dataPtr.byteOffset))}),Parameters=(Live2DCubismCore.CanvasInfo=CanvasInfo,function(modelPtr){this.count=_csm.getParameterCount(modelPtr),length=_csm.getParameterCount(modelPtr),this.ids=new Array(length);for(var length,length2,_ids=new Uint32Array(_em.HEAPU32.buffer,_csm.getParameterIds(modelPtr),length),i=0;i<_ids.length;i++)this.ids[i]=_em.UTF8ToString(_ids[i]);length=_csm.getParameterCount(modelPtr),this.minimumValues=new Float32Array(_em.HEAPF32.buffer,_csm.getParameterMinimumValues(modelPtr),length),length=_csm.getParameterCount(modelPtr),this.types=new Int32Array(_em.HEAP32.buffer,_csm.getParameterTypes(modelPtr),length),length=_csm.getParameterCount(modelPtr),this.maximumValues=new Float32Array(_em.HEAPF32.buffer,_csm.getParameterMaximumValues(modelPtr),length),length=_csm.getParameterCount(modelPtr),this.defaultValues=new Float32Array(_em.HEAPF32.buffer,_csm.getParameterDefaultValues(modelPtr),length),length=_csm.getParameterCount(modelPtr),this.values=new Float32Array(_em.HEAPF32.buffer,_csm.getParameterValues(modelPtr),length),length=_csm.getParameterCount(modelPtr),this.keyCounts=new Int32Array(_em.HEAP32.buffer,_csm.getParameterKeyCounts(modelPtr),length),length=_csm.getParameterCount(modelPtr),length2=new Int32Array(_em.HEAP32.buffer,_csm.getParameterKeyCounts(modelPtr),length),this.keyValues=new Array(length);for(var _keyValues=new Uint32Array(_em.HEAPU32.buffer,_csm.getParameterKeyValues(modelPtr),length),i=0;i<_keyValues.length;i++)this.keyValues[i]=new Float32Array(_em.HEAPF32.buffer,_keyValues[i],length2[i])}),Parts=(Live2DCubismCore.Parameters=Parameters,function(modelPtr){this.count=_csm.getPartCount(modelPtr),length=_csm.getPartCount(modelPtr),this.ids=new Array(length);for(var length,_ids=new Uint32Array(_em.HEAPU32.buffer,_csm.getPartIds(modelPtr),length),i=0;i<_ids.length;i++)this.ids[i]=_em.UTF8ToString(_ids[i]);length=_csm.getPartCount(modelPtr),this.opacities=new Float32Array(_em.HEAPF32.buffer,_csm.getPartOpacities(modelPtr),length),length=_csm.getPartCount(modelPtr),this.parentIndices=new Int32Array(_em.HEAP32.buffer,_csm.getPartParentPartIndices(modelPtr),length)}),Drawables=(Live2DCubismCore.Parts=Parts,function(){function Drawables(modelPtr){this._modelPtr=modelPtr;for(var length,length2=null,_ids=(this.count=_csm.getDrawableCount(modelPtr),length=_csm.getDrawableCount(modelPtr),this.ids=new Array(length),new Uint32Array(_em.HEAPU32.buffer,_csm.getDrawableIds(modelPtr),length)),i=0;i<_ids.length;i++)this.ids[i]=_em.UTF8ToString(_ids[i]);length=_csm.getDrawableCount(modelPtr),this.constantFlags=new Uint8Array(_em.HEAPU8.buffer,_csm.getDrawableConstantFlags(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.dynamicFlags=new Uint8Array(_em.HEAPU8.buffer,_csm.getDrawableDynamicFlags(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.textureIndices=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableTextureIndices(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.drawOrders=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableDrawOrders(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.renderOrders=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableRenderOrders(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.opacities=new Float32Array(_em.HEAPF32.buffer,_csm.getDrawableOpacities(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.maskCounts=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableMaskCounts(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.vertexCounts=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableVertexCounts(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.indexCounts=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableIndexCounts(modelPtr),length),length=_csm.getDrawableCount(modelPtr),this.multiplyColors=new Float32Array(_em.HEAPF32.buffer,_csm.getDrawableMultiplyColors(modelPtr),4*length),length=_csm.getDrawableCount(modelPtr),this.screenColors=new Float32Array(_em.HEAPF32.buffer,_csm.getDrawableScreenColors(modelPtr),4*length),length=_csm.getDrawableCount(modelPtr),this.parentPartIndices=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableParentPartIndices(modelPtr),length),length=_csm.getDrawableCount(modelPtr),length2=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableMaskCounts(modelPtr),length),this.masks=new Array(length);for(var _masks=new Uint32Array(_em.HEAPU32.buffer,_csm.getDrawableMasks(modelPtr),length),i=0;i<_masks.length;i++)this.masks[i]=new Int32Array(_em.HEAP32.buffer,_masks[i],length2[i]);length=_csm.getDrawableCount(modelPtr),length2=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableVertexCounts(modelPtr),length),this.vertexPositions=new Array(length);for(var _vertexPositions=new Uint32Array(_em.HEAPU32.buffer,_csm.getDrawableVertexPositions(modelPtr),length),i=0;i<_vertexPositions.length;i++)this.vertexPositions[i]=new Float32Array(_em.HEAPF32.buffer,_vertexPositions[i],2*length2[i]);length=_csm.getDrawableCount(modelPtr),length2=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableVertexCounts(modelPtr),length),this.vertexUvs=new Array(length);for(var _vertexUvs=new Uint32Array(_em.HEAPU32.buffer,_csm.getDrawableVertexUvs(modelPtr),length),i=0;i<_vertexUvs.length;i++)this.vertexUvs[i]=new Float32Array(_em.HEAPF32.buffer,_vertexUvs[i],2*length2[i]);length=_csm.getDrawableCount(modelPtr),length2=new Int32Array(_em.HEAP32.buffer,_csm.getDrawableIndexCounts(modelPtr),length),this.indices=new Array(length);for(var _indices=new Uint32Array(_em.HEAPU32.buffer,_csm.getDrawableIndices(modelPtr),length),i=0;i<_indices.length;i++)this.indices[i]=new Uint16Array(_em.HEAPU16.buffer,_indices[i],length2[i])}return Drawables.prototype.resetDynamicFlags=function(){_csm.resetDrawableDynamicFlags(this._modelPtr)},Drawables}()),Version=(Live2DCubismCore.Drawables=Drawables,function(){function Utils(){}return Utils.hasBlendAdditiveBit=function(bitfield){return 1==(1&bitfield)},Utils.hasBlendMultiplicativeBit=function(bitfield){return 2==(2&bitfield)},Utils.hasIsDoubleSidedBit=function(bitfield){return 4==(4&bitfield)},Utils.hasIsInvertedMaskBit=function(bitfield){return 8==(8&bitfield)},Utils.hasIsVisibleBit=function(bitfield){return 1==(1&bitfield)},Utils.hasVisibilityDidChangeBit=function(bitfield){return 2==(2&bitfield)},Utils.hasOpacityDidChangeBit=function(bitfield){return 4==(4&bitfield)},Utils.hasDrawOrderDidChangeBit=function(bitfield){return 8==(8&bitfield)},Utils.hasRenderOrderDidChangeBit=function(bitfield){return 16==(16&bitfield)},Utils.hasVertexPositionsDidChangeBit=function(bitfield){return 32==(32&bitfield)},Utils.hasBlendColorDidChangeBit=function(bitfield){return 64==(64&bitfield)},Utils}()),Version=(Live2DCubismCore.Utils=Version,function(){function Memory(){}return Memory.initializeAmountOfMemory=function(size){16777216<size&&_csm.initializeAmountOfMemory(size)},Memory}()),_em_module=(Live2DCubismCore.Memory=Version,_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(_em_module){_em_module=_em_module||{};var b,m,e={};for(m in b=b||(void 0!==_em_module?_em_module:{}))b.hasOwnProperty(m)&&(e[m]=b[m]);var w,z,A,v,x,r=!1,n="object"==typeof window,q="function"==typeof importScripts,r="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!n&&!q,t=!n&&!r&&!q,u="",G=(r?(u=__dirname+"/",v=function(a,c){var d=B(a);return d||(z=z||require("fs"),a=(A=A||require("path")).normalize(a),d=z.readFileSync(a)),c?d:d.toString()},x=function(a){return assert((a=(a=v(a,!0)).buffer?a:new Uint8Array(a)).buffer),a},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(a){throw a}),process.on("unhandledRejection",C),b.inspect=function(){return"[Emscripten Module object]"}):t?("undefined"!=typeof read&&(v=function(a){var c=B(a);return c?D(c):read(a)}),x=function(a){var c;if(!(c=B(a))){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(a));assert("object"==typeof(c=read(a,"binary")))}return c},"undefined"!=typeof print&&((console="undefined"==typeof console?{}:console).log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(n||q)&&(q?u=self.location.href:document.currentScript&&(u=document.currentScript.src),u=0!==(u=_scriptDir||u).indexOf("blob:")?u.substr(0,u.lastIndexOf("/")+1):"",v=function(a){try{var c=new XMLHttpRequest;return c.open("GET",a,!1),c.send(null),c.responseText}catch(d){if(a=B(a))return D(a);throw d}},q&&(x=function(a){try{var c=new XMLHttpRequest;return c.open("GET",a,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}catch(d){if(a=B(a))return a;throw d}}),w=function(a){var c=E,d=F,f=new XMLHttpRequest;f.open("GET",c,!0),f.responseType="arraybuffer",f.onload=function(){var g;200==f.status||0==f.status&&f.response?d(f.response):(g=B(c))?d(g.buffer):a()},f.onerror=a,f.send(null)}),b.print||console.log.bind(console)),H=b.printErr||console.warn.bind(console);for(m in e)e.hasOwnProperty(m)&&(b[m]=e[m]);var e=null,I=Array(1),J=0,K=!1;function assert(a,c){a||C("Assertion failed: "+c)}var buffer,N,M,O,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function ca(a,c,d){var f=c+d;for(d=c;a[d]&&!(f<=d);)++d;if(16<d-c&&a.subarray&&L)return L.decode(a.subarray(c,d));for(f="";c<d;){var h,p,g=a[c++];128&g?(h=63&a[c++],192==(224&g)?f+=String.fromCharCode((31&g)<<6|h):(p=63&a[c++],(g=224==(240&g)?(15&g)<<12|h<<6|p:(7&g)<<18|h<<12|p<<6|63&a[c++])<65536?f+=String.fromCharCode(g):(g-=65536,f+=String.fromCharCode(55296|g>>10,56320|1023&g)))):f+=String.fromCharCode(g)}return f}function da(a,c){return a?ca(M,a,c):""}function ea(a){return 0<a%16777216&&(a+=16777216-a%16777216),a}function fa(a){buffer=a,b.HEAP8=N=new Int8Array(a),b.HEAP16=new Int16Array(a),b.HEAP32=O=new Int32Array(a),b.HEAPU8=M=new Uint8Array(a),b.HEAPU16=new Uint16Array(a),b.HEAPU32=new Uint32Array(a),b.HEAPF32=new Float32Array(a),b.HEAPF64=new Float64Array(a)}function P(a){for(;0<a.length;){var d,c=a.shift();"function"==typeof c?c():"number"==typeof(d=c.C)?void 0===c.w?b.dynCall_v(d):b.dynCall_vi(d,c.w):d(void 0===c.w?null:c.w)}}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),n=b.TOTAL_MEMORY||16777216,n=(buffer=b.buffer||new ArrayBuffer(n)).byteLength,fa(buffer),O[1156]=5247712;var ia=[],ja=[],ka=[],la=[],Q=(Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(a,c){var d=65535&a,f=65535&c;return d*f+((a>>>16)*f+d*(c>>>16)<<16)|0}),Math.clz32||(Math.clz32=function(a){var c=32,d=a>>16;return d&&(c-=16,a=d),(d=a>>8)&&(c-=8,a=d),(d=a>>4)&&(c-=4,a=d),(d=a>>2)&&(c-=2,a=d),a>>1?c-2:c-a}),Math.trunc||(Math.trunc=function(a){return a<0?Math.ceil(a):Math.floor(a)}),0),S=null,T=null;function C(a){throw b.onAbort&&b.onAbort(a),G(a),H(a),K=!0,"abort("+a+"). Build with -s ASSERTIONS=1 for more info."}b.preloadedImages={},b.preloadedAudios={};var E=null,U="data:application/octet-stream;base64,";function na(a){return a.replace(/\b__Z[\w\d_]+/g,function(a){return a==a?a:a+" ["+a+"]"})}function oa(){var a=Error();if(!a.stack){try{throw Error(0)}catch(c){a=c}if(!a.stack)return"(no stack trace available)"}return a.stack.toString()}var V=[null,[],[]];function W(a,c){var d=V[a];0===c||10===c?((1===a?G:H)(ca(d,0)),d.length=0):d.push(c)}function pa(a,c,d,f){try{for(var g=0,h=0;h<d;h++){for(var p=O[c+8*h>>2],k=O[c+(8*h+4)>>2],y=0;y<k;y++)W(a,M[p+y]);g+=k}return O[f>>2]=g,0}catch(R){return"undefined"!=typeof FS&&R instanceof FS.A||C(R),R.B}}function qa(){return N.length}function ra(a){try{var c=new ArrayBuffer(a);if(c.byteLength==a)return new Int8Array(c).set(N),sa(c),fa(c),1}catch(d){}}var ta=!(E="data:application/octet-stream;base64,AAAAAAAAAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUYFAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAALgLAAAABAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAK/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBbiBlcnJvciBvY2N1cnJlZCBpbiB0aGUgaW50ZXJwb2xhdGlvbiBmb3IgYmxlbmQgc2hhcGVzLiBDb21iaW5hdGlvbkNvdW50IGlzICVkLgBbQ1NNXSBbRV1XYXJwRGVmb3JtZXI6OlRyYW5zZm9ybVRhcmdldCgpIGVycm9yLiBbJWRdIHAwMT0oJS40ZiAsICUuNGYpCgBbQ1NNXSBbRV1Jbml0aWFsaXplRGVmb3JtZXJzKCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KAFtDU01dIFtFXWNzbUhhc01vY0NvbnNpc3RlbmN5OiBUaGlzIG1vYzMgc2l6ZSBpcyBpbnZhbGlkLgoATU9DMwBbQ1NNXSBbRV1jc21IYXNNb2NDb25zaXN0ZW5jeTogRmlsZVR5cGUgaXMgaW52YWxpZC4KAFtDU01dIFtFXWNzbUhhc01vY0NvbnNpc3RlbmN5OiBUaGlzIG1vYzMgdmVyIGlzIGludmFsaWQgW3ZlcjolZF0uCgBbQ1NNXSBbRV1jc21IYXNNb2NDb25zaXN0ZW5jeTogVGhlIENvcmUgdW5zdXBwb3J0IGxhdGVyIHRoYW4gbW9jMyB2ZXI6WyVkXS4gVGhpcyBtb2MzIHZlciBpcyBbJWRdLgoAW0NTTV0gW0VdY3NtSGFzTW9jQ29uc2lzdGVuY3k6IEhlYWRlciBzZWN0aW9uIGlzIGludmFsaWQuCgBbQ1NNXSBbRV1jc21IYXNNb2NDb25zaXN0ZW5jeTogRGF0YSBzZWN0aW9uIGlzIGludmFsaWQuCgBMaXZlMkQgQ3ViaXNtIFNESyBDb3JlIFZlcnNpb24gJWQuJWQuJWQAW0NTTV0gW0VdY3NtUmV2aXZlTW9jSW5QbGFjZSBpcyBmYWlsZWQuIENvcnJ1cHRlZCAgbW9jMyBmaWxlLgoAW0NTTV0gW0VdY3NtUmV2aXZlTW9jSW5QbGFjZSBpcyBmYWlsZWQuIFRoZSBDb3JlIHVuc3VwcG9ydCBsYXRlciB0aGFuIG1vYzMgdmVyOlslZF0uIFRoaXMgbW9jMyB2ZXIgaXMgWyVkXS4KAFtDU01dIFtFXWNzbUdldE1vY1ZlcnNpb24gaXMgZmFpbGVkLiBDb3JydXB0ZWQgbW9jMyBmaWxlLgoAW0NTTV0gW0VdJXM6ICVzCgBjc21HZXRNb2NWZXJzaW9uACJhZGRyZXNzIiBpcyBudWxsLgBjc21IYXNNb2NDb25zaXN0ZW5jeQAiYWRkcmVzcyIgYWxpZ25tZW50IGlzIGludmFsaWQuACJzaXplIiBpcyBpbnZhbGlkLgBjc21SZXZpdmVNb2NJblBsYWNlAGNzbVJlYWRDYW52YXNJbmZvACJtb2RlbCIgaXMgaW52YWxpZC4AIm91dFNpemVJblBpeGVscyIgaXMgbnVsbC4AIm91dE9yaWdpbkluUGl4ZWxzIiBpcyBudWxsLgAib3V0UGl4ZWxzUGVyVW5pdCIgaXMgbnVsbC4AY3NtR2V0U2l6ZW9mTW9kZWwAIm1vYyIgaXMgaW52YWxpZC4AY3NtSW5pdGlhbGl6ZU1vZGVsSW5QbGFjZQAic2l6ZSIgaXMgaW52YWxpZABjc21VcGRhdGVNb2RlbABjc21HZXRQYXJhbWV0ZXJDb3VudABjc21HZXRQYXJhbWV0ZXJJZHMAY3NtR2V0UGFyYW1ldGVyVHlwZXMAY3NtR2V0UGFyYW1ldGVyTWluaW11bVZhbHVlcwBjc21HZXRQYXJhbWV0ZXJNYXhpbXVtVmFsdWVzAGNzbUdldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMAY3NtR2V0UGFyYW1ldGVyVmFsdWVzAGNzbUdldFBhcnRDb3VudABjc21HZXRQYXJ0SWRzAGNzbUdldFBhcnRPcGFjaXRpZXMAY3NtR2V0UGFydFBhcmVudFBhcnRJbmRpY2VzAGNzbUdldERyYXdhYmxlQ291bnQAY3NtR2V0RHJhd2FibGVJZHMAY3NtR2V0RHJhd2FibGVDb25zdGFudEZsYWdzAGNzbUdldERyYXdhYmxlRHluYW1pY0ZsYWdzAGNzbUdldERyYXdhYmxlVGV4dHVyZUluZGljZXMAY3NtR2V0RHJhd2FibGVEcmF3T3JkZXJzAGNzbUdldERyYXdhYmxlUmVuZGVyT3JkZXJzAGNzbUdldERyYXdhYmxlT3BhY2l0aWVzAGNzbUdldERyYXdhYmxlTWFza0NvdW50cwBjc21HZXREcmF3YWJsZU1hc2tzAGNzbUdldERyYXdhYmxlVmVydGV4Q291bnRzAGNzbUdldERyYXdhYmxlVmVydGV4UG9zaXRpb25zAGNzbUdldERyYXdhYmxlVmVydGV4VXZzAGNzbUdldERyYXdhYmxlSW5kZXhDb3VudHMAY3NtR2V0RHJhd2FibGVJbmRpY2VzAGNzbUdldERyYXdhYmxlTXVsdGlwbHlDb2xvcnMAY3NtR2V0RHJhd2FibGVTY3JlZW5Db2xvcnMAY3NtR2V0RHJhd2FibGVQYXJlbnRQYXJ0SW5kaWNlcwBjc21SZXNldERyYXdhYmxlRHluYW1pY0ZsYWdzAGNzbUdldFBhcmFtZXRlcktleUNvdW50cwBjc21HZXRQYXJhbWV0ZXJLZXlWYWx1ZXMAW0NTTV0gW1ddUm90YXRpb25EZWZvcm1lcjogTm90IGZvdW5kIHRyYW5zZm9ybWVkIERpcmVjdGlvbi4KAFtDU01dIFtFXVVwZGF0ZURlZm9ybWVySGllcmFyY2h5KCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KACVzCgAtKyAgIDBYMHgAKG51bGwpAC0wWCswWCAwWC0weCsweCAweABpbmYASU5GAG5hbgBOQU4ALg==");function D(a){for(var c=[],d=0;d<a.length;d++){var f=a[d];255<f&&(ta&&assert(!1,"Character code "+f+" ("+String.fromCharCode(f)+")  at offset "+d+" not in 0x00-0xFF."),f&=255),c.push(String.fromCharCode(f))}return c.join("")}var ua="function"==typeof atob?atob:function(a){var c="",d=0;a=a.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d++)),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d++)),f=f<<2|g>>4,g=(15&g)<<4|h>>2,k=(3&h)<<6|p}while(c+=String.fromCharCode(f),64!==h&&(c+=String.fromCharCode(g)),64!==p&&(c+=String.fromCharCode(k)),d<a.length);return c};function B(a){if(String.prototype.startsWith?a.startsWith(U):0===a.indexOf(U)){if(a=a.slice(U.length),"boolean"==typeof r&&r){try{var c=Buffer.from(a,"base64")}catch(h){c=new Buffer(a,"base64")}var d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}else try{for(var f=ua(a),g=new Uint8Array(f.length),c=0;c<f.length;++c)g[c]=f.charCodeAt(c);d=g}catch(h){throw Error("Converting base64 string to bytes failed.")}return d}}var F,Ca,Y,q=function(global,env,buffer){var a=new global.Int8Array(buffer),b=new global.Int16Array(buffer),c=new global.Int32Array(buffer),d=new global.Uint8Array(buffer),e=new global.Uint16Array(buffer),f=new global.Float32Array(buffer),g=new global.Float64Array(buffer),h=0|env.v,q=global.Math.floor,r=global.Math.pow,s=global.Math.cos,t=global.Math.sin,u=global.Math.atan2,v=global.Math.imul,w=global.Math.clz32,x=env.a,y=env.b,z=env.c,A=env.d,B=env.e,C=env.f,D=env.g,E=env.h,F=env.i,G=env.j,H=env.k,I=env.l,J=env.m,S=4832;function qa(b,d){b|=0;var G,H,I,J,K,L,M,N,O,P,Q,R,T,U,V,W,X,Y,Z,_,ca,da,ea,fa,ga,ha,ja,ka,la,ma,na,oa,qa,sa,ta,va,wa,xa,ya,za,Aa,Ba,Da,Fa,Ha,La,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,$=0,aa=0,ba=0,ua=0,Ca=0,Ea=0,Ga=0,Ia=0,Ja=0,Ka=0,Ma=0,Na=S,f=S=S+63&-64;if(S=S+624|0,La=f+616|0,_=f+608|0,i=f+600|0,h=f+592|0,Ka=f,(d|=0)>>>0<1280)return ia(0,993,f+576|0),S=Na,(Ma=0)|Ma;if(0|yc(b))return ia(0,1057,f+584|0),S=Na,(Ma=0)|Ma;if(g=255&(f=0|a[(C=b+4|0)>>0]),!(f<<24>>24))return c[h>>2]=g,ia(0,1110,h),S=Na,(Ma=0)|Ma;if(4<(255&f))return c[i>>2]=4,c[i+4>>2]=g,ia(0,1177,i),S=Na,(Ma=0)|Ma;(y=0!=(0|a[(x=b+5|0)>>0]))&&(sb(C,1),tb(b+64|0,4,160)),$c(0|Ka,0,576),pa(b,Ka),F=0|a[C>>0],w=b+d|0,f=128+(z=0|c[Ka>>2])|0;a:do{if(z>>>0<b>>>0|w>>>0<z>>>0||f>>>0<b>>>0|w>>>0<f>>>0||(o=(m=0|c[Ka+4>>2])+64|0,m>>>0<b>>>0|w>>>0<m>>>0)||m>>>0<f>>>0|o>>>0<b>>>0|w>>>0<o>>>0||!(-1<(0|($=0|c[z>>2])))||(p=(n=0|c[Ka+8>>2])+(u=$<<2)|0,n>>>0<b>>>0|w>>>0<n>>>0)||n>>>0<o>>>0|p>>>0<b>>>0|w>>>0<p>>>0||(q=(aa=0|c[(ba=Ka+12|0)>>2])+($<<6)|0,aa>>>0<b>>>0|w>>>0<aa>>>0)||aa>>>0<p>>>0|q>>>0<b>>>0|w>>>0<q>>>0||(r=(j=0|c[(ua=Ka+16|0)>>2])+u|0,j>>>0<b>>>0|w>>>0<j>>>0)||j>>>0<q>>>0|r>>>0<b>>>0|w>>>0<r>>>0||(s=(k=0|c[(Ca=Ka+20|0)>>2])+u|0,k>>>0<b>>>0|w>>>0<k>>>0)||k>>>0<r>>>0|s>>>0<b>>>0|w>>>0<s>>>0||(t=(l=0|c[(Ea=Ka+24|0)>>2])+u|0,l>>>0<b>>>0|w>>>0<l>>>0))Ma=319;else{if(l>>>0<s>>>0|t>>>0<b>>>0|w>>>0<t>>>0){Ma=319;break}if(g=(f=0|c[(Y=Ka+28|0)>>2])+u|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<t>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(o=Ka+32|0)>>2])+u|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(i=(f=0|c[(Z=Ka+36|0)>>2])+u|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(g=0|c[z+4>>2]))<=-1){Ma=319;break}if(h=(f=0|c[Ka+40>>2])+(d=g<<2)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(t=Ka+44|0)>>2])+(g<<6)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(n=Ka+48|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(A=Ka+52|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(u=Ka+56|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(D=Ka+60|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(B=Ka+64|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(p=Ka+68|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(E=Ka+72|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(f=0|c[z+8>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+76>>2])+(m=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if(g=(f=0|c[(ga=Ka+80|0)>>2])+m|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(Ja=Ka+84|0)>>2])+m|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(Ga=Ka+92|0)>>2])+m|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(sa=Ka+96|0)>>2])+m|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(i=(f=0|c[(ea=Ka+100|0)>>2])+m|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(f=0|c[z+12>>2]))<=-1){Ma=319;break}if(h=(g=0|c[Ka+108>>2])+(l=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(ya=Ka+112|0)>>2])+l|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(Ia=Ka+116|0)>>2])+l|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+124>>2])+l|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if((0|(i=0|c[z+16>>2]))<=-1){Ma=319;break}if(h=(f=0|c[Ka+128>>2])+(k=i<<2)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+132>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[Ka+136>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+140>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(ca=Ka+144|0)>>2])+(i<<6)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(fa=Ka+148|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(ha=Ka+152|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(Ha=Ka+156|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(xa=Ka+164|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(wa=Ka+168|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(Aa=Ka+172|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(za=Ka+176|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(Ba=Ka+180|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+184>>2])+i|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(Fa=Ka+188|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(la=Ka+192|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(qa=Ka+196|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(ka=Ka+200|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(va=Ka+204|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(i=(f=0|c[(ta=Ka+208|0)>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(g=0|c[z+20>>2]))<=-1){Ma=319;break}if(h=(f=0|c[Ka+212>>2])+(j=g<<2)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(Da=Ka+216|0)>>2])+(g<<6)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[Ka+220>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+224>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[Ka+228>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(na=Ka+232|0)>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(ma=Ka+236|0)>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(oa=Ka+244|0)>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(ja=Ka+248|0)>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(f=0|c[z+24>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+272>>2])+(f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(f=0|c[z+28>>2]))<=-1){Ma=319;break}if(d=(g=0|c[Ka+276>>2])+(h=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<i>>>0|d>>>0<b>>>0|w>>>0<d>>>0){Ma=319;break}if(i=(f=0|c[(da=Ka+280|0)>>2])+h|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<d>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(f=0|c[z+32>>2]))<=-1){Ma=319;break}if(h=(g=0|c[Ka+284>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+288>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[Ka+292>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+296>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[Ka+300>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(r=Ka+304|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(i=(f=0|c[(X=Ka+308|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(f=0|c[z+36>>2]))<=-1){Ma=319;break}if(h=(g=0|c[Ka+312>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+316>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(W=Ka+320|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(f=0|c[z+40>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+324>>2])+(f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(f=0|c[z+44>>2]))<=-1){Ma=319;break}if(d=(g=0|c[(V=Ka+336|0)>>2])+(f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<i>>>0|d>>>0<b>>>0|w>>>0<d>>>0){Ma=319;break}if((0|(f=0|c[z+48>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+340>>2])+(h=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<d>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if(d=(f=0|c[(U=Ka+344|0)>>2])+h|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|d>>>0<b>>>0|w>>>0<d>>>0){Ma=319;break}if((0|(f=0|c[z+52>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+328>>2])+(h=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<d>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if(h=(f=0|c[(s=Ka+332|0)>>2])+h|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(f=0|c[z+56>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+428>>2])+(f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(f=0|c[z+60>>2]))<=-1){Ma=319;break}if(h=(g=0|c[Ka+432>>2])+(f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(f=0|c[z+64>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+436>>2])+(f<<1)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if((0|(f=0|c[z+68>>2]))<=-1){Ma=319;break}if(h=(g=0|c[(T=Ka+440|0)>>2])+(f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(f=0|c[z+72>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+444>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if(g=(f=0|c[(R=Ka+448|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[Ka+452>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[Ka+456>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[Ka+460>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(f=0|c[z+76>>2]))<=-1){Ma=319;break}if(i=(g=0|c[Ka+464>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if(g=(f=0|c[(K=Ka+468|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(Q=Ka+472|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(g=0|c[z+80>>2]))<=-1){Ma=319;break}if(i=(f=0|c[Ka+476>>2])+(d=g<<2)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if(g=(f=0|c[(J=Ka+480|0)>>2])+(g<<6)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(H=Ka+484|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(I=Ka+488|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(G=Ka+492|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(L=Ka+496|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(O=Ka+500|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if(g=(f=0|c[(P=Ka+504|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(h=(f=0|c[(M=Ka+508|0)>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}if((0|(g=0|c[z+84>>2]))<=-1){Ma=319;break}if(i=(f=0|c[Ka+512>>2])+(g<<2)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break}if(d=(f=0|c[(N=Ka+516|0)>>2])+(g<<1)|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break}if(f>>>0<i>>>0|d>>>0<b>>>0|w>>>0<d>>>0){Ma=319;break}if((0|(f=0|c[z+88>>2]))<=-1){Ma=319;break}if(h=(g=0|c[Ka+520>>2])+(f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break}if(g>>>0<d>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break}do{if(1<(255&F)){if(g=(f=0|c[Ka+104>>2])+m|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if((255&F)<=3)break;if(h=(f=0|c[Ka+260>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+264>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(i=(f=0|c[Ka+268>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if(h=(f=0|c[Ka+88>>2])+m|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+120>>2])+l|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(i=(f=0|c[Ka+160>>2])+k|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if((0|(f=0|c[z+92>>2]))<=-1){Ma=319;break a}if(h=(g=0|c[Ka+524>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+528>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(i=(f=0|c[Ka+532>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if((0|(f=0|c[z+96>>2]))<=-1){Ma=319;break a}if(h=(g=0|c[Ka+536>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(i=(f=0|c[Ka+540>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if(g=(f=0|c[Ka+544>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<i>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(h=(f=0|c[Ka+240>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+252>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(i=(f=0|c[Ka+256>>2])+j|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if((0|(f=0|c[z+100>>2]))<=-1){Ma=319;break a}if(h=(g=0|c[Ka+348>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+352>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(i=(f=0|c[Ka+356>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if((0|(f=0|c[z+104>>2]))<=-1){Ma=319;break a}if(h=(g=0|c[Ka+360>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+364>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(h=(f=0|c[Ka+368>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+372>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(i=(f=0|c[Ka+376>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if((0|(f=0|c[z+108>>2]))<=-1){Ma=319;break a}if(h=(g=0|c[Ka+380>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+384>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(i=(f=0|c[Ka+388>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if((0|(f=0|c[z+112>>2]))<=-1){Ma=319;break a}if(h=(g=0|c[Ka+392>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+396>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(h=(f=0|c[Ka+400>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if((0|(f=0|c[z+116>>2]))<=-1){Ma=319;break a}if(i=(g=0|c[Ka+404>>2])+(f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<h>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if((0|(f=0|c[z+120>>2]))<=-1){Ma=319;break a}if(h=(g=0|c[Ka+408>>2])+(d=f<<2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(g=(f=0|c[Ka+412>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<h>>>0|g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(i=(f=0|c[Ka+416>>2])+d|0,f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}if(f>>>0<g>>>0|i>>>0<b>>>0|w>>>0<i>>>0){Ma=319;break a}if((0|(f=0|c[z+124>>2]))<=-1){Ma=319;break a}if(h=(g=0|c[Ka+420>>2])+(f<<=2)|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<i>>>0|h>>>0<b>>>0|w>>>0<h>>>0){Ma=319;break a}if(f=(g=0|c[Ka+424>>2])+f|0,g>>>0<b>>>0|w>>>0<g>>>0){Ma=319;break a}if(g>>>0<h>>>0|f>>>0<b>>>0|w>>>0<f>>>0){Ma=319;break a}}}while(0);C=y?(ra(b),aa=(a[x>>0]=0)|c[Ka>>2],F=0|a[C>>0],q=0|c[aa>>2],b=aa,g=0|c[ba>>2],aa):(q=$,g=aa,b=z);b:do{if(0<(0|q)){f=0;do{if(63<(0|Ac(g+(f<<6)|0))>>>0)break b}while((0|(f=f+1|0))<(0|q));f=0|c[ua>>2],g=0|c[(h=b+48|0)>>2],i=0;do{if(ua=0|c[f+(i<<2)>>2],i=i+1|0,(0|ua)<0|(0|g)<=(0|ua))break b}while((0|i)<(0|q));k=0|c[Ca>>2],f=0|c[Ea>>2],g=0|c[b+24>>2],j=0;do{if(0|(i=0|c[f+(j<<2)>>2])){if((0|i)<0|(0|g)<(0|i))break b;if(!(-1<(0|(d=0|c[k+(j<<2)>>2]))&(0|d)<(0|g)))break b;if((Ea=d+i|0)>>>31|(0|g)<(0|Ea)|0)break b}}while((0|(j=j+1|0))<(0|q));f=0|c[Y>>2],g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break b}while((0|(g=g+1|0))<(0|q));f=0|c[o>>2],g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break b}while((0|(g=g+1|0))<(0|q));for(f=0|c[Z>>2],g=0;;){if(Ea=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ea)<-1|(0|q)<=(0|Ea))break b;if((0|q)<=(0|g)){Ma=345;break}}}else h=b+48|0,Ma=345}while(0);c:do{if(345==(0|Ma)){o=0|c[b+4>>2],f=0|c[t>>2];d:do{if(0<(0|o)){g=0;do{if(63<(0|Ac(f+(g<<6)|0))>>>0)break c}while((0|(g=g+1|0))<(0|o));g=0|c[n>>2],l=0|c[h>>2],f=0;do{if(Ea=0|c[g+(f<<2)>>2],f=f+1|0,(0|Ea)<0|(0|l)<=(0|Ea))break c}while((0|f)<(0|o));f=0|c[A>>2],g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break c}while((0|(g=g+1|0))<(0|o));f=0|c[u>>2],g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break c}while((0|(g=g+1|0))<(0|o));f=0|c[D>>2],g=0;do{if(Ea=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ea)<-1|(0|q)<=(0|Ea))break c}while((0|g)<(0|o));f=0|c[B>>2],g=0;do{if(Ea=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ea)<-1|(0|o)<=(0|Ea))break c}while((0|g)<(0|o));k=0|c[p>>2],f=0;do{if(1<(0|c[k+(f<<2)>>2])>>>0)break c}while((0|(f=f+1|0))<(0|o));for(g=0|c[E>>2],f=b+8|0,i=b+12|0,j=0;;){switch(h=0|c[g+(j<<2)>>2],0|c[k+(j<<2)>>2]){case 0:d=f;break;case 1:d=i;break;default:break c}if((0|h)<=-1)break c;if(j=j+1|0,(0|h)>=(0|c[d>>2]))break c;if((0|o)<=(0|j)){w=l;break d}}}else w=0|c[h>>2],f=b+8|0}while(0);if(E=0|c[f>>2],f=0|c[Ka+76>>2],B=0<(0|E)){g=0;do{if(Ea=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ea)<0|(0|w)<=(0|Ea))break c}while((0|g)<(0|E));f=0|c[ga>>2],g=0|c[Ja>>2],h=0|c[(k=b+28|0)>>2],j=0;do{if(0|(i=0|c[g+(j<<2)>>2])){if((0|i)<0|(0|h)<(0|i))break c;if(!(-1<(0|(d=0|c[f+(j<<2)>>2]))&(0|d)<(0|h)))break c;if((Ea=d+i|0)>>>31|(0|h)<(0|Ea)|0)break c}}while((0|(j=j+1|0))<(0|E));for(i=0|c[sa>>2],f=0|c[ea>>2],g=0|c[Ga>>2],h=0;;){if(ua=0|c[i+(h<<2)>>2],Ca=0|c[f+(h<<2)>>2],Ea=0|c[g+(h<<2)>>2],h=h+1|0,!((0|v(Ca+1|0,ua+1|0))==(0|Ea)&0<(0|ua)&0<(0|Ca)&0<(0|Ea)))break c;if((0|E)<=(0|h)){D=k;break}}}else D=b+28|0;if(z=0|c[b+12>>2],f=0|c[Ka+108>>2],y=0<(0|z)){g=0;do{if(Ea=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ea)<0|(0|w)<=(0|Ea))break c}while((0|g)<(0|z));for(f=0|c[ya>>2],g=0|c[Ia>>2],h=0|c[(j=b+32|0)>>2],k=0;;){if(0|(i=0|c[g+(k<<2)>>2])){if((0|i)<0|(0|h)<(0|i))break c;if(!(-1<(0|(d=0|c[f+(k<<2)>>2]))&(0|d)<(0|h)))break c;if((Ea=d+i|0)>>>31|(0|h)<(0|Ea)|0)break c}if((0|z)<=(0|(k=k+1|0))){m=j;break}}}else m=b+32|0;if(p=0|c[(u=b+16|0)>>2],f=0|c[ca>>2],n=0<(0|p)){g=0;do{if(63<(0|Ac(f+(g<<6)|0))>>>0)break c}while((0|(g=g+1|0))<(0|p));f=0|c[fa>>2],g=0;do{if(Ea=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ea)<0|(0|w)<=(0|Ea))break c}while((0|g)<(0|p));f=0|c[ha>>2],g=0|c[Ha>>2],h=0|c[(l=b+36|0)>>2],j=0;do{if(0|(i=0|c[g+(j<<2)>>2])){if((0|i)<0|(0|h)<(0|i))break c;if(!(-1<(0|(d=0|c[f+(j<<2)>>2]))&(0|d)<(0|h)))break c;if((Ea=d+i|0)>>>31|(0|h)<(0|Ea)|0)break c}}while((0|(j=j+1|0))<(0|p));f=0|c[xa>>2],g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break c}while((0|(g=g+1|0))<(0|p));f=0|c[wa>>2],g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break c}while((0|(g=g+1|0))<(0|p));f=0|c[Aa>>2],g=0;do{if(Ea=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ea)<-1|(0|q)<=(0|Ea))break c}while((0|g)<(0|p));f=0|c[za>>2],g=0;do{if(Ea=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ea)<-1|(0|o)<=(0|Ea))break c}while((0|g)<(0|p));f=0|c[Ba>>2],g=0;do{if((0|c[f+(g<<2)>>2])<0)break c}while((0|(g=g+1|0))<(0|p));i=0|c[Fa>>2],f=0;do{if((0|c[i+(f<<2)>>2])<0)break c}while((0|(f=f+1|0))<(0|p));f=0|c[la>>2],g=0|c[b+60>>2],h=0;do{if(Ea=(0|c[f+(h<<2)>>2])+(c[i+(h<<2)>>2]<<1)|0,h=h+1|0,Ea>>>31|(0|g)<(0|Ea)|0)break c}while((0|h)<(0|p));j=0|c[qa>>2],f=0|c[ka>>2],g=0|c[b+64>>2],d=0;do{if(0|(h=0|c[f+(d<<2)>>2])){if((0|h)<0|(0|g)<(0|h))break c;if(!(-1<(0|(i=0|c[j+(d<<2)>>2]))&(0|i)<(0|g)))break c;if((Ea=i+h|0)>>>31|(0|g)<(0|Ea)|0)break c}}while((0|(d=d+1|0))<(0|p));for(j=0|c[va>>2],f=0|c[ta>>2],g=0|c[(k=b+68|0)>>2],d=0;;){if(0|(h=0|c[f+(d<<2)>>2])){if((0|h)<0|(0|g)<(0|h))break c;if(!(-1<(0|(i=0|c[j+(d<<2)>>2]))&(0|i)<(0|g)))break c;if((Ea=i+h|0)>>>31|(0|g)<(0|Ea)|0)break c}if((0|p)<=(0|(d=d+1|0))){x=l;break}}}else x=b+36|0,k=b+68|0;if(A=0|c[b+20>>2],f=0|c[Da>>2],t=0<(0|A)){g=0;do{if(63<(0|Ac(f+(g<<6)|0))>>>0)break c}while((0|(g=g+1|0))<(0|A));f=0|c[na>>2],g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break c}while((0|(g=g+1|0))<(0|A));f=0|c[ma>>2],g=0;do{if((0|c[f+(g<<2)>>2])<0)break c}while((0|(g=g+1|0))<(0|A));for(j=0|c[oa>>2],f=0|c[ja>>2],g=0|c[b+52>>2],d=0;;){if(0|(h=0|c[f+(d<<2)>>2])){if((0|h)<0|(0|g)<(0|h))break c;if(!(-1<(0|(i=0|c[j+(d<<2)>>2]))&(0|i)<(0|g)))break c;if((Ea=i+h|0)>>>31|(0|g)<(0|Ea)|0)break c}if((0|A)<=(0|(d=d+1|0))){l=g;break}}}else l=0|c[b+52>>2];if(h=0|c[Ga>>2],f=0|c[da>>2],i=0|c[b+40>>2],B){g=0;do{if(Ga=(0|c[f+(g<<2)>>2])+(c[h+(g<<2)>>2]<<1)|0,g=g+1|0,Ga>>>31|(0|i)<(0|Ga)|0)break c}while((0|g)<(0|E))}if(h=0|c[m>>2],f=0|c[r>>2],0<(0|h)){g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break c}while((0|(g=g+1|0))<(0|h));f=0|c[X>>2],g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break c}while((0|(g=g+1|0))<(0|h))}if(r=0|c[Fa>>2],g=0|c[W>>2],n){f=0;do{if(Ga=(0|c[g+(f<<2)>>2])+(c[r+(f<<2)>>2]<<1)|0,f=f+1|0,Ga>>>31|(0|i)<(0|Ga)|0)break c}while((0|f)<(0|p))}if(j=0|c[b+44>>2],f=0|c[V>>2],0<(0|j)){g=0;do{if(Ga=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ga)<0|(0|l)<=(0|Ga))break c}while((0|g)<(0|j))}if(d=0|c[Ka+340>>2],f=0|c[U>>2],0<(0|w)){i=0;do{if(0|(g=0|c[f+(i<<2)>>2])){if((0|g)<0|(0|j)<(0|g))break c;if(!(-1<(0|(h=0|c[d+(i<<2)>>2]))&(0|h)<(0|j)))break c;if((Ga=h+g|0)>>>31|(0|j)<(0|Ga)|0)break c}}while((0|(i=i+1|0))<(0|w))}if(d=0|c[Ka+328>>2],f=0|c[s>>2],s=0|c[b+56>>2],0<(0|l)){i=0;do{if(0|(g=0|c[f+(i<<2)>>2])){if((0|g)<0|(0|s)<(0|g))break c;if(!(-1<(0|(h=0|c[d+(i<<2)>>2]))&(0|h)<(0|s)))break c;if((Ga=h+g|0)>>>31|(0|s)<(0|Ga)|0)break c}}while((0|(i=i+1|0))<(0|l))}if(h=0|c[k>>2],f=0|c[T>>2],0<(0|h)){g=0;do{if(Ga=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ga)<-1|(0|p)<=(0|Ga))break c}while((0|g)<(0|h))}if(k=0|c[b+72>>2],d=0|c[Ka+444>>2],f=0|c[R>>2],j=0|c[b+76>>2],0<(0|k)){i=0;do{if(0|(g=0|c[f+(i<<2)>>2])){if((0|g)<0|(0|j)<(0|g))break c;if(!(-1<(0|(h=0|c[d+(i<<2)>>2]))&(0|h)<(0|j)))break c;if((Ga=h+g|0)>>>31|(0|j)<(0|Ga)|0)break c}}while((0|(i=i+1|0))<(0|k))}if(d=0|c[Ka+464>>2],0<(0|j)){f=0;do{if(1<(0|c[d+(f<<2)>>2])>>>0)break c}while((0|(f=f+1|0))<(0|j));f=0|c[K>>2],i=0;do{switch(g=0|c[f+(i<<2)>>2],0|c[d+(i<<2)>>2]){case 0:h=u;break;case 1:h=C;break;default:break c}if((0|g)<=-1)break c;if(i=i+1|0,(0|g)>=(0|c[h>>2]))break c}while((0|i)<(0|j));f=0|c[Q>>2],g=0;do{if(Ga=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ga)<-1|(0|k)<=(0|Ga))break c}while((0|g)<(0|j))}if(q=0|c[b+80>>2],f=0|c[J>>2],0<(0|q)){g=0;do{if(63<(0|Ac(f+(g<<6)|0))>>>0)break c}while((0|(g=g+1|0))<(0|q));f=0|c[H>>2],g=0;do{if(Ga=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ga)<0|(0|w)<=(0|Ga))break c}while((0|g)<(0|q));j=0|c[I>>2],f=0|c[G>>2],g=0|c[b+88>>2],d=0;do{if(0|(h=0|c[f+(d<<2)>>2])){if((0|h)<0|(0|g)<(0|h))break c;if(!(-1<(0|(i=0|c[j+(d<<2)>>2]))&(0|i)<(0|g)))break c;if((Ga=i+h|0)>>>31|(0|g)<(0|Ga)|0)break c}}while((0|(d=d+1|0))<(0|q));p=0|c[L>>2],o=0|c[u>>2],f=0;do{if(Ga=0|c[p+(f<<2)>>2],f=f+1|0,(0|Ga)<0|(0|o)<=(0|Ga))break c}while((0|f)<(0|q));n=0|c[O>>2],f=0;do{if(Ga=0|c[n+(f<<2)>>2],f=f+1|0,(0|Ga)<0|(0|o)<=(0|Ga))break c}while((0|f)<(0|q));m=0|c[P>>2],l=0|c[M>>2],f=0|c[b+84>>2],i=0;do{if(0|(g=0|c[l+(i<<2)>>2])){if((0|g)<0|(0|f)<(0|g))break c;if(!(-1<(0|(h=0|c[m+(i<<2)>>2]))&(0|h)<(0|f)))break c;if((Ga=h+g|0)>>>31|(0|f)<(0|Ga)|0)break c}}while((0|(i=i+1|0))<(0|q));f=0|c[N>>2],j=0;do{if(g=0|c[r+(c[p+(j<<2)>>2]<<2)>>2],h=0|c[r+(c[n+(j<<2)>>2]<<2)>>2],i=0|c[l+(j<<2)>>2],d=f+(c[m+(j<<2)>>2]<<1)|0,0<(0|i)){k=0;do{if(!((0|g)>(0|e[d+(k<<1)>>1])&&(0|h)>(0|e[d+((1|k)<<1)>>1])))break c}while((0|(k=k+2|0))<(0|i))}}while((0|(j=j+1|0))<(0|q))}else o=0|c[u>>2];if((255&F)<=1){f=1;break a}if(f=0|c[Ka+104>>2],B){g=0;do{if(1<(0|c[f+(g<<2)>>2])>>>0)break c}while((0|(g=g+1|0))<(0|E))}if((255&F)<=3){f=1;break a}if(f=0|c[Ka+264>>2],g=0|c[Ka+268>>2],t){d=0;do{if(0|(h=0|c[g+(d<<2)>>2])){if((0|h)<0|(0|s)<(0|h))break c;if(!(-1<(0|(i=0|c[f+(d<<2)>>2]))&(0|i)<(0|s)))break c;if((Ga=i+h|0)>>>31|(0|s)<(0|Ga)|0)break c}}while((0|(d=d+1|0))<(0|A))}if((0|(j=0|c[b+92>>2]))!=(0|c[b+96>>2]))break;if(d=0|c[Ka+88>>2],i=0|c[Ja>>2],B){h=0;do{if(0|(f=0|c[i+(h<<2)>>2])){if((0|f)<0|(0|j)<(0|f))break c;if(!(-1<(0|(g=0|c[d+(h<<2)>>2]))&(0|g)<(0|j)))break c;if((Ja=g+f|0)>>>31|(0|j)<(0|Ja)|0)break c}}while((0|(h=h+1|0))<(0|E))}if(d=0|c[Ka+120>>2],i=0|c[Ia>>2],y){h=0;do{if(0|(f=0|c[i+(h<<2)>>2])){if((0|f)<0|(0|j)<(0|f))break c;if(!(-1<(0|(g=0|c[d+(h<<2)>>2]))&(0|g)<(0|j)))break c;if((Ja=g+f|0)>>>31|(0|j)<(0|Ja)|0)break c}}while((0|(h=h+1|0))<(0|z))}if(d=0|c[Ka+160>>2],f=0|c[Ha>>2],0<(0|o)){i=0;do{if(0|(g=0|c[f+(i<<2)>>2])){if((0|g)<0|(0|j)<(0|g))break c;if(!(-1<(0|(h=0|c[d+(i<<2)>>2]))&(0|h)<(0|j)))break c;if((Ja=h+g|0)>>>31|(0|j)<(0|Ja)|0)break c}}while((0|(i=i+1|0))<(0|o))}if(g=0|c[Ka+240>>2],t){f=0;do{if(1<(0|c[g+(f<<2)>>2])>>>0)break c}while((0|(f=f+1|0))<(0|A));for(f=0|c[Ka+252>>2],g=0|c[Ka+256>>2],h=0|c[b+100>>2],j=0;;){if(0|(i=0|c[g+(j<<2)>>2])){if((0|i)<0|(0|h)<(0|i))break c;if(!(-1<(0|(d=0|c[f+(j<<2)>>2]))&(0|d)<(0|h)))break c;if((Ja=d+i|0)>>>31|(0|h)<(0|Ja)|0)break c}if((0|A)<=(0|(j=j+1|0))){j=h;break}}}else j=0|c[b+100>>2];if(f=0|c[Ka+348>>2],d=0|c[Ka+352>>2],0<(0|j)){i=0;do{if(0|(g=0|c[d+(i<<2)>>2])){if((0|g)<0|(0|s)<(0|g))break c;if(!(-1<(0|(h=0|c[f+(i<<2)>>2]))&(0|h)<(0|s)))break c;if((Ja=h+g|0)>>>31|(0|s)<(0|Ja)|0)break c}}while((0|(i=i+1|0))<(0|j));f=0|c[Ka+356>>2],h=0;do{if((0|(g=0|c[f+(h<<2)>>2]))<=-1)break c;if((0|g)>=(0|c[d+(h<<2)>>2]))break c}while((0|(h=h+1|0))<(0|j))}if(n=0|c[b+104>>2],f=0|c[Ka+360>>2],0<(0|n)){g=0;do{if(Ja=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ja)<0|(0|j)<=(0|Ja))break c}while((0|g)<(0|n));for(f=0|c[Ka+372>>2],g=0|c[Ka+376>>2],h=0|c[b+116>>2],j=0;;){if(0|(i=0|c[g+(j<<2)>>2])){if((0|i)<0|(0|h)<(0|i))break c;if(!(-1<(0|(d=0|c[f+(j<<2)>>2]))&(0|d)<(0|h)))break c;if((Ja=d+i|0)>>>31|(0|h)<(0|Ja)|0)break c}if((0|n)<=(0|(j=j+1|0))){m=h;break}}}else m=0|c[b+116>>2];if(l=0|c[b+108>>2],f=0|c[Ka+380>>2],0<(0|l)){g=0;do{if(Ja=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ja)<0|(0|E)<=(0|Ja))break c}while((0|g)<(0|l));k=0|c[Ka+384>>2],f=0|c[Ka+388>>2],i=0;do{if(0|(g=0|c[f+(i<<2)>>2])){if((0|g)<0|(0|n)<(0|g))break c;if(!(-1<(0|(h=0|c[k+(i<<2)>>2]))&(0|h)<(0|n)))break c;if((Ja=h+g|0)>>>31|(0|n)<(0|Ja)|0)break c}}while((0|(i=i+1|0))<(0|l));j=0|c[Ka+364>>2],d=0|c[Ka+368>>2],f=0|c[D>>2],i=0;do{if(g=0|c[k+(i<<2)>>2],0|(h=0|c[d+(g<<2)>>2])){if((0|h)<0|(0|f)<(0|h))break c;if(!(-1<(0|(Ia=0|c[j+(g<<2)>>2]))&(0|Ia)<(0|f)&0==((Ja=Ia+h|0)>>>31|(0|f)<(0|Ja)|0)))break c}}while((0|(i=i+1|0))<(0|l))}else d=0|c[Ka+368>>2],j=0|c[Ka+364>>2];if(l=0|c[b+112>>2],f=0|c[Ka+392>>2],0<(0|l)){g=0;do{if(Ja=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ja)<0|(0|o)<=(0|Ja))break c}while((0|g)<(0|l));k=0|c[Ka+396>>2],f=0|c[Ka+400>>2],i=0;do{if(0|(g=0|c[f+(i<<2)>>2])){if((0|g)<0|(0|n)<(0|g))break c;if(!(-1<(0|(h=0|c[k+(i<<2)>>2]))&(0|h)<(0|n)))break c;if((Ja=h+g|0)>>>31|(0|n)<(0|Ja)|0)break c}}while((0|(i=i+1|0))<(0|l));f=0|c[x>>2],i=0;do{if(g=0|c[k+(i<<2)>>2],0|(h=0|c[d+(g<<2)>>2])){if((0|h)<0|(0|f)<(0|h))break c;if(!(-1<(0|(Ia=0|c[j+(g<<2)>>2]))&(0|Ia)<(0|f)&0==((Ja=Ia+h|0)>>>31|(0|f)<(0|Ja)|0)))break c}}while((0|(i=i+1|0))<(0|l))}if(f=0|c[Ka+404>>2],k=0|c[b+120>>2],0<(0|m)){g=0;do{if(Ja=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ja)<0|(0|k)<=(0|Ja))break c}while((0|g)<(0|m))}if(f=0|c[Ka+408>>2],(0|k)<=0){f=1;break a}g=0;do{if(Ja=0|c[f+(g<<2)>>2],g=g+1|0,(0|Ja)<-1|(0|A)<=(0|Ja))break c}while((0|g)<(0|k));for(j=0|c[Ka+412>>2],d=0|c[Ka+416>>2],f=0|c[b+124>>2],i=0;;){if(0|(g=0|c[d+(i<<2)>>2])){if((0|g)<0|(0|f)<(0|g))break c;if(!(-1<(0|(h=0|c[j+(i<<2)>>2]))&(0|h)<(0|f)))break c;if((Ka=h+g|0)>>>31|(0|f)<(0|Ka)|0)break c}if((0|k)<=(0|(i=i+1|0))){f=1;break a}}}}while(0);ia(0,1336,La),f=0}}while(0);return 319==(0|Ma)&&(ia(0,1277,_),sb(C,1),tb(b+64|0,4,160),f=0),S=Na,0|f}function ra(b){var f,e,d=0|a[4+(b|=0)>>0];tb(0|c[(e=b+704|0)>>2],4,32),sb(0|c[(f=b+708|0)>>2],4),sb(4+(0|c[f>>2])|0,4),sb(8+(0|c[f>>2])|0,4),sb(12+(0|c[f>>2])|0,4),sb(16+(0|c[f>>2])|0,4),sb(20+(0|c[f>>2])|0,1),tb(0|c[b+720>>2],4,0|c[c[e>>2]>>2]),tb(0|c[b+724>>2],4,0|c[c[e>>2]>>2]),tb(0|c[b+728>>2],4,0|c[c[e>>2]>>2]),tb(0|c[b+732>>2],4,0|c[c[e>>2]>>2]),tb(0|c[b+736>>2],4,0|c[c[e>>2]>>2]),tb(0|c[b+740>>2],4,0|c[c[e>>2]>>2]),tb(0|c[b+752>>2],4,0|c[4+(0|c[e>>2])>>2]),tb(0|c[b+756>>2],4,0|c[4+(0|c[e>>2])>>2]),tb(0|c[b+760>>2],4,0|c[4+(0|c[e>>2])>>2]),tb(0|c[b+764>>2],4,0|c[4+(0|c[e>>2])>>2]),tb(0|c[b+768>>2],4,0|c[4+(0|c[e>>2])>>2]),tb(0|c[b+772>>2],4,0|c[4+(0|c[e>>2])>>2]),tb(0|c[b+776>>2],4,0|c[4+(0|c[e>>2])>>2]),tb(0|c[b+780>>2],4,0|c[8+(0|c[e>>2])>>2]),tb(0|c[b+784>>2],4,0|c[8+(0|c[e>>2])>>2]),tb(0|c[b+788>>2],4,0|c[8+(0|c[e>>2])>>2]),tb(0|c[b+796>>2],4,0|c[8+(0|c[e>>2])>>2]),tb(0|c[b+800>>2],4,0|c[8+(0|c[e>>2])>>2]),tb(0|c[b+804>>2],4,0|c[8+(0|c[e>>2])>>2]),tb(0|c[b+812>>2],4,0|c[12+(0|c[e>>2])>>2]),tb(0|c[b+816>>2],4,0|c[12+(0|c[e>>2])>>2]),tb(0|c[b+820>>2],4,0|c[12+(0|c[e>>2])>>2]),tb(0|c[b+828>>2],4,0|c[12+(0|c[e>>2])>>2]),tb(0|c[b+852>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+856>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+860>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+868>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+872>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+876>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+880>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+884>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+888>>2],1,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+892>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+896>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+900>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+904>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+908>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+912>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+924>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+928>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+932>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+936>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+940>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+948>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+952>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+976>>2],4,0|c[24+(0|c[e>>2])>>2]),tb(0|c[b+980>>2],4,0|c[28+(0|c[e>>2])>>2]),tb(0|c[b+984>>2],4,0|c[28+(0|c[e>>2])>>2]),tb(0|c[b+988>>2],4,0|c[32+(0|c[e>>2])>>2]),tb(0|c[b+992>>2],4,0|c[32+(0|c[e>>2])>>2]),tb(0|c[b+996>>2],4,0|c[32+(0|c[e>>2])>>2]),tb(0|c[b+1e3>>2],4,0|c[32+(0|c[e>>2])>>2]),tb(0|c[b+1004>>2],4,0|c[32+(0|c[e>>2])>>2]),tb(0|c[b+1008>>2],4,0|c[32+(0|c[e>>2])>>2]),tb(0|c[b+1012>>2],4,0|c[32+(0|c[e>>2])>>2]),tb(0|c[b+1016>>2],4,0|c[36+(0|c[e>>2])>>2]),tb(0|c[b+1020>>2],4,0|c[36+(0|c[e>>2])>>2]),tb(0|c[b+1024>>2],4,0|c[36+(0|c[e>>2])>>2]),tb(0|c[b+1028>>2],4,0|c[40+(0|c[e>>2])>>2]),tb(0|c[b+1040>>2],4,0|c[44+(0|c[e>>2])>>2]),tb(0|c[b+1044>>2],4,0|c[48+(0|c[e>>2])>>2]),tb(0|c[b+1048>>2],4,0|c[48+(0|c[e>>2])>>2]),tb(0|c[b+1032>>2],4,0|c[52+(0|c[e>>2])>>2]),tb(0|c[b+1036>>2],4,0|c[52+(0|c[e>>2])>>2]),tb(0|c[b+1132>>2],4,0|c[56+(0|c[e>>2])>>2]),tb(0|c[b+1136>>2],4,0|c[60+(0|c[e>>2])>>2]),tb(0|c[b+1140>>2],2,0|c[64+(0|c[e>>2])>>2]),tb(0|c[b+1144>>2],4,0|c[68+(0|c[e>>2])>>2]),tb(0|c[b+1148>>2],4,0|c[72+(0|c[e>>2])>>2]),tb(0|c[b+1152>>2],4,0|c[72+(0|c[e>>2])>>2]),tb(0|c[b+1156>>2],4,0|c[72+(0|c[e>>2])>>2]),tb(0|c[b+1160>>2],4,0|c[72+(0|c[e>>2])>>2]),tb(0|c[b+1164>>2],4,0|c[72+(0|c[e>>2])>>2]),tb(0|c[b+1168>>2],4,0|c[76+(0|c[e>>2])>>2]),tb(0|c[b+1172>>2],4,0|c[76+(0|c[e>>2])>>2]),tb(0|c[b+1176>>2],4,0|c[76+(0|c[e>>2])>>2]),tb(0|c[b+1188>>2],4,0|c[80+(0|c[e>>2])>>2]),tb(0|c[b+1192>>2],4,0|c[80+(0|c[e>>2])>>2]),tb(0|c[b+1196>>2],4,0|c[80+(0|c[e>>2])>>2]),tb(0|c[b+1200>>2],4,0|c[80+(0|c[e>>2])>>2]),tb(0|c[b+1204>>2],4,0|c[80+(0|c[e>>2])>>2]),tb(0|c[b+1208>>2],4,0|c[80+(0|c[e>>2])>>2]),tb(0|c[b+1212>>2],4,0|c[80+(0|c[e>>2])>>2]),tb(0|c[b+1216>>2],4,0|c[84+(0|c[e>>2])>>2]),tb(0|c[b+1220>>2],2,0|c[84+(0|c[e>>2])>>2]),tb(0|c[b+1224>>2],4,0|c[88+(0|c[e>>2])>>2]),(255&d)<=1||(tb(0|c[b+808>>2],4,0|c[8+(0|c[e>>2])>>2]),(255&d)<=3||(tb(0|c[b+968>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+972>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+792>>2],4,0|c[8+(0|c[e>>2])>>2]),tb(0|c[b+824>>2],4,0|c[12+(0|c[e>>2])>>2]),tb(0|c[b+864>>2],4,0|c[16+(0|c[e>>2])>>2]),tb(0|c[b+1228>>2],4,0|c[92+(0|c[e>>2])>>2]),tb(0|c[b+1232>>2],4,0|c[92+(0|c[e>>2])>>2]),tb(0|c[b+1236>>2],4,0|c[92+(0|c[e>>2])>>2]),tb(0|c[b+1240>>2],4,0|c[96+(0|c[e>>2])>>2]),tb(0|c[b+1244>>2],4,0|c[96+(0|c[e>>2])>>2]),tb(0|c[b+1248>>2],4,0|c[96+(0|c[e>>2])>>2]),tb(0|c[b+944>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+956>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+960>>2],4,0|c[20+(0|c[e>>2])>>2]),tb(0|c[b+1052>>2],4,0|c[100+(0|c[e>>2])>>2]),tb(0|c[b+1056>>2],4,0|c[100+(0|c[e>>2])>>2]),tb(0|c[b+1060>>2],4,0|c[100+(0|c[e>>2])>>2]),tb(0|c[b+1064>>2],4,0|c[104+(0|c[e>>2])>>2]),tb(0|c[b+1068>>2],4,0|c[104+(0|c[e>>2])>>2]),tb(0|c[b+1072>>2],4,0|c[104+(0|c[e>>2])>>2]),tb(0|c[b+1076>>2],4,0|c[104+(0|c[e>>2])>>2]),tb(0|c[b+1080>>2],4,0|c[104+(0|c[e>>2])>>2]),tb(0|c[b+1084>>2],4,0|c[108+(0|c[e>>2])>>2]),tb(0|c[b+1088>>2],4,0|c[108+(0|c[e>>2])>>2]),tb(0|c[b+1092>>2],4,0|c[108+(0|c[e>>2])>>2]),tb(0|c[b+1096>>2],4,0|c[112+(0|c[e>>2])>>2]),tb(0|c[b+1100>>2],4,0|c[112+(0|c[e>>2])>>2]),tb(0|c[b+1104>>2],4,0|c[112+(0|c[e>>2])>>2]),tb(0|c[b+1108>>2],4,0|c[116+(0|c[e>>2])>>2]),tb(0|c[b+1112>>2],4,0|c[120+(0|c[e>>2])>>2]),tb(0|c[b+1116>>2],4,0|c[120+(0|c[e>>2])>>2]),tb(0|c[b+1120>>2],4,0|c[120+(0|c[e>>2])>>2]),tb(0|c[b+1124>>2],4,0|c[124+(0|c[e>>2])>>2]),tb(0|c[b+1128>>2],4,0|c[124+(0|c[e>>2])>>2])))}function sa(d){d|=0;var o,p,e=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,q=0,r=0,s=0,t=S,e=S=S+63&-64;if(S=S+32|0,h=e+24|0,c[(s=e)>>2]=4,c[s+4>>2]=2,c[s+8>>2]=4,function(a,b){var d,e=S=(a=S)+63&-64;S=S+272|0,d=16+e|0,c[e>>2]=b|=0,cc(d,1393,e),function(a){var b,d=S=(b=S)+63&-64;S=S+16|0,c[d>>2]=a|=0,function(a,b,d){a=S=(b=S)+63&-64,S=S+16|0,c[a>>2]=d|=0,dc(496,2934,a),S=b}(0,0,d),S=b}(d),S=a}(0,s),0|yc(d))return ia(0,1433,e+16|0),S=t,(s=0)|s;if(4<(255&(e=0|a[(g=d+4|0)>>0])))return c[h>>2]=4,c[h+4>>2]=255&e,ia(0,1496,h),S=t,(s=0)|s;if(0|a[(e=d+5|0)>>0]?(sb(g,1),tb(d+64|0,4,160),pa(d,s=d+704|(a[e>>0]=0)),ra(d)):pa(d,s=d+704|0),0|c[1009]||(c[1009]=1),e=0|c[s>>2],r=0|c[e+16>>2],n=(g=0|c[d+912>>2])+(r<<2)|0,0<(0|r)){for(l=d+1144|0,m=0|c[d+908>>2];;){k=(0|c[l>>2])+(c[m>>2]<<2)|0,h=(e=0|c[g>>2])-1|0;a:do{if(1<(0|e))for(i=0,j=h;;){for(;!((0|c[(h=k+(i<<2)|0)>>2])<0);){if(!((0|(h=i+1|0))<(0|j))){h=j;break a}i=h}if(_c(0|h,h+4|0,(e-i<<2)-4|0),!((0|i)<(0|(h=j+-1|0)))){e=j;break}e=j,j=h}}while(0);if(0<(0|e)&&(e=(0|c[k+(h<<2)>>2])<0?h:e),c[g>>2]=e,n>>>0<=(g=g+4|0)>>>0)break;m=m+4|0}e=0|c[s>>2]}if(0<(0|c[e>>2]))for(g=d+716|0,h=d+712|0,i=0;c[(0|c[h>>2])+(i<<2)>>2]=(0|c[g>>2])+(i<<6),e=0|c[s>>2],(0|(i=i+1|0))<(0|c[e>>2]););if(0<(0|c[e+4>>2]))for(g=d+748|0,h=d+744|0,i=0;c[(0|c[h>>2])+(i<<2)>>2]=(0|c[g>>2])+(i<<6),e=0|c[s>>2],(0|(i=i+1|0))<(0|c[e+4>>2]););if(0<(0|c[e+16>>2]))for(j=d+848|0,k=d+832|0,q=d+1136|0,o=d+896|0,p=d+836|0,l=d+1140|0,m=d+900|0,n=d+840|0,g=d+1144|0,h=d+908|0,i=d+844|0,r=0;c[(0|c[k>>2])+(r<<2)>>2]=(0|c[j>>2])+(r<<6),c[(0|c[p>>2])+(r<<2)>>2]=(0|c[q>>2])+(c[(0|c[o>>2])+(r<<2)>>2]<<2),c[(0|c[n>>2])+(r<<2)>>2]=(0|c[l>>2])+(c[(0|c[m>>2])+(r<<2)>>2]<<1),c[(0|c[i>>2])+(r<<2)>>2]=(0|c[g>>2])+(c[(0|c[h>>2])+(r<<2)>>2]<<2),e=0|c[s>>2],(0|(r=r+1|0))<(0|c[e+16>>2]););if(0<(0|c[e+20>>2]))for(g=d+920|0,h=d+916|0,i=0;c[(0|c[h>>2])+(i<<2)>>2]=(0|c[g>>2])+(i<<6),e=0|c[s>>2],(0|(i=i+1|0))<(0|c[e+20>>2]););if(0<(0|c[e+80>>2]))for(g=d+1184|0,h=d+1180|0,i=0;c[(0|c[h>>2])+(i<<2)>>2]=(0|c[g>>2])+(i<<6),e=0|c[s>>2],(0|(i=i+1|0))<(0|c[e+80>>2]););if(!(1&a[20+(0|c[d+708>>2])>>0]||(0|(m=0|c[e+16>>2]))<=0)){e=0|c[d+1140>>2],g=0|c[d+900>>2],h=0|c[d+904>>2],j=0;do{if(i=e+(c[g+(j<<2)>>2]<<1)|0,l=(s=0|c[h+(j<<2)>>2])-1|0,1<(0|s))for(k=0;r=0|b[(q=i+(k<<1)|0)>>1],b[q>>1]=0|b[(s=i+(k+2<<1)|0)>>1],b[s>>1]=r,(0|(k=k+3|0))<(0|l););}while((0|(j=j+1|0))!=(0|m));g=0|c[d+1136>>2],h=0|c[d+896>>2],i=0|c[d+892>>2],k=0;do{if(j=(e=g+(c[h+(k<<2)>>2]<<2)|0)+((s=0|c[i+(k<<2)>>2])<<1<<2)|0,0<(0|s))for(e=e+4|0;f[e>>2]=1-+f[e>>2],(e=e+8|0)>>>0<j>>>0;);}while((0|(k=k+1|0))!=(0|m))}return S=t,0|d}function ta(a){var c=0,b=S,c=S=S+63&-64;return S=S+16|0,0|yc(a|=0)?(ia(0,1605,c),S=b,(c=0)|c):(c=0|d[a+4>>0],S=b,0|c)}function va(a){var j,k,l,m,b=0,e=0,f=0,g=0,h=0,i=0,e=64+(a|=0)|0,b=a+144|0;if(za(e,0|c[a+88>>2],0|c[a+148>>2],0|c[b>>2]),Ba(e,0|c[a+92>>2],0|c[a+152>>2],0|c[796+(0|c[a>>2])>>2],2,0|c[b>>2]),!((0|d[4+(0|c[a>>2])>>0])<4||(za(e,0|c[a+96>>2],0|c[(m=a+120|0)>>2],0|c[b>>2]),za(e,0|c[a+100>>2],0|c[(f=a+124|0)>>2],0|c[b>>2]),za(e,0|c[a+104>>2],0|c[(g=a+128|0)>>2],0|c[b>>2]),za(e,0|c[a+108>>2],0|c[(j=a+132|0)>>2],0|c[b>>2]),za(e,0|c[a+112>>2],0|c[(k=a+136|0)>>2],0|c[b>>2]),za(e,0|c[a+116>>2],0|c[(l=a+140|0)>>2],0|c[b>>2]),b=0|c[a+156>>2],e=0|c[m>>2],f=0|c[f>>2],g=0|c[g>>2],(0|(m=0|c[a+56>>2]))<=0))){for(i=h=0;c[b+(h<<2)>>2]=c[e+(i<<2)>>2],c[b+((1|h)<<2)>>2]=c[f+(i<<2)>>2],c[b+((2|h)<<2)>>2]=c[g+(i<<2)>>2],(0|(i=i+1|0))!=(0|m);)h=h+4|0;for(i=0|c[a+160>>2],h=0|c[j>>2],g=0|c[k>>2],b=0|c[l>>2],f=e=0;c[i+(e<<2)>>2]=c[h+(f<<2)>>2],c[i+((1|e)<<2)>>2]=c[g+(f<<2)>>2],c[i+((2|e)<<2)>>2]=c[b+(f<<2)>>2],(0|(f=f+1|0))!=(0|m);)e=e+4|0}}function wa(a){var j,k,l,m,b=0,e=0,f=0,g=0,h=0,i=0,e=172+(a|=0)|0,b=a+264|0;if(za(e,0|c[a+196>>2],0|c[a+268>>2],0|c[b>>2]),za(e,0|c[a+200>>2],0|c[a+284>>2],0|c[b>>2]),za(e,0|c[a+204>>2],0|c[a+276>>2],0|c[b>>2]),za(e,0|c[a+208>>2],0|c[a+280>>2],0|c[b>>2]),za(e,0|c[a+212>>2],0|c[a+272>>2],0|c[b>>2]),!((0|d[4+(0|c[a>>2])>>0])<4||(za(e,0|c[a+216>>2],0|c[(m=a+240|0)>>2],0|c[b>>2]),za(e,0|c[a+220>>2],0|c[(f=a+244|0)>>2],0|c[b>>2]),za(e,0|c[a+224>>2],0|c[(g=a+248|0)>>2],0|c[b>>2]),za(e,0|c[a+228>>2],0|c[(j=a+252|0)>>2],0|c[b>>2]),za(e,0|c[a+232>>2],0|c[(k=a+256|0)>>2],0|c[b>>2]),za(e,0|c[a+236>>2],0|c[(l=a+260|0)>>2],0|c[b>>2]),b=0|c[a+296>>2],e=0|c[m>>2],f=0|c[f>>2],g=0|c[g>>2],(0|(m=0|c[a+164>>2]))<=0))){for(i=h=0;c[b+(h<<2)>>2]=c[e+(i<<2)>>2],c[b+((1|h)<<2)>>2]=c[f+(i<<2)>>2],c[b+((2|h)<<2)>>2]=c[g+(i<<2)>>2],(0|(i=i+1|0))!=(0|m);)h=h+4|0;for(i=0|c[a+300>>2],h=0|c[j>>2],g=0|c[k>>2],b=0|c[l>>2],f=e=0;c[i+(e<<2)>>2]=c[h+(f<<2)>>2],c[i+((1|e)<<2)>>2]=c[g+(f<<2)>>2],c[i+((2|e)<<2)>>2]=c[b+(f<<2)>>2],(0|(f=f+1|0))!=(0|m);)e=e+4|0}}function xa(a){var j,k,l,m,b=0,e=0,f=0,g=0,h=0,i=0,e=340+(a|=0)|0,b=a+424|0;if(za(e,0|c[a+364>>2],0|c[a+448>>2],0|c[b>>2]),Aa(e,0|c[a+368>>2],0|c[a+440>>2],0|c[b>>2]),Ba(e,0|c[a+372>>2],0|c[a+444>>2],0|c[892+(0|c[a>>2])>>2],2,0|c[b>>2]),!((0|d[4+(0|c[a>>2])>>0])<4||(za(e,0|c[a+376>>2],0|c[(m=a+400|0)>>2],0|c[b>>2]),za(e,0|c[a+380>>2],0|c[(f=a+404|0)>>2],0|c[b>>2]),za(e,0|c[a+384>>2],0|c[(g=a+408|0)>>2],0|c[b>>2]),za(e,0|c[a+388>>2],0|c[(j=a+412|0)>>2],0|c[b>>2]),za(e,0|c[a+392>>2],0|c[(k=a+416|0)>>2],0|c[b>>2]),za(e,0|c[a+396>>2],0|c[(l=a+420|0)>>2],0|c[b>>2]),b=0|c[a+452>>2],e=0|c[m>>2],f=0|c[f>>2],g=0|c[g>>2],(0|(m=0|c[a+332>>2]))<=0))){for(i=h=0;c[b+(h<<2)>>2]=c[e+(i<<2)>>2],c[b+((1|h)<<2)>>2]=c[f+(i<<2)>>2],c[b+((2|h)<<2)>>2]=c[g+(i<<2)>>2],(0|(i=i+1|0))!=(0|m);)h=h+4|0;for(i=0|c[a+456>>2],h=0|c[j>>2],g=0|c[k>>2],b=0|c[l>>2],f=e=0;c[i+(e<<2)>>2]=c[h+(f<<2)>>2],c[i+((1|e)<<2)>>2]=c[g+(f<<2)>>2],c[i+((2|e)<<2)>>2]=c[b+(f<<2)>>2],(0|(f=f+1|0))!=(0|m);)e=e+4|0}}function za(a,b,d,e){b|=0,d|=0,e|=0;var m,n,o,g=0,h=0,i=0,j=0,k=0,l=0;if(0<(0|(g=0|c[8+(a|=0)>>2])))for(h=0|c[a+20>>2],i=0|c[a+12>>2],j=0;f[i+(j<<2)>>2]=+f[b+(j<<2)>>2]*+f[h+(j<<2)>>2],(0|(j=j+1|0))!=(0|g););if(!((0|(n=0|c[a>>2]))<=0))if(l=a+16|0,o=0|c[a+4>>2],m=a+12|0,e)for(b=j=0;;){if(0|c[e>>2]){if(h=(a=0|c[(0|c[l>>2])+(b<<2)>>2])+j|0,0<(0|a))for(g=0|c[m>>2],i=j,k=0;k+=+f[g+(i<<2)>>2],(0|(i=i+1|0))<(0|h););else k=0;f[d+(b<<2)>>2]=k}if((0|(g=b+1|0))==(0|n))break;e=e+4|0,j=(0|c[o+(b<<2)>>2])+j|0,b=g}else for(j=0|c[l>>2],a=b=0;;){if(h=(l=0|c[j+(a<<2)>>2])+b|0,0<(0|l))for(g=0|c[m>>2],i=b,k=0;k+=+f[g+(i<<2)>>2],(0|(i=i+1|0))<(0|h););else k=0;if(f[d+(a<<2)>>2]=k,(0|(g=a+1|0))==(0|n))break;b=(0|c[o+(a<<2)>>2])+b|0,a=g}}function Aa(a,b,d,e){b|=0,d|=0,e|=0;var m,n,g=0,h=0,i=0,j=0,k=0,l=0;if(0<(0|(g=0|c[8+(a|=0)>>2])))for(h=0|c[a+20>>2],i=0|c[a+12>>2],j=0;f[i+(j<<2)>>2]=+f[b+(j<<2)>>2]*+f[h+(j<<2)>>2],(0|(j=j+1|0))!=(0|g););if(!((0|(g=0|c[a>>2]))<=0))if(l=a+16|0,m=0|c[a+4>>2],n=a+12|0,e)for(b=j=0;;){if(0|c[e>>2]){if(h=(i=0|c[(0|c[l>>2])+(b<<2)>>2])+j|0,0<(0|i))for(g=0|c[n>>2],i=j,k=0;k+=+f[g+(i<<2)>>2],(0|(i=i+1|0))<(0|h););else k=0;c[d+(b<<2)>>2]=~~(k+.0010000000474974513),g=0|c[a>>2]}if(!((0|(h=b+1|0))<(0|g)))break;e=e+4|0,j=(0|c[m+(b<<2)>>2])+j|0,b=h}else for(j=0|c[l>>2],e=b=0;;){if(h=(l=0|c[j+(e<<2)>>2])+b|0,0<(0|l))for(g=0|c[n>>2],i=b,k=0;k+=+f[g+(i<<2)>>2],(0|(i=i+1|0))<(0|h););else k=0;if(c[d+(e<<2)>>2]=~~(k+.0010000000474974513),!((0|(g=e+1|0))<(0|c[a>>2])))break;b=(0|c[m+(e<<2)>>2])+b|0,e=g}}function Ba(a,b,d,e,g,h){b|=0,d|=0,e|=0,g|=0,h|=0;var r,s,u,w,x,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,t=0|c[(a|=0)>>2];if(!((0|t)<=0))if(w=a+16|0,u=0|c[a+4>>2],s=a+20|0,r=g<<2,h)for(p=o=0;;){if(0|c[h>>2]&&(l=0|c[d+(p<<2)>>2],a=0|c[e+(p<<2)>>2],n=0|v(a,g),m=(i=0|c[(0|c[w>>2])+(p<<2)>>2])+o|0,(k=0<(0|n))&&$c(0|l,0,0|v(r,a)),0<(0|i)&&(q=0|c[s>>2],k))){i=o;do{for(a=0|c[b+(i<<2)>>2],j=+f[q+(i<<2)>>2],k=0;f[(x=l+(k<<2)|0)>>2]=+f[x>>2]+j*+f[a+(k<<2)>>2],(0|(k=k+1|0))!=(0|n););}while((0|(i=i+1|0))<(0|m))}if((0|(a=p+1|0))==(0|t))break;h=h+4|0,o=(0|c[u+(p<<2)>>2])+o|0,p=a}else for(o=n=0;;){if(k=0|c[d+(o<<2)>>2],a=0|c[e+(o<<2)>>2],m=0|v(a,g),l=(h=0|c[(0|c[w>>2])+(o<<2)>>2])+n|0,(i=0<(0|m))&&$c(0|k,0,0|v(r,a)),0<(0|h)&&(p=0|c[s>>2],i)){h=n;do{for(a=0|c[b+(h<<2)>>2],j=+f[p+(h<<2)>>2],i=0;f[(q=k+(i<<2)|0)>>2]=+f[q>>2]+j*+f[a+(i<<2)>>2],(0|(i=i+1|0))!=(0|m););}while((0|(h=h+1|0))<(0|l))}if((0|(a=o+1|0))==(0|t))break;n=(0|c[u+(o<<2)>>2])+n|0,o=a}}function Ka(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|function(a){a|=0;var b,d,e;return S=(d=S)+560|0,b=(e=d)+548|0,$c(0|e,0,548),ma(a,e,b),S=d,0|c[b>>2]}(a),S=d,0|b):(c[b>>2]=1931,c[b+4>>2]=1949,ia(0,1664,b),S=d,(b=0)|b)}function La(a,b,d){b|=0,d|=0;var g,f=0,h=0,i=S,e=S=S+63&-64;return S=S+32|0,h=24+e|0,g=16+e|0,f=8+e|0,(a|=0)?b?((f=b)+15&-16|0)!=(0|f)?(c[g>>2]=1967,c[4+g>>2]=1738,ia(0,1664,g),S=i,(h=0)|h):(b=0|na(a,b,d))?(S=i,0|b):(c[h>>2]=1967,c[h+4>>2]=1993,ia(0,1664,h),S=i,(h=0)|h):(c[f>>2]=1967,c[f+4>>2]=1698,ia(0,1664,f),S=i,(h=0)|h):(c[e>>2]=1967,c[4+e>>2]=1949,ia(0,1664,e),S=i,(h=0)|h)}function rb(a,b,c,d){if(c=+c,d=+d,(b=+u(b=+b,a=+a)-+u(+d,+c))<-3.1415927410125732)for(;(b+=6.2831854820251465)<-3.1415927410125732;);if(3.1415927410125732<b)for(;3.1415927410125732<(b+=-6.2831854820251465););return+b}function sb(b,c){var d;if(!((c=(b|=0)+(c|=0)+-1|0)>>>0<=b>>>0))for(;d=0|a[b>>0],a[b>>0]=0|a[c>>0],b=b+1|0,a[c>>0]=d,b>>>0<(c=c+-1|0)>>>0;);}function tb(b,c,d){b|=0,c|=0;var g,e=0,f=0;if(d|=0)do{if(d=d+-1|0,(f=b)>>>0<(e=(b=b+c|0)-1|0)>>>0)for(;g=0|a[f>>0],a[f>>0]=0|a[e>>0],f=f+1|0,a[e>>0]=g,f>>>0<(e=e+-1|0)>>>0;);}while(0!=(0|d))}function Ab(a){var s,l,o,b=0,e=0,g=0,h=0,i=0,j=0,k=0,n=0,p=0,q=0,r=0,t=0,u=0,v=0,m=(b=0|c[(l=336+(a|=0)|0)>>2])+(20*(n=0|c[(o=a+332|0)>>2])|0)|0,p=a+424|0,i=0|c[a+48>>2],j=0|c[a+316>>2],k=0|c[a+308>>2];if(0<(0|n))for(n=0|c[p>>2],g=0|c[a+448>>2],h=0|c[a+444>>2];0|c[n>>2]&&(-1!=(0|(e=0|c[b+4>>2]))&&(f[g>>2]=+f[i+(e<<2)>>2]*+f[g>>2]),-1!=(0|(e=0|c[b+8>>2]))&&(f[g>>2]=+f[j+(e<<2)>>2]*+f[g>>2],r=0|c[h>>2],$[3&c[k+(e<<5)+24>>2]](a,e,r,r,0|c[b+16>>2]))),!(m>>>0<=(b=b+20|0)>>>0);)n=n+4|0,g=g+4|0,h=h+4|0;if(!((0|d[4+(0|c[a>>2])>>0])<4||(k=(b=0|c[l>>2])+(20*(r=0|c[o>>2])|0)|0,i=0|c[a+324>>2],j=0|c[a+328>>2],(0|r)<=0)))for(h=0|c[p>>2],e=b,g=0|c[a+452>>2],b=0|c[a+456>>2];0|c[h>>2]&&-1!=(0|(q=0|c[e+8>>2]))&&(t=+f[g>>2]*+f[(o=i+((p=q<<2)<<2)|0)>>2],f[g>>2]=t,u=+f[(r=g+4|0)>>2]*+f[4+o>>2],f[r>>2]=u,v=+f[(a=g+8|0)>>2]*+f[8+o>>2],f[g>>2]=t<0?0:1<t?1:t,f[r>>2]=u<0?0:1<u?1:u,f[a>>2]=v<0?0:1<v?1:v,f[g+12>>2]=1,v=+f[b>>2],u=+f[(p=j+(p<<2)|0)>>2],f[b>>2]=u=v+u-v*u,v=+f[(a=b+4|0)>>2],t=+f[p+4>>2],f[a>>2]=t=v+t-v*t,s=(v=+f[(r=b+8|0)>>2])+(s=+f[p+8>>2])-v*s,f[b>>2]=u<0?0:1<u?1:u,f[a>>2]=t<0?0:1<t?1:t,f[r>>2]=s<0?0:1<s?1:s,f[b+12>>2]=1),!(k>>>0<=(e=e+20|0)>>>0);)h=h+4|0,g=g+16|0,b=b+16|0}function Bb(a){var e,b=0|c[332+(a|=0)>>2];0|c[a+428>>2]&&(Zc(0|c[a+460>>2],0|c[a+436>>2],0|(e=b<<2)),Zc(0|c[a+464>>2],0|c[a+440>>2],0|e),Zc(0|c[a+468>>2],0|c[a+448>>2],0|e),(0|d[4+(0|c[a>>2])>>0])<=3||(Zc(0|c[a+472>>2],0|c[a+452>>2],0|(e=b<<4)),Zc(0|c[a+476>>2],0|c[a+456>>2],0|e)))}function Cb(b){var j,k,m,n,o,p,q,r,s,t,y,d=0,e=0,g=0,h=0,i=0,l=0,u=0,v=0,x=0,e=0|a[4+(0|c[(b|=0)>>2])>>0],w=0|c[b+332>>2],d=b+428|0;if(0|c[b+620>>2]){if(!(((c[d>>2]=0)|w)<=0))for(h=b+424|0,i=b+432|0,d=b+448|0,e=0;g=0!=(0|c[(0|c[h>>2])+(e<<2)>>2])&&0!=+f[(0|c[d>>2])+(e<<2)>>2]?127:126,a[(0|c[i>>2])+e>>0]=g,(0|(e=e+1|0))!=(0|w););}else if(0|c[d>>2]){if(!(((c[d>>2]=0)|w)<=0))if(m=b+424|0,p=b+432|0,o=b+448|0,r=b+468|0,n=b+440|0,q=b+464|0,t=b+436|0,s=b+460|0,j=b+452|0,l=b+472|0,k=b+456|0,i=b+476|0,(255&e)<=3)for(d=0;l=0==(0|c[(0|c[m>>2])+(d<<2)>>2]),x=+f[(0|c[o>>2])+(d<<2)>>2],v=(0|c[p>>2])+d|0,u=(1&a[v>>0])==(u=0!=x&(1^l)&1)<<24>>24?u:2|u,u=x!=+f[(0|c[r>>2])+(d<<2)>>2]?4|u:u,u=(0|c[(0|c[n>>2])+(d<<2)>>2])==(0|c[(0|c[q>>2])+(d<<2)>>2])?u:8|u,u=(0|c[(0|c[t>>2])+(d<<2)>>2])==(0|c[(0|c[s>>2])+(d<<2)>>2])?u:16|u,a[v>>0]=l?u:32|u,(0|(d=d+1|0))!=(0|w););else for(h=g=0;y=0==(0|c[(0|c[m>>2])+(g<<2)>>2]),x=+f[(0|c[o>>2])+(g<<2)>>2],e=(0|c[p>>2])+g|0,d=(1&a[e>>0])==(d=0!=x&(1^y)&1)<<24>>24?d:2|d,d=x!=+f[(0|c[r>>2])+(g<<2)>>2]?4|d:d,d=(0|c[(0|c[n>>2])+(g<<2)>>2])==(0|c[(0|c[q>>2])+(g<<2)>>2])?d:8|d,d=(0|c[(0|c[t>>2])+(g<<2)>>2])==(0|c[(0|c[s>>2])+(g<<2)>>2])?d:16|d,d=y?d:32|d,y=(0|c[j>>2])+(h<<2)|0,b=(0|c[l>>2])+(h<<2)|0,+f[y>>2]==+f[b>>2]&&+f[4+y>>2]==+f[b+4>>2]&&+f[8+y>>2]==+f[b+8>>2]&&+f[12+y>>2]==+f[b+12>>2]&&(u=(0|c[k>>2])+(h<<2)|0,v=(0|c[i>>2])+(h<<2)|0,+f[u>>2]==+f[v>>2])&&+f[u+4>>2]==+f[v+4>>2]&&+f[u+8>>2]==+f[v+8>>2]&&+f[u+12>>2]==+f[v+12>>2]||(d|=64),a[e>>0]=d,(0|(g=g+1|0))!=(0|w);)h=h+4|0}else if(!((0|w)<=0))for(g=b+424|0,h=b+432|0,d=b+448|0,e=0;0!=(0|c[(0|c[g>>2])+(e<<2)>>2])&&0!=+f[(0|c[d>>2])+(e<<2)>>2]?(v=(0|c[h>>2])+e|0,a[v>>0]=1|a[v>>0]):(v=(0|c[h>>2])+e|0,a[v>>0]=-2&a[v>>0]),(0|(e=e+1|0))!=(0|w););}function Eb(a){var C,D,E,F,G,A,B,b=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,H=0,I=0,J=0,K=0,k=0|c[(A=60+(a|=0)|0)>>2],b=0|c[a>>2],l=0|c[b+784>>2],m=0|c[(B=a+56|0)>>2],n=0|c[b+1028>>2];if(0<(0|m)){for(s=a+80|0,v=a+92|0,u=a+88|0,w=a+84|0,t=b+984|0,h=b+980|0,j=i=0;;){if(g=0|c[k+(24*i|0)>>2],15==(0|(z=0!=(0|c[(b=g+24|0)>>2])||0|c[g+28>>2]?15:z))&&(c[((z=0)|c[s>>2])+(i<<2)>>2]=c[(r=g+12|0)>>2],0|c[b>>2])&&(o=0|c[l+(i<<2)>>2],x=(p=0|c[g+16>>2])+((H=0|c[r>>2])<<2)|0,0<(0|H)))for(b=p,e=(0|c[u>>2])+(j<<2)|0,f=(0|c[v>>2])+(j<<2)|0;H=(0|c[b>>2])+o|0,c[f>>2]=n+(c[(0|c[t>>2])+(H<<2)>>2]<<2),c[e>>2]=c[(0|c[h>>2])+(H<<2)>>2],!(x>>>0<=(b=b+4|0)>>>0);)e=e+4|0,f=f+4|0;if(0|c[g+28>>2]&&(y=(q=0|c[g+20>>2])+((H=0|c[g+12>>2])<<2)|0,0<(0|H)))for(b=(0|c[w>>2])+(j<<2)|0,e=q;c[b>>2]=c[e>>2],!(y>>>0<=(e=e+4|0)>>>0);)b=b+4|0;if((0|(i=i+1|0))==(0|m))break;j=(0|c[g+8>>2])+j|0}b=0|c[a>>2]}if(!((0|d[b+4>>0])<4||(G=0|c[A>>2],H=0|c[b+792>>2],(0|(A=0|c[B>>2]))<=0)))for(D=a+96|0,C=a+100|0,B=a+104|0,F=a+108|0,E=a+112|0,z=a+116|0,x=b+1228|0,v=b+1232|0,u=b+1236|0,y=b+1240|0,w=b+1244|0,k=b+1248|0,m=l=0;;){if(b=0|c[G+(24*l|0)>>2],0|c[b+24>>2]&&(I=0|c[H+(l<<2)>>2],K=(J=0|c[b+16>>2])+((a=0|c[b+12>>2])<<2)|0,0<(0|a)))for(e=0|c[x>>2],f=0|c[v>>2],g=0|c[u>>2],h=0|c[y>>2],i=0|c[w>>2],j=0|c[k>>2],n=J,o=(0|c[B>>2])+(m<<2)|0,p=(0|c[C>>2])+(m<<2)|0,q=(0|c[D>>2])+(m<<2)|0,r=(0|c[z>>2])+(m<<2)|0,s=(0|c[E>>2])+(m<<2)|0,t=(0|c[F>>2])+(m<<2)|0;a=(0|c[n>>2])+I|0,c[q>>2]=c[e+(a<<2)>>2],c[p>>2]=c[f+(a<<2)>>2],c[o>>2]=c[g+(a<<2)>>2],c[t>>2]=c[h+(a<<2)>>2],c[s>>2]=c[i+(a<<2)>>2],c[r>>2]=c[j+(a<<2)>>2],!(K>>>0<=(n=n+4|0)>>>0);)o=o+4|0,p=p+4|0,q=q+4|0,r=r+4|0,s=s+4|0,t=t+4|0;if((0|(l=l+1|0))==(0|A))break;m=(0|c[b+8>>2])+m|0}}function Fb(a){var H,I,J,K,L,Q,b=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,M=0,N=0,O=0,P=0,T=0,U=0,V=0,W=0,S=0|c[168+(a|=0)>>2],R=0|c[a>>2],r=0|c[816+R>>2];if(0<(0|(s=0|c[(Q=a+164|0)>>2])))for(A=a+188|0,w=a+200|0,E=a+204|0,G=a+208|0,K=a+212|0,B=a+196|0,L=a+192|0,v=992+R|0,D=996+R|0,F=1e3+R|0,J=1004+R|0,C=988+R|0,H=1008+R|0,x=a+288|0,I=1012+R|0,y=a+292|0,O=N=0;;){if(t=0|c[S+(12*N|0)>>2],14==(0|(P=0!=(0|c[(b=t+24|0)>>2])||0|c[t+28>>2]?14:P))&&(c[((P=0)|c[A>>2])+(N<<2)>>2]=c[(z=t+12|0)>>2],0|c[b>>2])){if(b=0|c[r+(N<<2)>>2],k=(e=0|c[t+16>>2])+((q=0|c[z>>2])<<2)|0,0<(0|q))for(f=0|c[v>>2],g=0|c[D>>2],h=0|c[F>>2],i=0|c[J>>2],j=0|c[C>>2],l=(0|c[w>>2])+(O<<2)|0,m=e,n=(0|c[B>>2])+(O<<2)|0,o=(0|c[E>>2])+(O<<2)|0,p=(0|c[G>>2])+(O<<2)|0,q=(0|c[K>>2])+(O<<2)|0;W=(0|c[m>>2])+b|0,c[l>>2]=c[f+(W<<2)>>2],c[o>>2]=c[g+(W<<2)>>2],c[p>>2]=c[h+(W<<2)>>2],c[q>>2]=c[i+(W<<2)>>2],c[n>>2]=c[j+(W<<2)>>2],!(k>>>0<=(m=m+4|0)>>>0);)l=l+4|0,n=n+4|0,o=o+4|0,p=p+4|0,q=q+4|0;W=(0|c[e>>2])+b|0,c[(0|c[x>>2])+(N<<2)>>2]=c[(0|c[H>>2])+(W<<2)>>2],c[(0|c[y>>2])+(N<<2)>>2]=c[(0|c[I>>2])+(W<<2)>>2]}if(0|c[t+28>>2]&&(M=(u=0|c[t+20>>2])+((W=0|c[t+12>>2])<<2)|0,0<(0|W)))for(b=(0|c[L>>2])+(O<<2)|0,e=u;c[b>>2]=c[e>>2],!(M>>>0<=(e=e+4|0)>>>0);)b=b+4|0;if((0|(N=N+1|0))==(0|s))break;O=(0|c[t+8>>2])+O|0}if(!((0|d[4+R>>0])<4||(G=0|c[824+R>>2],(0|(A=0|c[Q>>2]))<=0)))for(D=a+216|0,C=a+220|0,B=a+224|0,F=a+228|0,E=a+232|0,z=a+236|0,x=1228+R|0,v=1232+R|0,u=1236+R|0,y=1240+R|0,w=1244+R|0,k=1248+R|0,m=l=0;;){if(j=0|c[S+(12*l|0)>>2],0|c[j+24>>2]&&(U=0|c[G+(l<<2)>>2],V=(T=0|c[j+16>>2])+((W=0|c[j+12>>2])<<2)|0,0<(0|W)))for(b=0|c[x>>2],e=0|c[v>>2],f=0|c[u>>2],g=0|c[y>>2],h=0|c[w>>2],i=0|c[k>>2],n=T,o=(0|c[B>>2])+(m<<2)|0,p=(0|c[C>>2])+(m<<2)|0,q=(0|c[D>>2])+(m<<2)|0,r=(0|c[z>>2])+(m<<2)|0,s=(0|c[E>>2])+(m<<2)|0,t=(0|c[F>>2])+(m<<2)|0;W=(0|c[n>>2])+U|0,c[q>>2]=c[b+(W<<2)>>2],c[p>>2]=c[e+(W<<2)>>2],c[o>>2]=c[f+(W<<2)>>2],c[t>>2]=c[g+(W<<2)>>2],c[s>>2]=c[h+(W<<2)>>2],c[r>>2]=c[i+(W<<2)>>2],!(V>>>0<=(n=n+4|0)>>>0);)o=o+4|0,p=p+4|0,q=q+4|0,r=r+4|0,s=s+4|0,t=t+4|0;if((0|(l=l+1|0))==(0|A))break;m=(0|c[j+8>>2])+m|0}}function Gb(a){var F,G,D,E,b=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,H=0,I=0,J=0,K=0,l=0|c[(D=336+(a|=0)|0)>>2],b=0|c[a>>2],m=0|c[b+856>>2],n=0|c[(E=a+332|0)>>2],o=0|c[b+1028>>2];if(0<(0|n)){for(t=a+356|0,y=a+372|0,w=a+364|0,u=a+368|0,z=a+360|0,v=b+1024|0,x=b+1016|0,i=b+1020|0,k=j=0;;){if(h=0|c[l+(20*j|0)>>2],15==(0|(C=0!=(0|c[(b=h+24|0)>>2])||0|c[h+28>>2]?15:C))&&(c[((C=0)|c[t>>2])+(j<<2)>>2]=c[(s=h+12|0)>>2],0|c[b>>2])&&(p=0|c[m+(j<<2)>>2],A=(q=0|c[h+16>>2])+((H=0|c[s>>2])<<2)|0,0<(0|H)))for(b=(0|c[u>>2])+(k<<2)|0,e=q,f=(0|c[w>>2])+(k<<2)|0,g=(0|c[y>>2])+(k<<2)|0;H=(0|c[e>>2])+p|0,c[g>>2]=o+(c[(0|c[v>>2])+(H<<2)>>2]<<2),c[f>>2]=c[(0|c[x>>2])+(H<<2)>>2],c[b>>2]=c[(0|c[i>>2])+(H<<2)>>2],!(A>>>0<=(e=e+4|0)>>>0);)b=b+4|0,f=f+4|0,g=g+4|0;if(0|c[h+28>>2]&&(B=(r=0|c[h+20>>2])+((H=0|c[h+12>>2])<<2)|0,0<(0|H)))for(b=(0|c[z>>2])+(k<<2)|0,e=r;c[b>>2]=c[e>>2],!(B>>>0<=(e=e+4|0)>>>0);)b=b+4|0;if((0|(j=j+1|0))==(0|n))break;k=(0|c[h+8>>2])+k|0}b=0|c[a>>2]}if(!((0|d[b+4>>0])<4||(G=0|c[D>>2],H=0|c[b+864>>2],(0|(A=0|c[E>>2]))<=0)))for(D=a+376|0,C=a+380|0,B=a+384|0,F=a+388|0,E=a+392|0,z=a+396|0,x=b+1228|0,v=b+1232|0,u=b+1236|0,y=b+1240|0,w=b+1244|0,k=b+1248|0,m=l=0;;){if(b=0|c[G+(20*l|0)>>2],0|c[b+24>>2]&&(I=0|c[H+(l<<2)>>2],K=(J=0|c[b+16>>2])+((a=0|c[b+12>>2])<<2)|0,0<(0|a)))for(e=0|c[x>>2],f=0|c[v>>2],g=0|c[u>>2],h=0|c[y>>2],i=0|c[w>>2],j=0|c[k>>2],n=J,o=(0|c[B>>2])+(m<<2)|0,p=(0|c[C>>2])+(m<<2)|0,q=(0|c[D>>2])+(m<<2)|0,r=(0|c[z>>2])+(m<<2)|0,s=(0|c[E>>2])+(m<<2)|0,t=(0|c[F>>2])+(m<<2)|0;a=(0|c[n>>2])+I|0,c[q>>2]=c[e+(a<<2)>>2],c[p>>2]=c[f+(a<<2)>>2],c[o>>2]=c[g+(a<<2)>>2],c[t>>2]=c[h+(a<<2)>>2],c[s>>2]=c[i+(a<<2)>>2],c[r>>2]=c[j+(a<<2)>>2],!(K>>>0<=(n=n+4|0)>>>0);)o=o+4|0,p=p+4|0,q=q+4|0,r=r+4|0,s=s+4|0,t=t+4|0;if((0|(l=l+1|0))==(0|A))break;m=(0|c[b+8>>2])+m|0}}function Jb(a){var d,e,g,b=0;if(Bb(a|=0),function(a){var e,g,b=0,d=0,h=0,j=0,k=0,i=(b=0|c[(a|=0)+4>>2])+(52*(h=0|c[a>>2])|0)|0;if(!((0|h)<=0))for(h=0|c[a+12>>2];d=+f[h>>2],a=b+4|0,d=(g=0==(0|c[b+16>>2]))?(k=+f[a>>2],j=+f[b+8>>2],d<k?k:j<d?j:d):(k=+f[b+12>>2],(j=+f[a>>2])+k*((d=(d-j)/k)-(0|~~+q(+d)))),a=b+48|0,+f[(e=b+44|0)>>2]!=d?(c[a>>2]=1,f[e>>2]=d):c[a>>2]=0,g&&(f[h>>2]=d),!(i>>>0<=(b=b+52|0)>>>0);)h=h+4|0}(a+540|0),function(a){var n,b=0,d=0,e=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,o=0,p=0,q=0,r=0,t=0,u=0,s=(b=0|c[(a|=0)+544>>2])+(52*(n=0|c[a+540>>2])|0)|0;if(!((0|n)<=0)){n=0==(0|c[a+620>>2]);do{a:do{if(0==(0|c[b>>2])&&(o=+f[b+44>>2],p=+f[b+20>>2],q=+f[b+24>>2],t=(r=0|c[b+28>>2])+(28*(l=0|c[b+32>>2])|0)|0,0<(0|l))){if(!n)for(l=r;;){h=0|c[l>>2];do{if(1<=(0|h)){if(g=0|c[l+4>>2],d=(e=+f[g>>2])-p,1==(0|h)){h=!(o<p+e)|!(d<o),d=a=0,m=41;break}if(o<d){g=l+16|0,i=1,d=a=0,m=43;break}if(o<p+e)d=a=h=0,m=41;else{for(a=1;!(o<p+(d=+f[g+(a<<2)>>2]));){if(!((0|(a=a+1|0))<(0|h))){m=40;break}e=d}if(40==(0|m)){g=l+16|0,a=h+-(i=1)|0,d=0,m=43;break}d=d-p<o?h=0:(a=a+-1|0,(d-=e)<q?h=0:(h=0,(o-e)/d)),m=41}}else d=a=h=0,m=41}while(0);if(41==(0|m)&&(h|(m=0)==(0|c[(g=l+16|0)>>2])?(i=1&h,m=43):(c[l+24>>2]=1,c[l+20>>2]=1,k=l+8|0,j=l+12|0,h=0)),43==(0|m)&&(e=+f[(j=l+12|(m=0))>>2],h=1&((0|c[(k=l+8|0)>>2])!=(0|a)|(u=e!=d)&(0==d|0==e)),c[l+24>>2]=1&u,c[l+20>>2]=h,h=i),f[j>>2]=d,c[k>>2]=a,c[g>>2]=h,t>>>0<=(l=l+28|0)>>>0)break a}if(!(0|c[b+48>>2]))for(a=r;;)if(c[a+24>>2]=0,t>>>(c[a+20>>2]=0)<=(a=a+28|0)>>>0)break a;l=r;do{h=0|c[l>>2];do{if(1<=(0|h)){if(g=0|c[l+4>>2],d=(e=+f[g>>2])-p,1==(0|h)){h=!(o<p+e)|!(d<o),d=a=0,m=24;break}if(o<d){g=l+16|0,i=1,d=a=0,m=26;break}if(o<p+e)d=a=h=0,m=24;else{for(a=1;!(o<p+(d=+f[g+(a<<2)>>2]));){if(!((0|(a=a+1|0))<(0|h))){m=21;break}e=d}if(21==(0|m)){g=l+16|0,a=h+-(i=1)|0,d=0,m=26;break}d=d-p<o?h=0:(a=a+-1|0,(d-=e)<q?h=0:(h=0,(o-e)/d)),m=24}}else d=a=h=0,m=24}while(0)}while(24==(0|m)&&(h|(m=0)==(0|c[(g=l+16|0)>>2])?(i=1&h,m=26):(c[l+24>>2]=1,c[l+20>>2]=1,k=l+8|0,j=l+12|0,h=0)),26==(0|m)&&(e=+f[(j=l+12|(m=0))>>2],h=1&((0|c[(k=l+8|0)>>2])!=(0|a)|(u=e!=d)&(0==d|0==e)),c[l+24>>2]=1&u,c[l+20>>2]=h,h=i),f[j>>2]=d,c[k>>2]=a,c[g>>2]=h,(l=l+28|0)>>>0<t>>>0)}}while(0)}while((b=b+52|0)>>>0<s>>>0)}}(a),Qb(a),function(a){var l,o,y,z,p,b=0,d=0,e=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,q=0,r=0,s=0,u=0,w=0,x=0,t=(b=0|c[(a|=0)+568>>2])+(36*(p=0|c[a+564>>2])|0)|0;if(!((0|p)<=0)){p=0==(0|c[a+620>>2]);do{o=0|c[b+4>>2];a:do{if(0<(0|o))for(i=0|c[b>>2],e=a=d=j=0;;){if(g=0|c[i+(j<<2)>>2],0|c[g+16>>2]){e=1,a=d=0;break a}if(e=e||0|c[g+24>>2],a=a||0|c[g+20>>2],d=d+(0!=+f[g+12>>2]&1)|0,(0|o)<=(0|(j=j+1|0))){i=d,x=11;break}}else e=a=i=0,x=11}while(0);b:do{if(11==(0|x))if(d=p?a:1,(x=0)!=((a=p?e:1)|d|0)&&(c[b+12>>2]=w=1<<i,q=0|c[b>>2],r=0|c[b+16>>2],s=0|c[b+20>>2],u=r+(w<<2)|0,31!=(0|i))){for($c(0|r,0,((e=r+4|0)>>>0<u>>>0?u:e)+~r+4&-4|0),e=s+(w<<2)|0,g=s;f[g>>2]=1,(g=g+4|0)>>>0<e>>>0;);if(1<=(0|o)){if(!i)for(i=0,k=1;;){if(g=0|c[q+(i<<2)>>2],j=0|v(0|c[g+8>>2],k),0==(h=+f[g+12>>2]))for(e=0;c[(n=r+(e<<2)|0)>>2]=(0|c[n>>2])+j,(0|(e=e+1|0))!=(0|w););else c[r>>2]=(0|c[r>>2])+j,f[s>>2]=(1-h)*+f[s>>2];if(k=0|v(0|c[g>>2],k),(0|(i=i+1|0))==(0|o)){e=0;break b}}m=0,n=e=1;do{if(l=0|c[q+(m<<2)>>2],g=0|c[8+l>>2],k=0|v(g,n),0==(h=+f[(j=12+l|0)>>2]))for(g=0;c[(j=r+(g<<2)|0)>>2]=(0|c[j>>2])+k,(0|(g=g+1|0))!=(0|w););else{for(i=0|v(g+1|0,n),c[r>>2]=(0|c[r>>2])+k,f[s>>2]=(1-h)*+f[s>>2],g=1;h=+f[j>>2],c[(y=r+(g<<2)|0)>>2]=((z=0!=(g&e|0))?i:k)+(0|c[y>>2]),f[(y=s+(g<<2)|0)>>2]=(z?h:1-h)*+f[y>>2],(0|(g=g+1|0))!=(0|w););e<<=1}}while(n=0|v(0|c[l>>2],n),(0|(m=m+1|0))!=(0|o));e=0}else e=0}else e=0}while(0)}while(c[b+28>>2]=a,c[b+24>>2]=d,c[b+32>>2]=e,(b=b+36|0)>>>0<t>>>0)}}(a),Rb(a),e=0|c[a+4>>2],d=(b=0|c[a+52>>2])+(e<<2)|0,0<(0|e))for(;g=+f[b>>2],f[b>>2]=g<0?0:1<g?1:g,(b=b+4|0)>>>0<d>>>0;);!function(a,b,d){d|=0;var e=0,f=(b|=0)+(12*(a|=0)|0)|0;if(!((0|a)<=0))for(e=d;;){do{if(0|c[b+8>>2]){if(-1!=(0|(a=0|c[b+4>>2]))&&0==(0|c[d+(a<<2)>>2])){a=0;break}a=0==(0|c[32+(0|c[b>>2])>>2])}else a=0}while(0);if(c[e>>2]=1&a,f>>>0<=(b=b+12|0)>>>0)break;e=e+4|0}}(e,0|c[a+8>>2],0|c[a+40>>2]),function(a){var e,f,i,q,r,b=0,d=0,g=0,h=0,k=0,l=0,o=0,p=0,s=0,t=0,u=0,j=0|c[8+(a|=0)>>2],b=0|c[a>>2],m=0|c[b+724>>2],n=0|c[a+4>>2];if(!((0|n)<=0))for(q=a+28|0,r=a+36|0,i=a+32|0,f=b+976|0,h=g=0;;){if(e=0|c[j+(12*g|0)>>2],6==(0|(u=0!=(0|c[(a=24+e|0)>>2])||0|c[28+e>>2]?6:u))&&(c[((u=0)|c[q>>2])+(g<<2)>>2]=c[(p=12+e|0)>>2],0|c[a>>2])&&(o=0|c[m+(g<<2)>>2],s=(k=0|c[16+e>>2])+((d=0|c[p>>2])<<2)|0,0<(0|d)))for(a=0|c[f>>2],b=(0|c[r>>2])+(h<<2)|0,d=k;c[b>>2]=c[a+((0|c[d>>2])+o<<2)>>2],!(s>>>0<=(d=d+4|0)>>>0);)b=b+4|0;if(0|c[28+e>>2]&&(t=(l=0|c[20+e>>2])+((d=0|c[12+e>>2])<<2)|0,0<(0|d)))for(a=(0|c[i>>2])+(h<<2)|0,b=l;c[a>>2]=c[b>>2],!(t>>>0<=(b=b+4|0)>>>0);)a=a+4|0;if((0|(g=g+1|0))==(0|n))break;h=(0|c[8+e>>2])+h|0}}(a),function(a){Aa(12+(a|=0)|0,0|c[36+a>>2],0|c[44+a>>2],0|c[40+a>>2])}(a),function(a){var d,f,g,h,i,k,b=0,e=0,j=S=(k=S)+63&-64;if(S=S+16|0,i=(b=0|c[308+(a|=0)>>2])+((e=0|c[a+304>>2])<<5)|0,f=0|c[a+40>>2],g=0|c[a+312>>2],h=0|c[a+144>>2],d=0|c[a+264>>2],(0|e)<=0)S=k;else{for(e=g;;){do{if(0|c[b+28>>2]){if(-1!=(0|(a=0|c[b+4>>2]))&&0==(0|c[f+(a<<2)>>2])){a=0;break}if(-1!=(0|(a=0|c[b+8>>2]))&&0==(0|c[g+(a<<2)>>2])){a=0;break}a=0==(0|c[32+(0|c[b>>2])>>2])}else a=0}while(0);switch(a&=1,c[e>>2]=a,0|c[b+12>>2]){case 0:c[h+(c[b+16>>2]<<2)>>2]=a;break;case 1:c[d+(c[b+16>>2]<<2)>>2]=a;break;default:ia(0,2874,j)}if(i>>>0<=(b=b+32|0)>>>0)break;e=e+4|0}S=k}}(a),Eb(a),Fb(a),va(a),wa(a),function(a){var b=0,d=0,g=(b=0|c[(a|=0)+336>>2])+(20*(d=0|c[a+332>>2])|0)|0,e=0|c[a+40>>2],f=0|c[a+312>>2];if(!((0|d)<=0))for(d=0|c[a+424>>2];;){do{if(0|c[b+12>>2]){if(-1!=(0|(a=0|c[b+4>>2]))&&0==(0|c[e+(a<<2)>>2])){a=0;break}if(-1!=(0|(a=0|c[b+8>>2]))&&0==(0|c[f+(a<<2)>>2])){a=0;break}a=0==(0|c[32+(0|c[b>>2])>>2])}else a=0}while(0);if(c[d>>2]=1&a,g>>>0<=(b=b+20|0)>>>0)break;d=d+4|0}}(a),Gb(a),xa(a),function(a){var e,f,i,q,r,b=0,d=0,g=0,h=0,k=0,l=0,o=0,p=0,s=0,t=0,u=0,j=0|c[504+(a|=0)>>2],b=0|c[a>>2],m=0|c[b+1192>>2],n=0|c[a+500>>2];if(!((0|n)<=0))for(q=a+524|0,r=a+532|0,i=a+528|0,f=b+1224|0,h=g=0;;){if(e=0|c[j+(24*g|0)>>2],6==(0|(u=0!=(0|c[(a=24+e|0)>>2])||0|c[28+e>>2]?6:u))&&(c[((u=0)|c[q>>2])+(g<<2)>>2]=c[(p=12+e|0)>>2],0|c[a>>2])&&(o=0|c[m+(g<<2)>>2],s=(k=0|c[16+e>>2])+((d=0|c[p>>2])<<2)|0,0<(0|d)))for(a=0|c[f>>2],b=(0|c[r>>2])+(h<<2)|0,d=k;c[b>>2]=c[a+((0|c[d>>2])+o<<2)>>2],!(s>>>0<=(d=d+4|0)>>>0);)b=b+4|0;if(0|c[28+e>>2]&&(t=(l=0|c[20+e>>2])+((d=0|c[12+e>>2])<<2)|0,0<(0|d)))for(a=(0|c[i>>2])+(h<<2)|0,b=l;c[a>>2]=c[b>>2],!(t>>>0<=(b=b+4|0)>>>0);)a=a+4|0;if((0|(g=g+1|0))==(0|n))break;h=(0|c[8+e>>2])+h|0}}(a),function(a){za(508+(a|=0)|0,0|c[532+a>>2],0|c[536+a>>2],0)}(a),fa(a),ha(a),function(a){var b=0,d=0,g=0,h=0,j=0,i=(b=0|c[8+(a|=0)>>2])+(12*(j=0|c[a+4>>2])|0)|0,e=0|c[a+48>>2];if(!((0|j)<=0))for(j=0|c[a+40>>2],d=e,a=0|c[a+52>>2];0|c[j>>2]&&(g=+f[a>>2],f[d>>2]=g,-1!=(0|(h=0|c[b+4>>2])))&&(f[d>>2]=g*+f[e+(h<<2)>>2]),!(i>>>0<=(b=b+12|0)>>>0);)j=j+4|0,d=d+4|0,a=a+4|0}(a),function(a){var d=0,e=0,f=0,b=0|c[304+(a|=0)>>2];if(!((0|b)<=0))for(d=0|c[312+a>>2],e=0|c[308+a>>2],f=0;0|c[d>>2]&&_[3&c[e+20>>2]](a,f),(0|(f=f+1|0))!=(0|b);)d=d+4|0,e=e+32|0}(a),Ab(a),ea(a),function(a){var g,j,b=0,d=0,e=0,h=0,i=0;if(!(0|c[(a|=0)+624>>2]||(g=(b=0|c[a+336>>2])+(20*(h=0|c[a+332>>2])|0)|0,(0|h)<=0)))for(h=0|c[a+424>>2],a=0|c[a+444>>2];;){if(0|c[h>>2]&&(e=0|c[a>>2],i=(d=0|c[b+16>>2])<<1,0<(0|d)))for(d=1;f[(j=e+(d<<2)|0)>>2]=-+f[j>>2],(0|(d=d+2|0))<(0|i););if(g>>>0<=(b=b+20|0)>>>0)break;h=h+4|0,a=a+4|0}}(a),function(a){var n,r,b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,o=0,p=0,q=0|c[(a|=0)+480>>2],j=(r=0|c[a+484>>2])+(28*q|0)|0,b=0|c[a+440>>2],d=0|c[a+44>>2],e=0|c[a+40>>2],f=0|c[a+424>>2];if(!((0|q)<=0)){k=r;do{if(0<(0|(g=0|c[k+4>>2])))for(h=0|c[k+12>>2],i=k+20|0,l=0;p=0|c[h+(l<<4)+4>>2],o=1==(0|c[h+(l<<4)>>2]),c[h+(l<<4)+12>>2]=c[(0==(0|c[(o?e:f)+(p<<2)>>2])?i:(o?d:b)+(p<<2)|0)>>2],(0|(l=l+1|0))!=(0|g););}while((k=k+28|0)>>>0<j>>>0);n=0|c[a+436>>2],o=a+488|0,p=a+492|0,l=a+496|0,m=0;do{if(0<(0|c[(a=r+(28*m|0)+24|0)>>2])){for(b=0|c[o>>2],e=0;c[b+(e<<2)>>2]=-1,(0|(e=e+1|0))<(0|(d=0|c[a>>2])););if(0<(0|d))for(b=0|c[l>>2],d=0;c[b+(d<<2)>>2]=-1,(0|(d=d+1|0))<(0|c[a>>2]););}if(0<(0|c[(k=r+(28*m|0)+4|0)>>2])){for(j=0|c[p>>2],d=0;c[j+(d<<2)>>2]=-1,(0|(d=d+1|0))<(0|(b=0|c[k>>2])););if(0<(0|b))for(e=0|c[r+(28*m|0)+12>>2],g=r+(28*m|0)+20|0,f=0|c[l>>2],i=0;d=(0|c[e+(i<<4)+12>>2])-(0|c[g>>2])|0,b=-1==(0|(b=0|c[(h=f+(d<<2)|0)>>2]))?(0|c[o>>2])+(d<<2)|0:j+(b<<2)|0,c[b>>2]=i,(0|(i=(c[h>>2]=i)+1|0))<(0|c[k>>2]););}if(0<(0|(b=0|c[a>>2]))){i=0|c[o>>2],j=r+(28*m|0)+12|0,d=(h=0)|c[r+(28*m|0)+8>>2];do{if(-1!=(0|(e=0|c[i+(h<<2)>>2]))){for(f=0|c[j>>2],g=0|c[p>>2];d=(b=1==(0|c[f+(e<<4)>>2])?(b=0|c[f+(e<<4)+8>>2],c[r+(28*b|0)+8>>2]=d,0|c[r+(28*b|0)>>2]):(c[n+(c[f+(e<<4)+4>>2]<<2)>>2]=d,1))+d|0,!((0|(e=0|c[g+((k=e)<<2)>>2]))<=(0|k)|-1==(0|e)););b=0|c[a>>2]}}while((0|(h=h+1|0))<(0|b))}}while((0|(m=m+1|0))!=(0|q))}}(a),Cb(a),c[a+620>>2]=0}function Qb(a){var l,s,b=0,e=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,t=0,u=0;if(!((0|d[4+(0|c[(a|=0)>>2])>>0])<4||(s=(b=0|c[a+544>>2])+(52*(l=0|c[a+540>>2])|0)|0,(0|l)<=0))){l=0==(0|c[a+620>>2]);do{a:do{if(1==(0|c[b>>2])&&(q=+f[b+44>>2],t=(r=0|c[b+36>>2])+(28*(k=0|c[b+40>>2])|0)|0,0<(0|k))){if(!l)for(j=r;;){g=0|c[j>>2];do{if(2<=(0|g)&&(o=0|c[j+4>>2],!(q<=(p=+f[o>>2])))){for(h=1,i=p;;){if(a=h+1|0,q<(e=+f[o+(h<<2)>>2])){k=25;break}if(!((0|a)<(0|g))){k=26;break}h=a,i=e}if(25==(0|k)){a=h+-1|0,e=(q-i)/(e-i);break}if(26==(0|k)){a=g+-1|0,e=0;break}}else e=a=0}while(0);if(i=+f[(h=j+16|0)>>2],g=1&((0|c[(k=j+12|0)>>2])!=(0|a)|(u=i!=e)&(0==e|0==i)),c[j+24>>2]=1&u,c[j+20>>2]=g,f[h>>2]=e,c[k>>2]=a,t>>>0<=(j=j+28|0)>>>0)break a}if(!(0|c[b+48>>2]))for(a=r;;)if(c[a+24>>2]=0,t>>>(c[a+20>>2]=0)<=(a=a+28|0)>>>0)break a;j=r;do{g=0|c[j>>2];do{if(2<=(0|g)&&(m=0|c[j+4>>2],!(q<=(n=+f[m>>2])))){for(h=1,i=n;;){if(a=h+1|0,q<(e=+f[m+(h<<2)>>2])){k=17;break}if(!((0|a)<(0|g))){k=18;break}h=a,i=e}if(17==(0|k)){a=h+-1|0,e=(q-i)/(e-i);break}if(18==(0|k)){a=g+-1|0,e=0;break}}else e=a=0}while(0)}while(i=+f[(k=j+16|0)>>2],h=1&((0|c[(u=j+12|0)>>2])!=(0|a)|(g=i!=e)&(0==e|0==i)),c[j+24>>2]=1&g,c[j+20>>2]=h,f[k>>2]=e,c[u>>2]=a,(j=j+28|0)>>>0<t>>>0)}}while(0)}while((b=b+52|0)>>>0<s>>>0)}}function Rb(a){var n,o,q,r,t,y,b=0,e=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,p=0,s=0,u=0,v=0,w=0,x=0;if(!((0|d[4+(0|c[(a|=0)>>2])>>0])<4||(y=(b=0|c[a+592>>2])+(48*(t=0|c[a+588>>2])|0)|0,(0|t)<=0))){t=0==(0|c[a+620>>2]);do{if(a=0|c[b>>2],g=t?0|c[a+24>>2]:1,(m=t?0|c[a+20>>2]:1)|g){k=0|c[a+12>>2],e=+f[a+16>>2],j=(0|k)==(0|(a=0|c[a+8>>2]));do{if(0!=e){if(i=k+1|0,j){e=(g=a=c[b+8>>2]=1)-e,s=11;break}a=(0|i)==(0|a)?1:2,s=10;break}}while(a=1&(1^j),s=10,0);10==(0|s)&&(s=0,c[b+8>>2]=a,g?(i=k,a=m,s=11):(i=k,a=m,g=0)),11==(0|s)&&(f[b+20>>2]=1-e,f[b+24>>2]=e),a?(c[b+12>>2]=i,c[b+16>>2]=i+1):a=0}else a=m;q=0|c[b+36>>2];a:do{if(0<(0|q)){if(r=0|c[b+40>>2],!t)for(k=0,e=1;;){j=0|c[r+(k<<2)>>2],i=0|c[j>>2];do{if(0!=(0|i)&&(u=0|c[j+4>>2],v=0|c[j+8>>2],w=0|c[j+12>>2],x=+f[i+44>>2],1<=(0|w))){if(1==(0|w)){h=+f[v>>2];break}if(x<=(h=+f[u>>2])){h=+f[v>>2];break}for(i=1;;){if(x<(l=+f[u+(i<<2)>>2])){s=43;break}if(!((0|(i=i+1|0))<(0|w))){s=44;break}h=l}if(43==(0|s)){h=(1-(h=(x-h)/(l-h)))*+f[v+(i+-1<<2)>>2]+h*+f[v+(i<<2)>>2];break}if(44==(0|s)){h=+f[v+(w+-1<<2)>>2];break}}else h=1}while(0);if(e=e<(f[j+16>>2]=h)?e:h,(0|(k=k+1|0))==(0|q))break a}p=0,e=1;do{o=0|c[r+(p<<2)>>2],i=0|c[o>>2];do{if(i){if(!(0|c[i+48>>2])){h=+f[16+o>>2];break}j=0|c[4+o>>2],k=0|c[8+o>>2],m=0|c[12+o>>2],n=+f[i+44>>2];do{if(1<=(0|m)){if(1==(0|m)){h=+f[k>>2];break}if(n<=(h=+f[j>>2])){h=+f[k>>2];break}for(i=1;;){if(n<(l=+f[j+(i<<2)>>2])){s=29;break}if(!((0|(i=i+1|0))<(0|m))){s=28;break}h=l}if(28==(0|s)){h=+f[k+(m+-1<<2)>>2];break}if(29==(0|s)){h=(1-(h=(n-h)/(l-h)))*+f[k+(i+-1<<2)>>2]+h*+f[k+(i<<2)>>2];break}}else h=1}while(0);f[16+o>>2]=h}else h=f[16+o>>2]=1}while(0)}while(e=e<h?e:h,(0|(p=p+1|0))!=(0|q))}else e=1}while(0)}while(f[b+44>>2]=e,c[b+28>>2]=a,c[b+32>>2]=g,(b=b+48|0)>>>0<y>>>0)}}function cc(b,d,e){b|=0,d|=0,e|=0;var f,j,h=0,g=S,i=S=S+63&-64;S=S+144|0,Zc(0|i,640,144),c[48+i>>2]=h=(h=-2-b|0)>>>0<256?h:256,c[(f=20+i|0)>>2]=b,j=(c[44+i>>2]=b)+h|0,c[(b=16+i|0)>>2]=j,c[28+i>>2]=j,dc(i,d,e),0|h&&(j=0|c[f>>2],a[j+(((0|j)==(0|c[b>>2]))<<31>>31)>>0]=0),S=g}function dc(a,b,c){gc(a|=0,b|=0,c|=0)}function ec(b,e,f,g,h,i){b|=0,e=+e,f|=0,g|=0,h|=0,i|=0;var C,B,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,w=0,x=0,y=0,A=0,D=0,E=0,F=0,G=0,H=S,l=S=S+63&-64;S=S+560|0,m=l+32|0,t=l+536|0,E=12+(l=(F=G=l)+540|0)|(c[t>>2]=0),vc(e),B=(0|(j=0|z()))<0?(vc(e=-e),j=0|z(),D=1,2955):(D=0!=(2049&h|0)&1,0==(2048&h|0)?0==(1&h|0)?2956:2961:2958);do{if(!0&2146435072==(2146435072&j|0))G=0!=(32&i|0),qc(b,32,f,j=D+3|0,-65537&h),ic(b,B,D),ic(b,e!=e|!1?G?2982:2986:G?2974:2978,3),qc(b,32,f,j,8192^h);else{if((j=0!=(q=2*+wc(e,t)))&&(c[t>>2]=(0|c[t>>2])-1),97==(0|(w=32|i))){r=0==(0|(o=32&i))?B:9+B|0,p=2|D,j=12-g|0;do{if(!(11<g>>>0|0==(0|j))){for(e=8;e*=16,0!=(0|(j=j+-1|0)););if(45==(0|a[r>>0])){e=-(e+(-q-e));break}e=q+e-e;break}}while(e=q,0);for((0|(j=0|oc(j=(0|(k=0|c[t>>2]))<0?0-k|0:k,((0|j)<0)<<31>>31,E)))==(0|E)&&(a[(j=l+11|0)>>0]=48),a[j+-1>>0]=43+(k>>31&2),a[(n=j+-2|0)>>0]=i+15,k=(0|g)<1,l=0==(8&h|0),j=G;m=j+1|0,a[j>>0]=o|d[480+(D=~~e)>>0],e=16*(e-(0|D)),1!=(m-F|0)||l&k&0==e||(a[m>>0]=46,m=j+2|0),0!=e;)j=m;qc(b,32,f,E=(j=0!=(0|g)&&(-2-F+m|0)<(0|g)?g+2+(k=E)-(l=n)|0:(k=E)-F-(l=n)+m|0)+p|0,h),ic(b,r,p),qc(b,48,f,E,65536^h),ic(b,G,F=m-F|0),qc(b,48,j-(F+(G=k-l|0))|0,0,0),ic(b,n,G),qc(b,32,f,E,8192^h),j=E;break}for(k=(0|g)<0?6:g,e=j?(l=(0|c[t>>2])-28|0,c[t>>2]=l,268435456*q):(l=0|c[t>>2],q),m=C=(0|l)<0?m:m+288|0;c[m>>2]=y=~~e>>>0,m=m+4|0,0!=(e=1e9*(e-(y>>>0))););if(y=C,0<(0|l)){j=C;do{if(o=(0|l)<29?l:29,j>>>0<=(l=m+-4|0)>>>0){for(n=0;s=0|Rc(0|(s=0|Xc(0|c[l>>2],0,0|o)),0|z(),0|n,0),x=0|Rc(0|s,0|(u=0|z()),0|(x=0|Qc(0|(n=0|Vc(0|s,0|u,1e9,0)),0|z(),-1e9,-1)),0|z()),z(),c[l>>2]=x,j>>>0<=(l=l+-4|0)>>>0;);n&&(c[(j=j+-4|0)>>2]=n)}a:do{if(j>>>0<m>>>0)for(;;){if(0|c[(l=m+-4|0)>>2])break a;if(!(j>>>0<l>>>0)){m=l;break}m=l}}while(0)}while(l=(0|c[t>>2])-o|0,0<(0|(c[t>>2]=l)))}else j=C;if((0|l)<0){g=1+((k+25|0)/9|0)|0,s=102==(0|w);do{if(r=(0|(r=0-l|0))<9?r:9,j>>>0<m>>>0){for(o=(1<<r)-1|0,n=r?1e9>>>r:1e9,p=0,l=j;x=0|c[l>>2],c[l>>2]=(r?x>>>r:x)+p,p=0|v(x&o,n),(l=l+4|0)>>>0<m>>>0;);j=0==(0|c[j>>2])?j+4|0:j,p&&(c[m>>2]=p,m=m+4|0)}else j=0==(0|c[j>>2])?j+4|0:j}while(m=(0|g)<((x=m-(l=s?C:j)|0)>>2|0)?l+(g<<2)|0:m,l=(0|c[t>>2])+r|0,(0|(c[t>>2]=l))<0);s=m}else s=m;if(j>>>0<s>>>0){if(l=9*((y-j|0)>>2)|0,10<=(n=0|c[j>>2])>>>0)for(m=10;l=l+1|0,(m=10*m|0)>>>0<=n>>>0;);}else l=0;if((0|(m=k-(102==(0|w)?0:l)+(((u=0!=(0|k))&(t=103==(0|w)))<<31>>31)|0))<((9*((x=s-y|0)>>2)|0)-9|0)){if(g=C+4+((m=(0|(x=m+9216|0))/9|0)-1024<<2)|0,(0|(m=x+(0|v(m,-9))|0))<8)for(n=10;n=10*n|0,(0|m)<7;)m=m+1|0;else n=10;if((p=(g+4|0)==(0|s))&0==(0|(o=(o=0|c[g>>2])-(r=0|v(m=(o>>>0)/(n>>>0)|0,n))|0)))m=g;else if(q=0==(1&m|0)?9007199254740992:9007199254740994,e=o>>>0<(x=n>>>1)>>>0?.5:p&(0|o)==(0|x)?1:1.5,D&&(q=(x=45==(0|a[B>>0]))?-q:q,e=x?-e:e),c[g>>2]=r,q+e!=q){if(999999999<(c[g>>2]=x=r+n|0)>>>0)for(l=g;(m=l+-4|0)>>>(c[l>>2]=0)<j>>>0&&(c[(j=j+-4|0)>>2]=0),x=1+(0|c[m>>2])|0,999999999<(c[m>>2]=x)>>>0;)l=m;else m=g;if(l=9*((y-j|0)>>2)|0,10<=(o=0|c[j>>2])>>>0)for(n=10;l=l+1|0,(n=10*n|0)>>>0<=o>>>0;);}else m=g;x=j,j=(w=m+4|0)>>>0<s>>>0?w:s}else x=j,j=s;r=0-l|0;b:do{if(x>>>0<j>>>0)for(;;){if(0|c[(m=j+-4|0)>>2]){s=1,w=j;break b}if(!(x>>>0<m>>>0)){s=0,w=m;break}j=m}else s=0,w=j}while(0);do{if(t){if(n=(0|l)<(0|(j=k+(1&(1^u))|0))&-5<(0|l)?(k=j+-1-l|0,i+-1|0):(k=j+-1|0,i+-2|0),!(8&h)){if(s&&0!=(0|(A=0|c[w+-4>>2])))if((A>>>0)%10|0)m=0;else for(j=10,m=0;m=m+1|0,!((A>>>0)%((j=10*j|0)>>>0)|0););else m=9;if(j=(9*((w-y|0)>>2)|0)-9|0,102==(32|n)){k=(0|k)<(0|(i=0<(0|(i=j-m|0))?i:0))?k:i;break}k=(0|k)<(0|(i=0<(0|(i=j+l-m|0))?i:0))?k:i;break}}else n=i}while(0);if(o=(g=0!=(0|k))?1:h>>>3&1,p=102==(32|n))j=(u=0)<(0|l)?l:0;else{if(((m=E)-(j=0|oc(j=(0|l)<0?r:l,((0|j)<0)<<31>>31,E))|0)<2)for(;a[(j=j+-1|0)>>0]=48,(m-j|0)<2;);a[j+-1>>0]=43+(l>>31&2),a[(j=j+-2|0)>>0]=n,j=m-(u=j)|0}if(qc(b,32,f,j=D+1+k+o+j|0,h),ic(b,B,D),qc(b,48,f,j,65536^h),p){p=r=G+9|0,n=G+8|0,m=o=C>>>0<x>>>0?C:x;do{if(l=0|oc(0|c[m>>2],0,r),(0|m)==(0|o))(0|l)==(0|r)&&(a[n>>0]=48,l=n);else if(G>>>0<l>>>0)for($c(0|G,48,l-F|0);G>>>0<(l=l+-1|0)>>>0;);}while(ic(b,l,p-l|0),(m=m+4|0)>>>0<=C>>>0);if(0==(8&h|0)&(1^g)||ic(b,2990,1),m>>>0<w>>>0&0<(0|k))for(;;){if(G>>>0<(l=0|oc(0|c[m>>2],0,r))>>>0)for($c(0|G,48,l-F|0);G>>>0<(l=l+-1|0)>>>0;);if(ic(b,l,(0|k)<9?k:9),l=k+-9|0,!((m=m+4|0)>>>0<w>>>0&9<(0|k))){k=l;break}k=l}qc(b,48,k+9|0,9,0)}else{if(x>>>0<(g=s?w:x+4|0)>>>0&-1<(0|k)){t=0==(8&h|0),s=r=G+9|0,n=0-F|0,p=G+8|0,o=x;do{(0|(l=0|oc(0|c[o>>2],0,r)))==(0|r)&&(a[p>>0]=48,l=p);do{if((0|o)==(0|x)){if(m=l+1|0,ic(b,l,1),t&(0|k)<1){l=m;break}ic(b,2990,1),l=m}else{if(l>>>0<=G>>>0)break;for($c(0|G,48,l+n|0);G>>>0<(l=l+-1|0)>>>0;);}}while(0)}while(ic(b,l,(0|(F=s-l|0))<(0|k)?F:k),(o=o+4|0)>>>0<g>>>0&-1<(0|(k=k-F|0)))}qc(b,48,k+18|0,18,0),ic(b,u,E-u|0)}qc(b,32,f,j,8192^h)}}while(0);return S=H,0|((0|j)<(0|f)?f:j)}function gc(b,d,e){b|=0,d|=0,e|=0;var h,i,j,k,l,n,o,f=0,g=0,p=S,m=S=S+63&-64;for(S=S+224|0,l=208+m|0,n=80+m|0,g=40+(f=o=160+m|0)|0;(0|(f=f+4|(c[f>>2]=0)))<(0|g););c[l>>2]=c[e>>2],0<=(0|hc(0,d,l,n,o))&&(k=32&(e=0|c[b>>2]),(0|a[b+74>>0])<1&&(c[b>>2]=-33&e),0|c[(g=b+48|0)>>2]?hc(b,d,l,n,o):(e=0|c[(f=b+44|0)>>2],c[f>>2]=m,c[(h=b+28|0)>>2]=m,c[(j=b+20|0)>>2]=m,c[g>>2]=80,c[(i=b+16|0)>>2]=80+m,hc(b,d,l,n,o),0|e&&(X[3&c[b+36>>2]](b,0,0),c[f>>2]=e,c[g>>2]=0,c[i>>2]=0,c[h>>2]=0,c[j>>2]=0)),c[b>>2]=c[b>>2]|k),S=p}function hc(d,e,f,h,i){d|=0,f|=0,h|=0,i|=0;var v,w,x,y,A,B,D,E,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,G=0,F=S,C=S=S+63&-64;S=S+64|0,D=56+C|0,B=40+C|0,E=48+(w=C)|0,C=60+C|0,c[D>>2]=e|=0,A=0!=(0|d),y=v=40+w|0,w=39+w|0,x=4+E|0,m=j=e=0;a:for(;;){do{do{if(-1<(0|e)){if((2147483647-e|0)<(0|j)){c[1026]=61,e=-1;break}e=j+e|0;break}}while(0);if(p=0|c[D>>2],!((j=0|a[p>>0])<<24>>24)){u=91;break a}k=p;b:for(;;){switch(j<<24>>24){case 37:u=10;break b;case 0:j=k;break b}c[D>>2]=t=k+1|0,j=0|a[t>>0],k=t}c:do{if(10==(0|u)){u=0,j=l=k;do{if(37!=(0|a[l+1>>0]))break c}while(j=j+1|0,c[D>>2]=l=l+2|0,37==(0|a[l>>0]))}}while(0)}while(j=j-p|0,A&&ic(d,p,j),0!=(0|j));if(l=0|c[D>>2],o=0|jc(j=0|a[l+1>>0])?(k=(o=36==(0|a[l+2>>0]))?3:1,r=o?j+-48|0:-1,o?1:m):(r=-(k=1),m),c[D>>2]=k=l+k|0,31<(l=((j=0|a[k>>0])<<24>>24)-32|0)>>>0|0==(1<<l&75913|0))n=0;else for(j=0;;){if(m=1<<l|j,c[D>>2]=k=k+1|0,31<(l=((j=0|a[k>>0])<<24>>24)-32|0)>>>0|0==(1<<l&75913|0)){n=m;break}j=m}if(j<<24>>24==42){if(0!=(0|jc(j=0|a[(l=k+1|0)>>0]))&&36==(0|a[k+2>>0]))c[i+(j+-48<<2)>>2]=10,m=1,j=k+3|0,k=0|c[h+((0|a[l>>0])-48<<3)>>2];else{if(0|o){e=-1;break}A?(m=3+(0|c[f>>2])&-4,k=0|c[m>>2],c[f>>2]=m+4,m=0,j=l):(j=l,k=m=0)}l=c[D>>2]=j,q=(s=(0|k)<0)?8192|n:n,t=m,s=s?0-k|0:k}else{if((0|(j=0|kc(D)))<0){e=-1;break}l=0|c[D>>2],q=n,t=o,s=j}do{if(46==(0|a[l>>0])){if(42!=(0|a[(j=l+1|0)>>0])){c[D>>2]=j,n=0|kc(D),j=0|c[D>>2];break}if(0|jc(k=0|a[(j=l+2|0)>>0])&&36==(0|a[l+3>>0])){c[i+(k+-48<<2)>>2]=10,n=0|c[h+((0|a[j>>0])-48<<3)>>2],c[D>>2]=j=l+4|0;break}if(0|t){e=-1;break a}A?(o=3+(0|c[f>>2])&-4,k=0|c[o>>2],c[f>>2]=o+4):k=0,c[D>>2]=j,n=k}else j=l,n=-1}while(0);for(o=0;;){if(57<((0|a[j>>0])-65|0)>>>0){e=-1;break a}if(c[D>>2]=k=j+1|0,!(((m=255&(l=0|a[(0|a[j>>0])-65+(16+(58*o|0))>>0]))-1|0)>>>0<8))break;j=k,o=m}if(!(l<<24>>24)){e=-1;break}k=-1<(0|r);do{if(l<<24>>24==19){if(k){e=-1;break a}u=52}else{if(k){c[i+(r<<2)>>2]=m,r=0|c[4+(m=h+(r<<3)|0)>>2],c[(u=B)>>2]=c[m>>2],c[u+4>>2]=r,u=52;break}if(!A){e=0;break a}lc(B,m,f),u=53}}while(0);52==(0|u)&&(u=0,A?u=53:j=0);d:do{if(53==(0|u)){l=(u=0)!=(0|o)&3==(15&(l=0|a[j>>0])|0)?-33&l:l,j=-65537&q,r=0==(8192&q|0)?q:j;e:do{switch(0|l){case 110:switch((255&o)<<24>>24){case 0:case 1:c[c[B>>2]>>2]=e,j=0;break d;case 2:j=0|c[B>>2],c[j>>2]=e,c[j+4>>2]=((0|e)<0)<<31>>31,j=0;break d;case 3:b[c[B>>2]>>1]=e,j=0;break d;case 4:a[c[B>>2]>>0]=e,j=0;break d;case 6:c[c[B>>2]>>2]=e,j=0;break d;case 7:j=0|c[B>>2],c[j>>2]=e,c[j+4>>2]=((0|e)<0)<<31>>31,j=0;break d;default:j=0;break d}case 112:j=8|r,k=8<n>>>0?n:8,m=120,u=65;break;case 88:case 120:j=r,k=n,m=l,u=65;break;case 111:n=0==(8&(j=r)|0)|(0|(l=y-(o=0|function(b,c,d){if(d|=0,!(0==(0|(b|=0))&0==(0|(c|=0))))for(;a[(d=d+-1|0)>>0]=7&b|48,!(0==(0|(b=0|Wc(0|b,0|c,3)))&0==(0|(c=0|z()))););return 0|d}(p=0|c[(q=B)>>2],q=0|c[q+4>>2],v))|0))<(0|n)?n:l+1|0,l=0,k=2938,u=71;break;case 105:case 100:if(j=0|c[(k=B)>>2],(0|(k=0|c[k+4>>2]))<0){j=0|Sc(0,0,0|j,0|k),k=0|z(),c[(l=B)>>2]=j,c[l+4>>2]=k,l=1,m=2938,u=70;break e}l=0!=(2049&r|0)&1,m=0==(2048&r|0)?0==(1&r|0)?2938:2940:2939,u=70;break e;case 117:j=0|c[(k=B)>>2],k=0|c[k+4>>2],l=0,m=2938,u=70;break;case 99:a[w>>0]=c[B>>2],p=w,o=j,m=1,l=0,k=2938,j=y;break;case 115:p=q=0==(0|(q=0|c[B>>2]))?2948:q,o=j,m=(G=0==(0|(r=0|pc(q,n))))?n:r-q|0,l=0,k=2938,j=G?q+n|0:r;break;case 67:c[E>>2]=c[B>>2],c[x>>2]=0,l=c[B>>2]=E,n=-1,u=78;break;case 83:if(n){l=0|c[B>>2],u=78;break e}qc(d,32,s,0,r),j=0,u=88;break e;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:j=0|ec(d,+g[B>>3],s,n,r,l);break d;default:o=r,m=n,l=0,k=2938,j=y}}while(0);f:do{if(65==(0|u))o=0|mc(p=0|c[(q=B)>>2],q=0|c[q+4>>2],v,32&m),n=k,l=(G=0==(8&j|0)|0==(0|p)&0==(0|q))?0:2,k=G?2938:2938+(m>>>4)|0,u=71;else if(70==(0|u))o=0|oc(p=j,q=k,v),j=r,k=m,u=71;else if(78==(0|u)){for(j=u=0,o=l;k=0|c[o>>2];){if((m=(0|(k=0|rc(C,k)))<0)|(n-j|0)>>>0<k>>>0){u=82;break}if(!((j=k+j|0)>>>0<n>>>0))break;o=o+4|0}if(82==(0|u)&&(u=0,m)){e=-1;break a}if(qc(d,32,s,j,r),j)for(m=0;;){if(!(k=0|c[l>>2])){u=88;break f}if((0|j)<(0|(m=(k=0|rc(C,k))+m|0))){u=88;break f}if(ic(d,C,k),j>>>0<=m>>>0){u=88;break}l=l+4|0}else j=0,u=88}}while(0);if(71==(0|u))G=(u=0)!=(0|n)|(m=0!=(0|p)|0!=(0|q)),m=y-o+(1&(1^m))|0,p=G?o:v,o=-1<(0|n)?-65537&j:j,m=G?(0|m)<(0|n)?n:m:0,j=y;else if(88==(0|u)){u=0,qc(d,32,s,j,8192^r),j=(0|j)<(0|s)?s:j;break}qc(d,32,j=(0|s)<(0|(G=(q=(0|m)<(0|(r=j-p|0))?r:m)+l|0))?G:s,G,o),ic(d,k,l),qc(d,48,j,G,65536^o),qc(d,48,q,r,0),ic(d,p,r),qc(d,32,j,G,8192^o)}}while(0);m=t}g:do{if(91==(0|u)&&!d)if(m){for(e=1;j=0|c[i+(e<<2)>>2];)if(lc(h+(e<<3)|0,j,f),10<=(e=e+1|0)>>>0){e=1;break g}for(j=0;;){if(e=e+1|0,0|j){e=-1;break g}if(10<=e>>>0){e=1;break g}j=0|c[i+(e<<2)>>2]}}else e=0}while(0);return S=F,0|e}function ic(a,b,d){b|=0,d|=0,32&c[(a|=0)>>2]||tc(b,d,a)}function jc(a){return((0|a)-48|0)>>>0<10|0}function kc(b){var d=0,e=0,f=0,e=0|c[(b|=0)>>2];if(0|jc((d=0|a[e>>0])<<24>>24))for(f=d,d=0;d=(10*d|0)-48+(f<<24>>24)|0,c[b>>2]=e=e+1|0,0!=(0|jc((f=0|a[e>>0])<<24>>24)););else d=0;return 0|d}function lc(a,b,d){a|=0,b|=0,d|=0;var h,e=0,f=0;a:do{if(b>>>0<=20)switch(0|b){case 9:e=3+(0|c[d>>2])&-4,b=0|c[e>>2],c[d>>2]=e+4,c[a>>2]=b;break a;case 10:e=3+(0|c[d>>2])&-4,b=0|c[e>>2],c[d>>2]=e+4,c[(e=a)>>2]=b,c[e+4>>2]=((0|b)<0)<<31>>31;break a;case 11:e=3+(0|c[d>>2])&-4,b=0|c[e>>2],c[d>>2]=e+4,c[(e=a)>>2]=b,c[e+4>>2]=0;break a;case 12:e=7+(0|c[d>>2])&-8,f=0|c[(b=e)>>2],b=0|c[b+4>>2],c[d>>2]=e+8,c[(e=a)>>2]=f,c[e+4>>2]=b;break a;case 13:f=3+(0|c[d>>2])&-4,e=0|c[f>>2],c[d>>2]=f+4,c[(f=a)>>2]=e=(65535&e)<<16>>16,c[f+4>>2]=((0|e)<0)<<31>>31;break a;case 14:f=3+(0|c[d>>2])&-4,e=0|c[f>>2],c[d>>2]=f+4,c[(f=a)>>2]=65535&e,c[f+4>>2]=0;break a;case 15:f=3+(0|c[d>>2])&-4,e=0|c[f>>2],c[d>>2]=f+4,c[(f=a)>>2]=e=(255&e)<<24>>24,c[f+4>>2]=((0|e)<0)<<31>>31;break a;case 16:f=3+(0|c[d>>2])&-4,e=0|c[f>>2],c[d>>2]=f+4,c[(f=a)>>2]=255&e,c[f+4>>2]=0;break a;case 17:f=7+(0|c[d>>2])&-8,h=+g[f>>3],c[d>>2]=f+8,g[a>>3]=h;break a;case 18:!function(a,b){a|=0;var e=7+(0|c[(b|=0)>>2])&-8,d=+g[e>>3];c[b>>2]=8+e,g[a>>3]=d}(a,d);break a;default:break a}}while(0)}function mc(b,c,e,f){if(e|=0,f|=0,!(0==(0|(b|=0))&0==(0|(c|=0))))for(;a[(e=e+-1|0)>>0]=0|d[480+(15&b)>>0]|f,!(0==(0|(b=0|Wc(0|b,0|c,4)))&0==(0|(c=0|z()))););return 0|e}function oc(b,c,d){d|=0;var e,f=0,g=0;if(0<(c|=0)>>>0|0==(0|c)&4294967295<(b|=0)>>>0)for(;g=0|Rc(0|(e=b),0|(f=c),0|(g=0|Qc(0|(b=0|Vc(0|b,0|c,10,0)),0|(c=0|z()),-10,-1)),0|z()),z(),a[(d=d+-1|0)>>0]=255&g|48,9<f>>>0|9==(0|f)&4294967295<e>>>0;);if(b)for(;f=255&((g=b)+(0|v(b=(b>>>0)/10|0,-10))|48),a[(d=d+-1|0)>>0]=f,10<=g>>>0;);return 0|d}function pc(b,d){b|=0;var e=0,f=0,e=0!=(0|(d|=0));a:do{if(e&0!=(3&b|0))for(;;){if(!(0|a[b>>0]))break a;if(!((e=0!=(0|(d=d+-1|0)))&0!=(3&(b=b+1|0)|0))){f=5;break}}else f=5}while(0);b:do{if(5==(0|f)){do{if(e){if(!(0|a[b>>0])){if(d)break b;break}c:do{if(3<d>>>0)for(;;){if((-2139062144&(e=0|c[b>>2])^-2139062144)&e+-16843009|0)break c;if(b=b+4|0,(d=d+-4|0)>>>0<=3){f=11;break}}else f=11}while(0);if(11==(0|f)&&!d)break;for(;;){if(!(0|a[b>>0]))break b;if(!(d=d+-1|0))break;b=b+1|0}}}while(0);b=0}}while(0);return 0|b}function qc(a,b,c,d,e){a|=0,b|=0;var g=S,f=S=S+63&-64;if(S=S+256|0,(0|(d|=0))<(0|(c|=0))&0==(73728&(e|=0)|0)){if($c(0|f,b<<24>>24|0,0|((e=c-d|0)>>>0<256?e:256)),255<e>>>0){for(d=e;ic(a,f,256),255<(d=d+-256|0)>>>0;);e&=255}ic(a,f,e)}S=g}function rc(a,b){return b|=0,0|((a|=0)?0|sc(a,b):0)}function sc(b,d){b|=0,d|=0;do{if(b){if(d>>>0<128){a[b>>0]=d,b=1;break}if(!(0|c[1020])){if(57216==(-128&d|0)){a[b>>0]=d,b=1;break}c[1026]=25,b=-1;break}if(d>>>0<2048){a[b>>0]=d>>>6|192,a[b+1>>0]=63&d|128,b=2;break}if(d>>>0<55296|57344==(-8192&d|0)){a[b>>0]=d>>>12|224,a[b+1>>0]=d>>>6&63|128,a[b+2>>0]=63&d|128,b=3;break}if((d+-65536|0)>>>0<1048576){a[b>>0]=d>>>18|240,a[b+1>>0]=d>>>12&63|128,a[b+2>>0]=d>>>6&63|128,a[b+3>>0]=63&d|128,b=4;break}c[1026]=25,b=-1;break}}while(b=1,0);return 0|b}function tc(b,d,e){b|=0,d|=0;var i,f=0,g=0,h=0;(f=0|c[(g=16+(e|=0)|0)>>2])?h=5:0|function(b){var d=0,e=0|a[(d=74+(b|=0)|0)>>0];return a[d>>0]=255+e|e,0|(d=8&(d=0|c[b>>2])?(c[b>>2]=32|d,-1):(c[8+b>>2]=0,d=(c[4+b>>2]=0)|c[44+b>>2],c[28+b>>2]=d,c[20+b>>2]=d,c[16+b>>2]=d+(0|c[48+b>>2]),0))}(e)||(f=0|c[g>>2],h=5);a:do{if(5==(0|h)){if((f-(g=h=0|c[(i=e+20|0)>>2])|0)>>>0<d>>>0){X[3&c[e+36>>2]](e,b,d);break}b:do{if((0|a[e+75>>0])<0|0==(0|d))f=d;else{for(h=d;10!=(0|a[b+(f=h+-1|0)>>0]);){if(!f){f=d;break b}h=f}if((0|X[3&c[e+36>>2]](e,b,h))>>>0<h>>>0)break a;g=0|c[i>>2],f=d-h|0,b=b+h|0}}while(0);Zc(0|g,0|b,0|f),c[i>>2]=(0|c[i>>2])+f}}while(0)}function vc(a){g[h>>3]=a=+a,a=0|c[h>>2],y(0|c[h+4>>2])}function wc(a,b){b|=0;var e,f,d=0;switch(g[h>>3]=a=+a,f=0|Wc(0|(d=0|c[h>>2]),0|(e=0|c[h+4>>2]),52),z(),2047&f){case 0:d=0!=a?(a=+wc(0x10000000000000000*a,b),(0|c[b>>2])-64|0):0,c[b>>2]=d;break;case 2047:break;default:c[b>>2]=(2047&f)-1022,c[h>>2]=d,c[h+4>>2]=-2146435073&e|1071644672,a=+g[h>>3]}return+a}function yc(b){var g,c=0,e=0,f=0,c=0|a[(b|=0)>>0];a:do{if(c<<24>>24)for(e=b,f=4,b=1052;;){if(!(c<<24>>24==(g=0|a[b>>0])<<24>>24&0!=(0|(f=f+-1|0))&g<<24>>24!=0))break a;if(b=b+1|0,!((c=0|a[(e=e+1|0)>>0])<<24>>24)){c=0;break}}else c=0,b=1052}while(0);return(255&c)-(0|d[b>>0])|0}function Ac(a){var b;return 0|(0==(0|(b=0|pc(a|=0,64)))?64:b-a|0)}function Cc(a,b,d){b|=0,d|=0;var g,h,e=0,f=0,j=S,i=S=S+63&-64;S=S+240|0,c[i>>2]=a|=0;a:do{if(1<(0|b))for(f=e=a,a=1;;){if(-1<(0|oa(e,g=(f=f+-4|0)+(0-(0|c[d+((h=b+-2|0)<<2)>>2]))|0))&&-1<(0|oa(e,f)))break a;if(e=i+(a<<2)|0,a=a+1|0,(0|(b=-1<(0|oa(g,f))?(f=c[e>>2]=g,b+-1|0):(c[e>>2]=f,h)))<=1)break a;e=0|c[i>>2]}else a=1}while(0);Ic(i,a),S=j}function Dc(a,b){var d=0,e=0,f=4+(a|=0)|0;31<(b|=0)>>>0?(d=0|c[f>>2],c[a>>2]=d,b=b+-32|(e=c[f>>2]=0)):(d=0|c[a>>2],e=0|c[f>>2]),c[a>>2]=e<<32-b|(b?d>>>b:d),c[f>>2]=b?e>>>b:e}function Ec(a,b,d,e,f,g){a|=0,d|=0,e|=0,f|=0,g|=0;var j,k,h=0,i=0,m=S,l=S=S+63&-64;S=S+240|0,c[(k=232+l|0)>>2]=b|=0,c[(j=4+k|0)>>2]=d,c[l>>2]=a;a:do{if(1!=(0|b)|0!=(0|d)&&1<=(0|oa(h=a+(0-(0|c[g+(e<<2)>>2]))|0,a)))for(b=h,i=1,h=0==(0|f);;){if(h&1<(0|e)){if(-1<(0|oa(h=a+-4|0,b))){b=a,h=i,d=10;break a}if(-1<(0|oa(h+(0-(0|c[g+(e+-2<<2)>>2]))|0,b))){b=a,h=i,d=10;break a}}if(d=i+1|0,c[l+(i<<2)>>2]=b,Dc(k,f=0|Gc(k)),e=f+e|0,!(1!=(0|c[k>>2])|0!=(0|c[j>>2]))){h=d,d=10;break a}if((0|oa(h=b+(0-(0|c[g+(e<<2)>>2]))|0,0|c[l>>2]))<1){h=d,d=10;break}a=b,b=h,i=d,h=1}else d=9}while(0);9==(0|d)&&0==(0|f)&&(b=a,h=1,d=10),10==(0|d)&&(Ic(l,h),Cc(b,e,g)),S=m}function Fc(a,b){var d=0,e=0,f=4+(a|=0)|0;31<(b|=0)>>>0?(d=0|c[a>>2],c[f>>2]=d,b=b+-32|(e=c[a>>2]=0)):(d=0|c[f>>2],e=0|c[a>>2]),c[f>>2]=((f=32-b|0)?e>>>f:e)|d<<b,c[a>>2]=e<<b}function Gc(a){var b;return(b=0|Hc((0|c[(a|=0)>>2])-1|0))?0|b:0|(0==(0|(a=0|Hc(0|c[a+4>>2])))?0:a+32|0)}function Hc(a){var b=0;if(a|=0)if(1&a)b=0;else for(b=0;b=b+1|0,!(2&a);)a>>>=1;else b=32;return 0|b}function Ic(a,b){a|=0;var f,d=0,e=S,d=S=S+63&-64;if(S=S+256|0,2<=(0|(b|=0)))for(Zc(0|(c[a+(b<<2)>>2]=d),0|c[a>>2],4),d=0;Zc(0|c[(f=a+(d<<2)|0)>>2],0|c[a+((d=d+1|0)<<2)>>2],4),c[f>>2]=4+(0|c[f>>2]),(0|d)!=(0|b););S=e}function Jc(a){a|=0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=S,n=S=S+63&-64;S=S+16|0;do{if(a>>>0<245){if(m=0|c[1027],3&(d=(a=(k=a>>>0<11?16:a+11&-8)>>>3)?m>>>a:m)|0)return a=0|c[(b=8+(f=4148+((e=(1&d^1)+a|0)<<1<<2)|0)|0)>>2],(0|(d=0|c[(g=a+8|0)>>2]))==(0|f)?c[1027]=m&~(1<<e):(c[d+12>>2]=f,c[b>>2]=d),c[a+4>>2]=3|(v=e<<3),c[(v=a+v+4|0)>>2]=1|c[v>>2],S=w,0|g;if((l=0|c[1029])>>>0<k>>>0){if(0|d)return g=0|c[(b=8+(d=4148+((e=((a=(e=(i=(e=((e=d<<a&((e=2<<a)|0-e))&0-e)-1|0)>>>12&16)?e>>>i:e)>>>5&8)|i|(g=(e=a?e>>>a:e)>>>2&4)|(b=(e=g?e>>>g:e)>>>1&2)|(d=(e=b?e>>>b:e)>>>1&1))+(d?e>>>d:e)|0)<<1<<2)|0)|0)>>2],(0|(a=0|c[(i=g+8|0)>>2]))==(0|d)?c[1027]=a=m&~(1<<e):(c[a+12>>2]=d,c[b>>2]=a,a=m),h=(v=e<<3)-k|0,c[g+4>>2]=3|k,c[4+(f=g+k|0)>>2]=1|h,c[g+v>>2]=h,0|l&&(e=0|c[1032],d=4148+((b=l>>>3)<<1<<2)|0,a=a&(b=1<<b)?0|c[(b=a=d+8|0)>>2]:(c[1027]=a|b,b=d+8|0,d),c[b>>2]=e,c[a+12>>2]=e,c[e+8>>2]=a,c[e+12>>2]=d),c[1029]=h,c[1032]=f,S=w,0|i;if(g=0|c[1028]){for(j=0|c[4412+(((e=(j=(f=(j=(g&0-g)-1|0)>>>12&16)?j>>>f:j)>>>5&8)|f|(h=(j=e?j>>>e:j)>>>2&4)|(d=(j=h?j>>>h:j)>>>1&2)|(i=(j=d?j>>>d:j)>>>1&1))+(i?j>>>i:j)<<2)>>2],i=(-8&c[j+4>>2])-k|0,d=j;(a=0|c[d+16>>2])||(a=0|c[d+20>>2]);)i=(h=(d=(-8&c[a+4>>2])-k|0)>>>0<i>>>0)?d:i,d=a,j=h?a:j;if(j>>>0<(h=j+k|0)>>>0){f=0|c[j+24>>2],b=0|c[j+12>>2];do{if((0|b)==(0|j)){if(!(b=0|c[(a=j+20|0)>>2])&&!(b=0|c[(a=j+16|0)>>2])){d=0;break}for(;;)if(d=0|c[(e=b+20|0)>>2])b=d,a=e;else{if(!(d=0|c[(e=b+16|0)>>2]))break;b=d,a=e}c[a>>2]=0,d=b}else d=0|c[j+8>>2],c[d+12>>2]=b,c[b+8>>2]=d,d=b}while(0);do{if(0|f){if(b=0|c[j+28>>2],(0|j)==(0|c[(a=4412+(b<<2)|0)>>2])){if(!(c[a>>2]=d)){c[1028]=g&~(1<<b);break}}else if(!(c[((0|c[(v=f+16|0)>>2])==(0|j)?v:f+20|0)>>2]=d))break;c[d+24>>2]=f,0|(b=0|c[j+16>>2])&&(c[d+16>>2]=b,c[b+24>>2]=d),0|(b=0|c[j+20>>2])&&(c[d+20>>2]=b,c[b+24>>2]=d)}}while(0);return i>>>0<16?(c[j+4>>2]=3|(v=i+k|0),c[(v=j+v+4|0)>>2]=1|c[v>>2]):(c[j+4>>2]=3|k,c[h+4>>2]=1|i,c[h+i>>2]=i,0|l&&(e=0|c[1032],d=4148+((b=l>>>3)<<1<<2)|0,a=(b=1<<b)&m?0|c[(b=a=d+8|0)>>2]:(c[1027]=b|m,b=d+8|0,d),c[b>>2]=e,c[a+12>>2]=e,c[e+8>>2]=a,c[e+12>>2]=d),c[1029]=i,c[1032]=h),S=w,j+8|0}m=k}else m=k}else m=k}else if(a>>>0<=4294967231)if(k=-8&(a=a+11|0),e=0|c[1028]){d=0-k|0,j=(a>>>=8)?16777215<k>>>0?31:1&((r=7+(j=14-((i=(520192+(j=a<<(m=(a+1048320|0)>>>16&8))|0)>>>16&4)|m|(r=(245760+(j<<=i)|0)>>>16&2))+(j<<r>>>15)|0)|0)?k>>>r:k)|j<<1:0,a=0|c[4412+(j<<2)>>2];a:do{if(a)for(h=k<<(31==((f=0)|j)?0:25-(j>>>1)|0),i=a,a=0;;){if((g=(-8&c[i+4>>2])-k|0)>>>0<d>>>0){if(!g){d=0,a=f=i,r=65;break a}d=g,a=i}if(f=0==(0|(r=0|c[i+20>>2]))|(0|r)==(0|(i=0|c[i+16+(h>>>31<<2)>>2]))?f:r,!i){r=61;break}h<<=1}else a=f=0,r=61}while(0);if(61==(0|r)){if(0==(0|f)&0==(0|a)){if(!(a=((a=2<<j)|0-a)&e)){m=k;break}f=0|c[4412+(((h=(f=(i=(f=(a&0-a)-1|0)>>>12&16)?f>>>i:f)>>>5&8)|i|(j=(f=h?f>>>h:f)>>>2&4)|(m=(f=j?f>>>j:f)>>>1&2)|(a=(f=m?f>>>m:f)>>>1&1))+(a?f>>>a:f)<<2)>>2],a=0}f?r=65:(i=d,g=a)}if(65==(0|r))for(;;){if(d=(g=(m=(-8&c[f+4>>2])-k|0)>>>0<d>>>0)?m:d,g=g?f:a,!(a=(a=0|c[f+16>>2])||0|c[f+20>>2])){i=d;break}f=a,a=g}if(0!=(0|g)&&i>>>0<((0|c[1029])-k|0)>>>0&&g>>>0<(l=g+k|0)>>>0){h=0|c[g+24>>2],b=0|c[g+12>>2];do{if((0|b)==(0|g)){if(!(b=0|c[(a=g+20|0)>>2])&&!(b=0|c[(a=g+16|0)>>2])){b=0;break}for(;;)if(d=0|c[(f=b+20|0)>>2])b=d,a=f;else{if(!(d=0|c[(f=b+16|0)>>2]))break;b=d,a=f}c[a>>2]=0}else v=0|c[g+8>>2],c[v+12>>2]=b,c[b+8>>2]=v}while(0);do{if(h){if(a=0|c[g+28>>2],(0|g)==(0|c[(d=4412+(a<<2)|0)>>2])){if(!(c[d>>2]=b)){e&=~(1<<a),c[1028]=e;break}}else if(!(c[((0|c[(v=h+16|0)>>2])==(0|g)?v:h+20|0)>>2]=b))break;c[b+24>>2]=h,0|(a=0|c[g+16>>2])&&(c[b+16>>2]=a,c[a+24>>2]=b),(a=0|c[g+20>>2])&&(c[b+20>>2]=a,c[a+24>>2]=b)}}while(0);b:do{if(i>>>0<16)c[g+4>>2]=3|(v=i+k|0),c[(v=g+v+4|0)>>2]=1|c[v>>2];else{if(c[g+4>>2]=3|k,c[l+4>>2]=1|i,b=(c[l+i>>2]=i)>>>3,i>>>0<256){d=4148+(b<<1<<2)|0,a=(a=0|c[1027])&(b=1<<b)?0|c[(b=a=d+8|0)>>2]:(c[1027]=a|b,b=d+8|0,d),c[b>>2]=l,c[a+12>>2]=l,c[l+8>>2]=a,c[l+12>>2]=d;break}if(b=4412+((d=(b=i>>>8)?16777215<i>>>0?31:1&((v=7+(d=14-((t=(520192+(d=b<<(u=(b+1048320|0)>>>16&8))|0)>>>16&4)|u|(v=(245760+(d<<=t)|0)>>>16&2))+(d<<v>>>15)|0)|0)?i>>>v:i)|d<<1:0)<<2)|0,c[l+28>>2]=d,c[4+(a=l+16|0)>>2]=0,c[a>>2]=0,!(e&(a=1<<d))){c[1028]=e|a,c[b>>2]=l,c[l+24>>2]=b,c[l+12>>2]=l,c[l+8>>2]=l;break}b=0|c[b>>2];c:do{if((-8&c[b+4>>2]|0)!=(0|i)){for(e=i<<(31==(0|d)?0:25-(d>>>1)|0);a=0|c[(d=b+16+(e>>>31<<2)|0)>>2];){if((-8&c[a+4>>2]|0)==(0|i)){b=a;break c}e<<=1,b=a}c[d>>2]=l,c[l+24>>2]=b,c[l+12>>2]=l,c[l+8>>2]=l;break b}}while(0);v=0|c[(u=b+8|0)>>2],c[v+12>>2]=l,c[u>>2]=l,c[l+8>>2]=v,c[l+12>>2]=b,c[l+24>>2]=0}}while(0);return S=w,g+8|0}m=k}else m=k;else m=-1}while(0);if(m>>>0<=(d=0|c[1029])>>>0)return b=0|c[1032],15<(a=d-m|0)>>>0?(c[1032]=v=b+m|0,c[1029]=a,c[v+4>>2]=1|a,c[b+d>>2]=a,c[b+4>>2]=3|m):(c[1029]=0,c[1032]=0,c[b+4>>2]=3|d,c[(v=b+d+4|0)>>2]=1|c[v>>2]),S=w,b+8|0;if(m>>>0<(h=0|c[1030])>>>0)return c[1030]=t=h-m|0,v=0|c[1033],c[1033]=u=v+m|0,c[u+4>>2]=1|t,c[v+4>>2]=3|m,S=w,v+8|0;if(i=m+48|0,(k=(g=(a=0|c[1145]?0|c[1147]:(c[1147]=4096,c[1146]=4096,c[1148]=-1,c[1149]=-1,c[1150]=0,c[1138]=0,c[1145]=-16&n^1431655768,4096))+(j=m+47|0)|0)&(e=0-a|0))>>>0<=m>>>0)return S=w,(v=0)|v;if(0|(a=0|c[1137])&&(n=(l=0|c[1135])+k|0)>>>0<=l>>>0|a>>>0<n>>>0)return S=w,(v=0)|v;d:do{if(4&c[1138])b=0,r=143;else{d=0|c[1033];e:do{if(d){for(f=4556;!((a=0|c[f>>2])>>>0<=d>>>0&&(a+(0|c[(q=f+4|0)>>2])|0)>>>0>d>>>0);){if(!(a=0|c[f+8>>2])){r=128;break e}f=a}if((b=g-h&e)>>>0<2147483647)if((0|(a=0|Oc(b)))==((0|c[f>>2])+(0|c[q>>2])|0)){if(-1!=(0|a)){h=a,g=b,r=145;break d}}else e=a,r=136;else b=0}else r=128}while(0);do{if(128==(0|r))if(-1!=(0|(d=0|Oc(0)))&&(b=d,p=(b=(0==((p=(o=0|c[1146])-1|0)&b|0)?0:(p+b&0-o)-b|0)+k|0)+(o=0|c[1135])|0,m>>>0<b>>>0&b>>>0<2147483647)){if(0|(q=0|c[1137])&&p>>>0<=o>>>0|q>>>0<p>>>0){b=0;break}if((0|(a=0|Oc(b)))==(0|d)){h=d,g=b,r=145;break d}e=a,r=136}else b=0}while(0);do{if(136==(0|r)){if(d=0-b|0,!(b>>>0<i>>>0&b>>>0<2147483647&-1!=(0|e))){if(-1==(0|e)){b=0;break}h=e,g=b,r=145;break d}if(2147483647<=(a=j-b+(a=0|c[1147])&0-a)>>>0){h=e,g=b,r=145;break d}if(-1==(0|Oc(a))){Oc(d),b=0;break}h=e,g=a+b|0,r=145;break d}}while(0);c[1138]=4|c[1138],r=143}}while(0);if(143==(0|r)&&k>>>0<2147483647&&!(-1==(0|(s=0|Oc(k)))|1^(t=(m+40|0)>>>0<(u=(q=0|Oc(0))-s|0)>>>0)|s>>>0<q>>>0&-1!=(0|s)&-1!=(0|q)^1)&&(h=s,g=t?u:b,r=145),145==(0|r)){b=(0|c[1135])+g|0,(c[1135]=b)>>>0>(0|c[1136])>>>0&&(c[1136]=b),j=0|c[1033];f:do{if(j){for(f=4556;;){if((0|h)==((b=0|c[f>>2])+(a=0|c[(e=f+4|0)>>2])|0)){r=154;break}if(!(d=0|c[f+8>>2]))break;f=d}if(154==(0|r)&&0==(8&c[f+12>>2]|0)&&j>>>0<h>>>0&b>>>0<=j>>>0){c[e>>2]=a+g,u=j+(t=0==(7&(t=j+8|0)|0)?0:0-t&7)|0,t=(v=(0|c[1030])+g|0)-t|0,c[1033]=u,c[1030]=t,c[u+4>>2]=1|t,c[j+v+4>>2]=40,c[1034]=c[1149];break}for(h>>>0<(0|c[1031])>>>0&&(c[1031]=h),d=h+g|0,a=4556;;){if((0|c[a>>2])==(0|d)){r=162;break}if(!(b=0|c[a+8>>2]))break;a=b}if(162==(0|r)&&0==(8&c[a+12>>2]|0)){c[a>>2]=h,c[(l=a+4|0)>>2]=(0|c[l>>2])+g,k=(l=h+(0==(7&(l=h+8|0)|0)?0:0-l&7)|0)+m|0,i=(b=d+(0==(7&(b=d+8|0)|0)?0:0-b&7)|0)-l-m|0,c[l+4>>2]=3|m;g:do{if((0|j)==(0|b))v=(0|c[1030])+i|0,c[1030]=v,c[1033]=k,c[k+4>>2]=1|v;else{if((0|c[1032])==(0|b)){v=(0|c[1029])+i|0,c[1029]=v,c[1032]=k,c[k+4>>2]=1|v,c[k+v>>2]=v;break}if(1==(3&(a=0|c[b+4>>2])|0)){h=-8&a,e=a>>>3;h:do{if(a>>>0<256){if(a=0|c[b+8>>2],(0|(d=0|c[b+12>>2]))==(0|a)){c[1027]=c[1027]&~(1<<e);break}c[a+12>>2]=d,c[d+8>>2]=a;break}g=0|c[b+24>>2],a=0|c[b+12>>2];do{if((0|a)==(0|b)){if(!(a=0|c[(d=4+(e=b+16|0)|0)>>2])){if(!(a=0|c[e>>2])){a=0;break}d=e}for(;;)if(e=0|c[(f=a+20|0)>>2])a=e,d=f;else{if(!(e=0|c[(f=a+16|0)>>2]))break;a=e,d=f}c[d>>2]=0}else v=0|c[b+8>>2],c[v+12>>2]=a,c[a+8>>2]=v}while(0);if(!g)break;e=4412+((d=0|c[b+28>>2])<<2)|0;do{if((0|c[e>>2])==(0|b)){if(0|(c[e>>2]=a))break;c[1028]=c[1028]&~(1<<d);break h}if(!(c[((0|c[(v=g+16|0)>>2])==(0|b)?v:g+20|0)>>2]=a))break h}while(0)}while(c[a+24>>2]=g,0|(d=0|c[(e=b+16|0)>>2])&&(c[a+16>>2]=d,c[d+24>>2]=a),(d=0|c[e+4>>2])&&(c[a+20>>2]=d,c[d+24>>2]=a,0));b=b+h|0,f=h+i|0}else f=i;if(c[(b=b+4|0)>>2]=-2&c[b>>2],c[k+4>>2]=1|f,b=(c[k+f>>2]=f)>>>3,f>>>0<256){d=4148+(b<<1<<2)|0,a=(a=0|c[1027])&(b=1<<b)?0|c[(b=a=d+8|0)>>2]:(c[1027]=a|b,b=d+8|0,d),c[b>>2]=k,c[a+12>>2]=k,c[k+8>>2]=a,c[k+12>>2]=d;break}b=f>>>8;do{if(b){if(16777215<f>>>0){e=31;break}e=1&((v=7+(e=14-((t=(520192+(e=b<<(u=(b+1048320|0)>>>16&8))|0)>>>16&4)|u|(v=(245760+(e<<=t)|0)>>>16&2))+(e<<v>>>15)|0)|0)?f>>>v:f)|e<<1}else e=0}while(0);if(a=4412+(e<<2)|0,c[k+28>>2]=e,c[4+(b=k+16|0)>>2]=0,!((b=(c[b>>2]=0)|c[1028])&(d=1<<e))){c[1028]=b|d,c[a>>2]=k,c[k+24>>2]=a,c[k+12>>2]=k,c[k+8>>2]=k;break}b=0|c[a>>2];i:do{if((-8&c[b+4>>2]|0)!=(0|f)){for(e=f<<(31==(0|e)?0:25-(e>>>1)|0);a=0|c[(d=b+16+(e>>>31<<2)|0)>>2];){if((-8&c[a+4>>2]|0)==(0|f)){b=a;break i}e<<=1,b=a}c[d>>2]=k,c[k+24>>2]=b,c[k+12>>2]=k,c[k+8>>2]=k;break g}}while(0);v=0|c[(u=b+8|0)>>2],c[v+12>>2]=k,c[u>>2]=k,c[k+8>>2]=v,c[k+12>>2]=b,c[k+24>>2]=0}}while(0);return S=w,l+8|0}for(a=4556;!((b=0|c[a>>2])>>>0<=j>>>0&&j>>>0<(v=b+(0|c[a+4>>2])|0)>>>0);)a=0|c[a+8>>2];for(b=(a=(a=(f=v+-47|0)+(0==(7&(a=f+8|0)|0)?0:0-a&7)|0)>>>0<(f=j+16|0)>>>0?j:a)+8|0,u=h+(t=0==(7&(t=h+8|0)|0)?0:0-t&7)|0,t=(d=g+-40|0)-t|0,c[1033]=u,c[1030]=t,c[u+4>>2]=1|t,c[h+d+4>>2]=40,c[1034]=c[1149],c[(d=a+4|0)>>2]=27,c[b>>2]=c[1139],c[b+4>>2]=c[1140],c[b+8>>2]=c[1141],c[b+12>>2]=c[1142],c[1139]=h,c[1140]=g,c[1142]=0,c[1141]=b,b=a+24|0;c[(b=(u=b)+4|0)>>2]=7,(u+8|0)>>>0<v>>>0;);if((0|a)!=(0|j)){if(g=a-j|0,c[d>>2]=-2&c[d>>2],c[j+4>>2]=1|g,b=(c[a>>2]=g)>>>3,g>>>0<256){d=4148+(b<<1<<2)|0,a=(a=0|c[1027])&(b=1<<b)?0|c[(b=a=d+8|0)>>2]:(c[1027]=a|b,b=d+8|0,d),c[b>>2]=j,c[a+12>>2]=j,c[j+8>>2]=a,c[j+12>>2]=d;break}if(d=4412+((e=(b=g>>>8)?16777215<g>>>0?31:1&((v=7+(e=14-((t=(520192+(e=b<<(u=(b+1048320|0)>>>16&8))|0)>>>16&4)|u|(v=(245760+(e<<=t)|0)>>>16&2))+(e<<v>>>15)|0)|0)?g>>>v:g)|e<<1:0)<<2)|0,c[j+28>>2]=e,c[j+20>>2]=0,!((b=(c[f>>2]=0)|c[1028])&(a=1<<e))){c[1028]=b|a,c[d>>2]=j,c[j+24>>2]=d,c[j+12>>2]=j,c[j+8>>2]=j;break}b=0|c[d>>2];j:do{if((-8&c[b+4>>2]|0)!=(0|g)){for(e=g<<(31==(0|e)?0:25-(e>>>1)|0);a=0|c[(d=b+16+(e>>>31<<2)|0)>>2];){if((-8&c[a+4>>2]|0)==(0|g)){b=a;break j}e<<=1,b=a}c[d>>2]=j,c[j+24>>2]=b,c[j+12>>2]=j,c[j+8>>2]=j;break f}}while(0);v=0|c[(u=b+8|0)>>2],c[v+12>>2]=j,c[u>>2]=j,c[j+8>>2]=v,c[j+12>>2]=b,c[j+24>>2]=0}}else 0==(0|(v=0|c[1031]))|h>>>0<v>>>0&&(c[1031]=h),c[1139]=h,c[1140]=g,c[1142]=0,c[1036]=c[1145],c[1035]=-1,c[1040]=4148,c[1039]=4148,c[1042]=4156,c[1041]=4156,c[1044]=4164,c[1043]=4164,c[1046]=4172,c[1045]=4172,c[1048]=4180,c[1047]=4180,c[1050]=4188,c[1049]=4188,c[1052]=4196,c[1051]=4196,c[1054]=4204,c[1053]=4204,c[1056]=4212,c[1055]=4212,c[1058]=4220,c[1057]=4220,c[1060]=4228,c[1059]=4228,c[1062]=4236,c[1061]=4236,c[1064]=4244,c[1063]=4244,c[1066]=4252,c[1065]=4252,c[1068]=4260,c[1067]=4260,c[1070]=4268,c[1069]=4268,c[1072]=4276,c[1071]=4276,c[1074]=4284,c[1073]=4284,c[1076]=4292,c[1075]=4292,c[1078]=4300,c[1077]=4300,c[1080]=4308,c[1079]=4308,c[1082]=4316,c[1081]=4316,c[1084]=4324,c[1083]=4324,c[1086]=4332,c[1085]=4332,c[1088]=4340,c[1087]=4340,c[1090]=4348,c[1089]=4348,c[1092]=4356,c[1091]=4356,c[1094]=4364,c[1093]=4364,c[1096]=4372,c[1095]=4372,c[1098]=4380,c[1097]=4380,c[1100]=4388,c[1099]=4388,c[1102]=4396,c[1101]=4396,u=h+(t=0==(7&(t=h+8|0)|0)?0:0-t&7)|0,t=(v=g+-40|0)-t|0,c[1033]=u,c[1030]=t,c[u+4>>2]=1|t,c[h+v+4>>2]=40,c[1034]=c[1149]}while(0);if(m>>>0<(b=0|c[1030])>>>0)return c[1030]=t=b-m|0,v=0|c[1033],c[1033]=u=v+m|0,c[u+4>>2]=1|t,c[v+4>>2]=3|m,S=w,v+8|0}return c[1026]=48,S=w,(v=0)|v}function Kc(a){var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0;if(a|=0){e=0|c[1031],k=(d=a+-8|0)+(b=-8&(a=0|c[a+-4>>2]))|0;do{if(1&a)j=i=d;else{if(f=0|c[d>>2],!(3&a))return;if(h=f+b|0,(g=d+(0-f)|0)>>>0<e>>>0)return;if((0|c[1032])==(0|g)){if(3==(3&(a=0|c[(b=k+4|0)>>2])|0))return c[1029]=h,c[b>>2]=-2&a,c[g+4>>2]=1|h,void(c[g+h>>2]=h);j=i=g,b=h;break}if(d=f>>>3,f>>>0<256){if(a=0|c[g+8>>2],(0|(b=0|c[g+12>>2]))==(0|a)){c[1027]=c[1027]&~(1<<d),j=i=g,b=h;break}c[a+12>>2]=b,c[b+8>>2]=a,j=i=g,b=h;break}f=0|c[g+24>>2],a=0|c[g+12>>2];do{if((0|a)==(0|g)){if(!(a=0|c[(b=4+(d=g+16|0)|0)>>2])){if(!(a=0|c[d>>2])){d=0;break}b=d}for(;;)if(d=0|c[(e=a+20|0)>>2])a=d,b=e;else{if(!(d=0|c[(e=a+16|0)>>2]))break;a=d,b=e}c[b>>2]=0,d=a}else d=0|c[g+8>>2],c[d+12>>2]=a,c[a+8>>2]=d,d=a}while(0);if(f){if(a=0|c[g+28>>2],(0|c[(b=4412+(a<<2)|0)>>2])==(0|g)){if(!(c[b>>2]=d)){c[1028]=c[1028]&~(1<<a),j=i=g,b=h;break}}else if(!(c[((0|c[(j=f+16|0)>>2])==(0|g)?j:f+20|0)>>2]=d)){j=i=g,b=h;break}c[d+24>>2]=f,0|(a=0|c[(b=g+16|0)>>2])&&(c[d+16>>2]=a,c[a+24>>2]=d),(a=0|c[b+4>>2])&&(c[d+20>>2]=a,c[a+24>>2]=d),j=i=g,b=h}else j=i=g,b=h}}while(0);if(!(k>>>0<=i>>>0)&&1&(d=0|c[(a=k+4|0)>>2])){if(2&d)c[a>>2]=-2&d,c[j+4>>2]=1|b,f=c[i+b>>2]=b;else{if((0|c[1033])==(0|k))return k=(0|c[1030])+b|0,c[1030]=k,c[1033]=j,c[j+4>>2]=1|k,void((0|j)==(0|c[1032])&&(c[1032]=0,c[1029]=0));if((0|c[1032])==(0|k))return k=(0|c[1029])+b|0,c[1029]=k,c[1032]=i,c[j+4>>2]=1|k,void(c[i+k>>2]=k);f=(-8&d)+b|0,e=d>>>3;do{if(d>>>0<256){if(b=0|c[k+8>>2],(0|(a=0|c[k+12>>2]))==(0|b)){c[1027]=c[1027]&~(1<<e);break}c[b+12>>2]=a,c[a+8>>2]=b;break}g=0|c[k+24>>2],a=0|c[k+12>>2];do{if((0|a)==(0|k)){if(!(a=0|c[(b=4+(d=k+16|0)|0)>>2])){if(!(a=0|c[d>>2])){d=0;break}b=d}for(;;)if(d=0|c[(e=a+20|0)>>2])a=d,b=e;else{if(!(d=0|c[(e=a+16|0)>>2]))break;a=d,b=e}c[b>>2]=0,d=a}else d=0|c[k+8>>2],c[d+12>>2]=a,c[a+8>>2]=d,d=a}while(0);if(0|g){if(a=0|c[k+28>>2],(0|c[(b=4412+(a<<2)|0)>>2])==(0|k)){if(!(c[b>>2]=d)){c[1028]=c[1028]&~(1<<a);break}}else if(!(c[((0|c[(h=g+16|0)>>2])==(0|k)?h:g+20|0)>>2]=d))break;c[d+24>>2]=g,0|(a=0|c[(b=k+16|0)>>2])&&(c[d+16>>2]=a,c[a+24>>2]=d),0|(a=0|c[b+4>>2])&&(c[d+20>>2]=a,c[a+24>>2]=d)}}while(0);if(c[j+4>>2]=1|f,c[i+f>>2]=f,(0|j)==(0|c[1032]))return void(c[1029]=f)}if(a=f>>>3,f>>>0<256)return d=4148+(a<<1<<2)|0,b=(b=0|c[1027])&(a=1<<a)?0|c[(a=b=d+8|0)>>2]:(c[1027]=b|a,a=d+8|0,d),c[a>>2]=j,c[b+12>>2]=j,c[j+8>>2]=b,void(c[j+12>>2]=d);b=4412+((e=(a=f>>>8)?16777215<f>>>0?31:1&((k=7+(e=14-((h=(520192+(e=a<<(i=(a+1048320|0)>>>16&8))|0)>>>16&4)|i|(k=(245760+(e<<=h)|0)>>>16&2))+(e<<k>>>15)|0)|0)?f>>>k:f)|e<<1:0)<<2)|0,c[j+28>>2]=e,c[j+20>>2]=0,a=(c[j+16>>2]=0)|c[1028],d=1<<e;a:do{if(a&d){a=0|c[b>>2];b:do{if((-8&c[a+4>>2]|0)!=(0|f)){for(e=f<<(31==(0|e)?0:25-(e>>>1)|0);b=0|c[(d=a+16+(e>>>31<<2)|0)>>2];){if((-8&c[b+4>>2]|0)==(0|f)){a=b;break b}e<<=1,a=b}c[d>>2]=j,c[j+24>>2]=a,c[j+12>>2]=j,c[j+8>>2]=j;break a}}while(0);k=0|c[(i=a+8|0)>>2],c[k+12>>2]=j,c[i>>2]=j,c[j+8>>2]=k,c[j+12>>2]=a,c[j+24>>2]=0}else c[1028]=a|d,c[b>>2]=j,c[j+24>>2]=b,c[j+12>>2]=j,c[j+8>>2]=j}while(0);if(k=(0|c[1035])-1|0,!(0|(c[1035]=k))){for(a=4564;a=0|c[a>>2];)a=a+8|0;c[1035]=-1}}}}function Lc(a,b){var d=0,e=0,f=0,g=0,h=0,i=0,j=0,j=(a|=0)+(b|=0)|0,d=0|c[a+4>>2];do{if(1&d)i=a,a=b;else{if(e=0|c[a>>2],!(3&d))return;if(h=e+b|0,(0|c[1032])==(0|(g=a+(0-e)|0))){if(3==(3&(d=0|c[(a=j+4|0)>>2])|0))return c[1029]=h,c[a>>2]=-2&d,c[g+4>>2]=1|h,c[j>>2]=h;i=g,a=h;break}if(b=e>>>3,e>>>0<256){if(d=0|c[g+8>>2],(0|(a=0|c[g+12>>2]))==(0|d)){c[1027]=c[1027]&~(1<<b),i=g,a=h;break}c[d+12>>2]=a,c[a+8>>2]=d,i=g,a=h;break}f=0|c[g+24>>2],d=0|c[g+12>>2];do{if((0|d)==(0|g)){if(!(d=0|c[(a=4+(b=g+16|0)|0)>>2])){if(!(d=0|c[b>>2])){b=0;break}a=b}for(;;)if(b=0|c[(e=d+20|0)>>2])d=b,a=e;else{if(!(b=0|c[(e=d+16|0)>>2]))break;d=b,a=e}c[a>>2]=0,b=d}else b=0|c[g+8>>2],c[b+12>>2]=d,c[d+8>>2]=b,b=d}while(0);if(f){if(d=0|c[g+28>>2],(0|c[(a=4412+(d<<2)|0)>>2])==(0|g)){if(!(c[a>>2]=b)){c[1028]=c[1028]&~(1<<d),i=g,a=h;break}}else if(!(c[((0|c[(i=f+16|0)>>2])==(0|g)?i:f+20|0)>>2]=b)){i=g,a=h;break}c[b+24>>2]=f,0|(d=0|c[(a=g+16|0)>>2])&&(c[b+16>>2]=d,c[d+24>>2]=b),(d=0|c[a+4>>2])&&(c[b+20>>2]=d,c[d+24>>2]=b),i=g,a=h}else i=g,a=h}}while(0);if(2&(b=0|c[(d=j+4|0)>>2]))c[d>>2]=-2&b,c[i+4>>2]=1|a,c[i+a>>2]=a;else{if((0|c[1033])==(0|j))return j=(0|c[1030])+a|0,c[1030]=j,c[1033]=i,c[i+4>>2]=1|j,(0|i)==(0|c[1032])&&(c[1032]=0,c[1029]=0);if((0|c[1032])==(0|j))return j=(0|c[1029])+a|0,c[1029]=j,c[1032]=i,c[i+4>>2]=1|j,c[i+j>>2]=j;g=(-8&b)+a|0,e=b>>>3;do{if(b>>>0<256){if(a=0|c[j+8>>2],(0|(d=0|c[j+12>>2]))==(0|a)){c[1027]=c[1027]&~(1<<e);break}c[a+12>>2]=d,c[d+8>>2]=a;break}f=0|c[j+24>>2],d=0|c[j+12>>2];do{if((0|d)==(0|j)){if(!(d=0|c[(a=4+(b=j+16|0)|0)>>2])){if(!(d=0|c[b>>2])){b=0;break}a=b}for(;;)if(b=0|c[(e=d+20|0)>>2])d=b,a=e;else{if(!(b=0|c[(e=d+16|0)>>2]))break;d=b,a=e}c[a>>2]=0,b=d}else b=0|c[j+8>>2],c[b+12>>2]=d,c[d+8>>2]=b,b=d}while(0);if(0|f){if(d=0|c[j+28>>2],(0|c[(a=4412+(d<<2)|0)>>2])==(0|j)){if(!(c[a>>2]=b)){c[1028]=c[1028]&~(1<<d);break}}else if(!(c[((0|c[(h=f+16|0)>>2])==(0|j)?h:f+20|0)>>2]=b))break;c[b+24>>2]=f,0|(d=0|c[(a=j+16|0)>>2])&&(c[b+16>>2]=d,c[d+24>>2]=b),0|(d=0|c[a+4>>2])&&(c[b+20>>2]=d,c[d+24>>2]=b)}}while(0);if(c[i+4>>2]=1|g,c[i+g>>2]=g,(0|i)==(0|c[1032]))return c[1029]=g;a=g}if(d=a>>>3,a>>>0<256)return b=4148+(d<<1<<2)|0,a=(a=0|c[1027])&(d=1<<d)?0|c[(d=a=b+8|0)>>2]:(c[1027]=a|d,d=b+8|0,b),c[d>>2]=i,c[a+12>>2]=i,c[i+8>>2]=a,c[i+12>>2]=b;if(b=4412+((f=(d=a>>>8)?16777215<a>>>0?31:1&((j=7+(f=14-((g=(520192+(f=d<<(h=(d+1048320|0)>>>16&8))|0)>>>16&4)|h|(j=(245760+(f<<=g)|0)>>>16&2))+(f<<j>>>15)|0)|0)?a>>>j:a)|f<<1:0)<<2)|0,c[i+28>>2]=f,c[i+20>>2]=0,!((d=(c[i+16>>2]=0)|c[1028])&(e=1<<f)))return c[1028]=d|e,c[b>>2]=i,c[i+24>>2]=b,c[i+12>>2]=i,c[i+8>>2]=i;d=0|c[b>>2];a:do{if((-8&c[d+4>>2]|0)!=(0|a)){for(f=a<<(31==(0|f)?0:25-(f>>>1)|0);b=0|c[(e=d+16+(f>>>31<<2)|0)>>2];){if((-8&c[b+4>>2]|0)==(0|a)){d=b;break a}f<<=1,d=b}return c[e>>2]=i,c[i+24>>2]=d,c[i+12>>2]=i,c[i+8>>2]=i}}while(0);j=0|c[(h=d+8|0)>>2],c[j+12>>2]=i,c[h>>2]=i,c[i+8>>2]=j,c[i+12>>2]=d,c[i+24>>2]=0}function Nc(a,b,d){var e;return a|=0,0!=(3&(b|=0)|0)|0==(0|(e=b>>>2))||1073741823+e&e|0?28:(-64-b|0)>>>0<(d|=0)>>>0||!(b=0|function(a,b){b|=0;var g,d=0,e=0,f=0,h=0,i=0;if((d=16<(a|=0)>>>0?a:16)+-1&d)for(a=16;a>>>0<d>>>0;)a<<=1;else a=d;if((-64-a|0)>>>0<=b>>>0)return c[1026]=48,(h=0)|h;if(!(d=0|Jc(12+(g=b>>>0<11?16:b+11&-8)+a|0)))return(h=0)|h;f=d+-8|0;do{if(a+-1&d){if(e=15<((e=(d+a+-1&0-a)-8|0)-(b=f)|0)>>>0?e:e+a|0,d=(-8&(i=0|c[(a=d+-4|0)>>2]))-(b=e-b|0)|0,3&i){c[(i=e+4|0)>>2]=d|1&c[i>>2]|2,c[(d=e+d+4|0)>>2]=1|c[d>>2],c[a>>2]=b|1&c[a>>2]|2,c[i>>2]=1|c[i>>2],Lc(f,b),a=b=e;break}c[e>>2]=(0|c[f>>2])+b,c[e+4>>2]=d,a=b=e;break}}while(a=b=f,0);return 3&(a=0|c[(d=a+4|0)>>2])|0&&(16+g|0)>>>0<(h=-8&a)>>>0&&(i=h-g|0,f=b+g|0,c[d>>2]=g|1&a|2,c[f+4>>2]=3|i,c[(h=b+h+4|0)>>2]=1|c[h>>2],Lc(f,i)),b+8|0}(16<b>>>0?b:16,d))?48:(c[a>>2]=b,(a=0)|a)}function Oc(a){var b,d=0;return(a=(b=0|c[(d=4624)>>2])+(0|a)|0)>>>0>(0|H())>>>0&&0==(0|J(0|a))?(c[1026]=48,-1):(c[d>>2]=a,0|b)}function Qc(a,b,c,d){b|=0,d|=0;var e,f;return c=0|function(a,b){var f,e,c,d;return a=((c=0|v(e=65535&(b|=0),f=65535&(a|=0)))>>>16)+(0|v(e,d=a>>>16))|0,b=0|v(e=b>>>16,f),0|(y((a>>>16)+(0|v(e,d))+(((65535&a)+b|0)>>>16)|0),a+b<<16|65535&c|0)}(e=a|=0,f=c|=0),a=0|z(),0|(y((0|v(b,f))+(0|v(d,e))+a|0&a|0),0|c)}function Rc(a,b,c,d){return 0|(y((b|=0)+(d|=0)+((c=(a|=0)+(0|c)>>>0)>>>0<a>>>0|0)>>>0|0),0|c)}function Sc(a,b,c,d){return 0|(y(0|(d=(b|=0)-(d|=0)-((a|=0)>>>0<(c|=0)>>>0|0)>>>0)),a-c>>>0|0)}function Tc(a){return 0|((a|=0)?31-(0|w(a^a-1))|0:32)}function Uc(a,b,d,e,f){f|=0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,l=a|=0,h=d|=0,i=n=e|=0;if(!(k=j=b|=0))return g=0!=(0|f),i?(g&&(c[f>>2]=0|a,c[f+4>>2]=0&b),(f=n=0)|(y(0|n),f)):(g&&(c[f>>2]=(l>>>0)%(h>>>0),c[f+4>>2]=0),f=(l>>>(n=0))/(h>>>0)>>>0,0|(y(0|n),f));g=0==(0|i);do{if(h){if(!g){if((g=(0|w(0|i))-(0|w(0|k))|0)>>>0<=31){a=l>>>((h=m=g+1|0)>>>0)&(b=g-31>>31)|k<<(i=31-g|0),b&=k>>>(m>>>0),g=0,i=l<<i;break}return f&&(c[f>>2]=0|a,c[f+4>>2]=j|0&b),(f=n=0)|(y(0|n),f)}if((g=h-1|0)&h|0){a=(m=32-(i=33+(0|w(0|h))-(0|w(0|k))|0)|0)-1>>31&k>>>((o=i-32|0)>>>0)|(k<<m|l>>>((h=i)>>>0))&(b=o>>31),b&=k>>>(i>>>0),g=l<<(p=64-i|0)&(j=m>>31),i=(k<<p|l>>>(o>>>0))&j|l<<m&i-33>>31;break}return 0|f&&(c[f>>2]=g&l,c[f+4>>2]=0),1==(0|h)?(p=0|a,0|(y(0|(o=j|0&b)),p)):(o=k>>>((p=0|Tc(0|h))>>>0)|0,p=k<<32-p|l>>>(p>>>0)|0,0|(y(0|o),p))}if(g)return 0|f&&(c[f>>2]=(k>>>0)%(h>>>0),c[f+4>>2]=0),p=(k>>>(o=0))/(h>>>0)>>>0,0|(y(0|o),p);if(!l)return 0|f&&(c[f>>2]=0,c[f+4>>2]=(k>>>0)%(i>>>0)),p=(k>>>(o=0))/(i>>>0)>>>0,0|(y(0|o),p);if(!((g=i-1|0)&i))return 0|f&&(c[f>>2]=0|a,c[f+4>>2]=g&k|0&b),p=k>>>(((o=0)|Tc(0|i))>>>0),0|(y(0|o),p);if((g=(0|w(0|i))-(0|w(0|k))|0)>>>0<=30){a=k<<(i=31-g|0)|l>>>((h=b=g+1|0)>>>0),b=k>>>(b>>>0),g=0,i=l<<i;break}return f&&(c[f>>2]=0|a,c[f+4>>2]=j|0&b),(p=o=0)|(y(0|o),p)}while(0);if(h){for(k=0|Rc(0|(m=0|d),0|(l=n|0&e),-1,-1),d=0|z(),j=i,i=0;j=g>>>31|(e=j)<<1,g=i|g<<1,Sc(0|k,0|d,0|(e=a<<1|e>>>31|0),0|(n=a>>>31|b<<1|0)),i=1&(o=(p=0|z())>>31|((0|p)<0?-1:0)<<1),a=0|Sc(0|e,0|n,o&m|0,(((0|p)<0?-1:0)>>31|((0|p)<0?-1:0)<<1)&l|0),b=0|z(),0!=(0|(h=h-1|0)););k=j,j=0}else k=i,i=j=0;return(h=0)|f&&(c[f>>2]=a,c[f+4>>2]=b),p=-2&(g<<1|0)|i,0|(y(0|(o=(0|g)>>>31|(k|h)<<1|0&(h<<1|g>>>31)|j)),p)}function Vc(a,b,c,d){return 0|Uc(a|=0,b|=0,c|=0,d|=0,0)}function Wc(a,b,c){return a|=0,b|=0,(0|(c|=0))<32?(y(b>>>c|0),a>>>c|(b&(1<<c)-1)<<32-c):(y(0),b>>>c-32|0)}function Xc(a,b,c){return a|=0,b|=0,(0|(c|=0))<32?(y(b<<c|(a&(1<<c)-1<<32-c)>>>32-c|0),a<<c):(y(a<<c-32|0),0)}function Zc(b,d,e){var f,g,h;if(b|=0,d|=0,8192<=(0|(e|=0)))return I(0|b,0|d,0|e),0|b;if(h=0|b,g=b+e|0,(3&b)==(3&d)){for(;3&b;){if(!e)return 0|h;a[b>>0]=0|a[d>>0],b=b+1|0,d=d+1|0,e=e-1|0}for(f=(e=-4&g|0)-64|0;(0|b)<=(0|f);)c[b>>2]=c[d>>2],c[b+4>>2]=c[d+4>>2],c[b+8>>2]=c[d+8>>2],c[b+12>>2]=c[d+12>>2],c[b+16>>2]=c[d+16>>2],c[b+20>>2]=c[d+20>>2],c[b+24>>2]=c[d+24>>2],c[b+28>>2]=c[d+28>>2],c[b+32>>2]=c[d+32>>2],c[b+36>>2]=c[d+36>>2],c[b+40>>2]=c[d+40>>2],c[b+44>>2]=c[d+44>>2],c[b+48>>2]=c[d+48>>2],c[b+52>>2]=c[d+52>>2],c[b+56>>2]=c[d+56>>2],c[b+60>>2]=c[d+60>>2],b=b+64|0,d=d+64|0;for(;(0|b)<(0|e);)c[b>>2]=c[d>>2],b=b+4|0,d=d+4|0}else for(e=g-4|0;(0|b)<(0|e);)a[b>>0]=0|a[d>>0],a[b+1>>0]=0|a[d+1>>0],a[b+2>>0]=0|a[d+2>>0],a[b+3>>0]=0|a[d+3>>0],b=b+4|0,d=d+4|0;for(;(0|b)<(0|g);)a[b>>0]=0|a[d>>0],b=b+1|0,d=d+1|0;return 0|h}function _c(b,c,d){var e;if((0|(c|=0))<(0|(b|=0))&(0|b)<(c+(d|=0)|0)){for(c=c+d|0,b=(e=b)+d|0;0<(0|d);)d=d-1|0,a[(b=b-1|0)>>0]=0|a[(c=c-1|0)>>0];b=e}else Zc(b,c,d);return 0|b}function $c(b,d,e){var f,g,i,h=(b|=0)+(e|=0)|0;if(d=255&(0|d),67<=(0|e)){for(;3&b;)a[b>>0]=d,b=b+1|0;for(i=d|d<<8|d<<16|d<<24,g=(f=-4&h|0)-64|0;(0|b)<=(0|g);)c[b>>2]=i,c[b+4>>2]=i,c[b+8>>2]=i,c[b+12>>2]=i,c[b+16>>2]=i,c[b+20>>2]=i,c[b+24>>2]=i,c[b+28>>2]=i,c[b+32>>2]=i,c[b+36>>2]=i,c[b+40>>2]=i,c[b+44>>2]=i,c[b+48>>2]=i,c[b+52>>2]=i,c[b+56>>2]=i,c[b+60>>2]=i,b=b+64|0;for(;(0|b)<(0|f);)c[b>>2]=i,b=b+4|0}for(;(0|b)<(0|h);)a[b>>0]=d,b=b+1|0;return h-e|0}function md(a){return x(0),0}function od(a,b,c,d){return x(2),0}function ea(a){var b,d,g,h,i,j,n,o,p,q,r,s,t,u,v,w,x,y,k=0,l=0,m=0|c[500+(a|=0)>>2];if(!((0|m)<=0)){n=0|c[a+504>>2],o=0|c[a+444>>2],d=0|c[a+536>>2],l=0;do{if(g=0|c[n+(24*l|0)+12>>2],h=0|c[o+(c[n+(24*l|0)+4>>2]<<2)>>2],i=0|c[o+(c[n+(24*l|0)+8>>2]<<2)>>2],j=0|c[n+(24*l|0)+16>>2],a=0|c[n+(24*l|0)+20>>2],b=+f[d+(l<<2)>>2],0<(0|g))for(k=0;x=+f[j+(k<<2)>>2],s=+f[j+((p=1|k)<<2)>>2],w=(0|e[a+(k<<1)>>1])<<1&65534,v=+f[(y=h+(w<<2)|0)>>2],r=+f[(w=h+((1|w)<<2)|0)>>2],p=(0|e[a+(p<<1)>>1])<<1&65534,u=+f[(t=i+(p<<2)|0)>>2],q=+f[(p=i+((1|p)<<2)|0)>>2],f[y>>2]=v+x*(u-v)*b,f[w>>2]=r+x*(q-r)*b,f[t>>2]=u+s*(v-u)*b,f[p>>2]=q+s*(r-q)*b,(0|(k=k+2|0))<(0|g););}while((0|(l=l+1|0))!=(0|m))}}function fa(a){var b=0|c[(a|=0)>>2];(0|d[4+b>>0])<4||ga(a,0|c[a+596>>2],0|c[a+600>>2],0|c[984+b>>2],0|c[a+152>>2],0|c[796+b>>2])}function ga(a,b,d,e,g,h){a|=0,e|=0,g|=0,h|=0;var l,o,p,q,r,s,t,u,w,i=0,j=0,k=0,m=0,n=0,v=S;if(S=S+16|0,u=v+8|0,t=v,s=(d|=0)+(12*(b|=0)|0)|0,(0|b)<=0)S=v;else{do{b=0|c[d>>2],o=0|c[g+(b<<2)>>2],q=(b=0|c[h+(b<<2)>>2])<<1,n=0|c[d+4>>2],i=0|c[d+8>>2],p=0|c[1028+(0|c[a>>2])>>2],r=i+(48*n|0)|0;a:do{if(0<(0|n)){if((0|b)<=0)for(;;)if(3<=(b=0|c[i+8>>2])>>>0&&(c[u>>2]=b,ia(0,784,u)),r>>>0<=(i=i+48|0)>>>0)break a;do{j=e+(c[i+4>>2]<<2)|0,b=0|c[i+8>>2];b:do{if(0|b)switch(n=p+(c[j+(c[i+12>>2]<<2)>>2]<<2)|0,0|b){case 1:for(j=i+20|0,b=i+44|0,k=0;f[(m=o+(k<<2)|0)>>2]=+f[m>>2]+ +f[b>>2]*(+f[n+(k<<2)>>2]*+f[j>>2]),(0|(k=k+1|0))!=(0|q););break;case 2:for(j=p+(c[j+(c[i+16>>2]<<2)>>2]<<2)|0,k=i+20|0,l=i+24|0,b=i+44|0,m=0;f[(w=o+(m<<2)|0)>>2]=+f[w>>2]+ +f[b>>2]*(+f[n+(m<<2)>>2]*+f[k>>2]+ +f[j+(m<<2)>>2]*+f[l>>2]),(0|(m=m+1|0))!=(0|q););break;default:c[t>>2]=b,ia(0,784,t);break b}}while(0)}while((i=i+48|0)>>>0<r>>>0)}}while(0)}while((d=d+12|0)>>>0<s>>>0);S=v}}function ha(a){var b=0|c[(a|=0)>>2];(0|d[4+b>>0])<4||ga(a,0|c[a+604>>2],0|c[a+608>>2],0|c[1024+b>>2],0|c[a+444>>2],0|c[892+b>>2])}function ia(a,b,d){a|=0,b|=0,d|=0;var e,f,g=S;S=S+272|0,a=g+16|0,f=g,(e=0|c[1008])&&(c[f>>2]=d,cc(a,b,f),Z[1&e](a)),S=g}function ma(b,d,e){e|=0;var m,f=0,g=0,h=0,i=0,j=0,k=0,l=0,n=0,o=0,p=0,o=0|a[4+(b|=0)>>0];if(c[(d|=0)>>2]=628,p=0|c[(n=b+704|0)>>2],0<(0|(j=0|c[p>>2]))){for(f=0|c[b+1048>>2],g=0|c[b+720>>2],i=h=0;i=(1<<c[f+(c[g+(h<<2)>>2]<<2)>>2])+i|0,(0|(h=h+1|0))!=(0|j););f=i<<2}else f=0;if(c[d+4>>2]=12*j,c[d+8>>2]=c[p>>2]<<2,c[d+12>>2]=c[p>>2]<<2,c[d+16>>2]=c[p>>2]<<2,c[d+20>>2]=c[p>>2]<<2,c[d+24>>2]=c[p>>2]<<2,c[d+28>>2]=f,c[d+32>>2]=c[p>>2]<<2,c[d+36>>2]=f,c[d+40>>2]=f,c[d+44>>2]=c[(m=p+4|0)>>2]<<5,c[d+48>>2]=c[m>>2]<<2,c[d+52>>2]=c[m>>2]<<2,c[d+56>>2]=c[m>>2]<<2,c[d+60>>2]=c[m>>2]<<4,c[d+64>>2]=c[m>>2]<<4,0<(0|(l=0|c[(m=p+8|0)>>2]))){for(g=0|c[b+796>>2],h=0|c[b+1048>>2],i=0|c[b+780>>2],f=k=j=0;f=(15+(c[g+(j<<2)>>2]<<3)&-16)+f|0,k=(1<<c[h+(c[i+(j<<2)>>2]<<2)>>2])+k|0,(0|(j=j+1|0))!=(0|l););g=k<<2}else f=g=0;if(c[d+68>>2]=24*l,c[d+72>>2]=c[m>>2]<<2,c[d+76>>2]=c[m>>2]<<2,c[d+80>>2]=c[m>>2]<<2,c[d+84>>2]=f,c[d+88>>2]=c[m>>2]<<4,c[d+92>>2]=c[m>>2]<<4,c[d+96>>2]=c[m>>2]<<2,c[d+100>>2]=g,c[d+104>>2]=c[m>>2]<<2,c[d+108>>2]=g,c[d+112>>2]=g,c[d+116>>2]=g,c[d+120>>2]=g,c[d+124>>2]=g,c[d+128>>2]=g,c[d+132>>2]=g,c[d+136>>2]=g,c[d+140>>2]=g,c[d+144>>2]=c[m>>2]<<2,c[d+148>>2]=c[m>>2]<<2,c[d+152>>2]=c[m>>2]<<2,c[d+156>>2]=c[m>>2]<<2,c[d+160>>2]=c[m>>2]<<2,c[d+164>>2]=c[m>>2]<<2,0<(0|(j=0|c[(k=p+12|0)>>2]))){for(f=0|c[b+1048>>2],g=0|c[b+812>>2],i=h=0;i=(1<<c[f+(c[g+(h<<2)>>2]<<2)>>2])+i|0,(0|(h=h+1|0))!=(0|j););f=i<<2}else f=0;if(c[d+168>>2]=12*j,c[d+172>>2]=c[k>>2]<<2,c[d+176>>2]=c[k>>2]<<2,c[d+180>>2]=c[k>>2]<<2,c[d+184>>2]=c[k>>2]<<2,c[d+188>>2]=c[k>>2]<<2,c[d+192>>2]=c[k>>2]<<2,c[d+196>>2]=c[k>>2]<<2,c[d+200>>2]=c[k>>2]<<2,c[d+204>>2]=c[k>>2]<<4,c[d+208>>2]=c[k>>2]<<4,c[d+212>>2]=c[k>>2]<<2,c[d+216>>2]=f,c[d+220>>2]=c[k>>2]<<2,c[d+224>>2]=f,c[d+228>>2]=f,c[d+232>>2]=f,c[d+236>>2]=f,c[d+240>>2]=f,c[d+244>>2]=f,c[d+248>>2]=f,c[d+252>>2]=f,c[d+256>>2]=f,c[d+260>>2]=f,c[d+264>>2]=f,c[d+268>>2]=f,c[d+272>>2]=c[k>>2]<<2,c[d+276>>2]=c[k>>2]<<2,c[d+280>>2]=c[k>>2]<<2,c[d+284>>2]=c[k>>2]<<2,c[d+288>>2]=c[k>>2]<<2,c[d+292>>2]=c[k>>2]<<2,0<(0|(l=0|c[(m=p+16|0)>>2]))){for(g=0|c[b+892>>2],h=0|c[b+1048>>2],i=0|c[b+852>>2],f=k=j=0;f=(15+(c[g+(j<<2)>>2]<<3)&-16)+f|0,k=(1<<c[h+(c[i+(j<<2)>>2]<<2)>>2])+k|0,(0|(j=j+1|0))!=(0|l););g=k<<2}else f=g=0;if(c[d+296>>2]=20*l,c[d+300>>2]=c[m>>2]<<2,c[d+304>>2]=c[m>>2],c[d+308>>2]=c[m>>2]<<2,c[d+312>>2]=c[m>>2]<<2,c[d+316>>2]=c[m>>2]<<2,c[d+320>>2]=f,c[d+324>>2]=c[m>>2]<<2,c[d+328>>2]=c[m>>2]<<4,c[d+332>>2]=c[m>>2]<<4,c[d+336>>2]=c[m>>2]<<2,c[d+340>>2]=c[m>>2]<<2,c[d+344>>2]=c[m>>2]<<2,c[d+348>>2]=c[m>>2]<<4,c[d+352>>2]=c[m>>2]<<4,c[d+356>>2]=c[m>>2]<<2,c[d+360>>2]=g,c[d+364>>2]=c[m>>2]<<2,c[d+368>>2]=g,c[d+372>>2]=g,c[d+376>>2]=g,c[d+380>>2]=g,c[d+384>>2]=g,c[d+388>>2]=g,c[d+392>>2]=g,c[d+396>>2]=g,c[d+400>>2]=g,c[d+404>>2]=g,c[d+408>>2]=c[m>>2]<<2,c[d+412>>2]=c[m>>2]<<2,c[d+416>>2]=c[m>>2]<<2,c[d+420>>2]=c[m>>2]<<2,c[d+424>>2]=c[m>>2]<<2,c[d+428>>2]=c[m>>2]<<2,n=0|c[n>>2],c[d+432>>2]=52*(0|c[(g=n+20|0)>>2]),f=(m=3<(255&o))?0:c[g>>2]<<2,c[d+436>>2]=f,c[d+440>>2]=c[g>>2]<<2,c[d+444>>2]=28*(0|c[n+52>>2]),0<(0|(j=0|c[p+48>>2]))){for(f=0|c[b+1048>>2],i=h=g=0;h=(o=0|c[f+(g<<2)>>2])+h|0,i=(1<<o)+i|0,(0|(g=g+1|0))!=(0|j););g=h<<2,f=i<<2}else f=g=0;if(c[d+448>>2]=36*j,c[d+452>>2]=g,c[d+456>>2]=f,c[d+460>>2]=f,c[d+488>>2]=28*(0|c[(g=p+72|0)>>2]),0<(0|(g=0|c[g>>2]))){for(h=0|c[b+1152>>2],i=0|c[b+1160>>2],f=0|c[b+1164>>2],l=k=j=0;k=(0|k)<(0|(o=0|c[h+(j<<2)>>2]))?o:k,l=(0|(o=(0|c[i+(j<<2)>>2])-(0|c[f+(j<<2)>>2])|0))<(0|l)?l:o+1|0,(0|(j=j+1|0))!=(0|g););g=k<<2,f=l<<2}else f=g=0;if(c[d+492>>2]=c[p+76>>2]<<4,c[d+496>>2]=f,c[d+500>>2]=g,c[d+504>>2]=f,0<(0|(j=0|c[(k=p+80|0)>>2]))){for(f=0|c[b+1048>>2],g=0|c[b+1188>>2],i=h=0;i=(1<<c[f+(c[g+(h<<2)>>2]<<2)>>2])+i|0,(0|(h=h+1|0))!=(0|j););f=i<<2}else f=0;if(c[d+508>>2]=24*j,c[d+512>>2]=c[k>>2]<<2,c[d+516>>2]=c[k>>2]<<2,c[d+520>>2]=f,c[d+524>>2]=c[k>>2]<<2,c[d+528>>2]=f,c[d+532>>2]=f,m){if(c[d+464>>2]=20*(0|c[n+120>>2]),c[d+468>>2]=28*(0|c[n+100>>2]),0<(0|(i=0|c[p+104>>2]))){for(f=0|c[b+1080>>2],h=g=0;h=(0|c[f+(g<<2)>>2])+h|0,(0|(g=g+1|0))!=(0|i););f=h<<2}else f=0;c[d+472>>2]=48*i,c[d+476>>2]=f,c[d+480>>2]=12*(0|c[n+108>>2]),c[d+484>>2]=12*(0|c[n+112>>2]),f=g=c[d+540>>2]=0}else{if(0<(0|(m=0|c[(n=p+20|0)>>2]))){k=0|c[b+948>>2],l=0|c[b+952>>2],i=0|c[b+1036>>2],f=j=0;do{if(b=0|c[l+(j<<2)>>2],h=(g=i+(c[k+(j<<2)>>2]<<2)|0)+(b<<2)|0,0<(0|b))for(;f=(0|c[g>>2])+f|0,(g=g+4|0)>>>0<h>>>0;);}while((0|(j=j+1|0))!=(0|m))}else f=0;c[d+540>>2]=m<<2,g=f<<2,f=c[n>>2]<<2}for(c[d+536>>2]=f,c[d+544>>2]=g,g=f=0;g=(b=15+(0|c[(p=d+(f<<2)|0)>>2])&-16)+(c[p>>2]=g)|0,137!=(0|(f=f+1|0)););c[e>>2]=g}function na(b,e,g){b|=0,e|=0,g|=0;var C,D,G,J,M,V,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,E=0,F=0,H=0,I=0,K=0,L=0,N=0,O=0,P=0,Q=0,R=0,T=0,U=0,W=0,X=0,Y=0,Z=0,_=S;if(S=S+560|0,H=_+552|0,h=(p=_)+556|0,$c(0|p,0,548),ma(b,p,h),g>>>0<(h=0|c[h>>2])>>>0)return S=_,(Z=0)|Z;if($c(0|e,0,0|h),Z=e+(0|c[p>>2])|0,c[(D=Z+8|0)>>2]=e+(0|c[p+4>>2]),c[Z+40>>2]=e+(0|c[p+8>>2]),c[Z+44>>2]=e+(0|c[p+12>>2]),c[Z+48>>2]=e+(0|c[p+16>>2]),c[(E=Z+52|0)>>2]=e+(0|c[p+20>>2]),c[(F=Z+16|0)>>2]=e+(0|c[p+24>>2]),c[Z+24>>2]=e+(0|c[p+28>>2]),c[Z+28>>2]=e+(0|c[p+32>>2]),c[Z+32>>2]=e+(0|c[p+36>>2]),c[Z+36>>2]=e+(0|c[p+40>>2]),j=0|c[(Y=b+704|0)>>2],c[(G=Z+308|0)>>2]=e+(0|c[p+44>>2]),c[Z+312>>2]=e+(0|c[p+48>>2]),c[Z+316>>2]=e+(0|c[p+52>>2]),c[Z+320>>2]=e+(0|c[p+56>>2]),c[Z+324>>2]=e+(0|c[p+60>>2]),c[Z+328>>2]=e+(0|c[p+64>>2]),c[(L=Z+60|0)>>2]=e+(0|c[p+68>>2]),c[Z+144>>2]=e+(0|c[p+72>>2]),c[Z+148>>2]=e+(0|c[p+76>>2]),h=e+(0|c[p+80>>2])|0,c[(k=Z+152|0)>>2]=h,0<(0|(j=0|c[j+8>>2]))&&(l=e+(0|c[p+84>>2])|0,m=b+796|0,c[h>>2]=l,1!=(0|j)))for(h=0,i=1,g=l;g=g+(15+(c[(0|c[m>>2])+(h<<2)>>2]<<3)&-16)|0,c[(0|c[k>>2])+(i<<2)>>2]=g,!((0|j)<=(0|(h=i+1|0)));)W=i,i=h,h=W;if(c[Z+156>>2]=e+(0|c[p+88>>2]),c[Z+160>>2]=e+(0|c[p+92>>2]),c[(I=Z+68|0)>>2]=e+(0|c[p+96>>2]),c[Z+76>>2]=e+(0|c[p+100>>2]),c[Z+80>>2]=e+(0|c[p+104>>2]),c[Z+84>>2]=e+(0|c[p+108>>2]),c[Z+88>>2]=e+(0|c[p+112>>2]),c[Z+92>>2]=e+(0|c[p+116>>2]),c[Z+96>>2]=e+(0|c[p+120>>2]),c[Z+100>>2]=e+(0|c[p+124>>2]),c[Z+104>>2]=e+(0|c[p+128>>2]),c[Z+108>>2]=e+(0|c[p+132>>2]),c[Z+112>>2]=e+(0|c[p+136>>2]),c[Z+116>>2]=e+(0|c[p+140>>2]),c[Z+120>>2]=e+(0|c[p+144>>2]),c[Z+124>>2]=e+(0|c[p+148>>2]),c[Z+128>>2]=e+(0|c[p+152>>2]),c[Z+132>>2]=e+(0|c[p+156>>2]),c[Z+136>>2]=e+(0|c[p+160>>2]),c[Z+140>>2]=e+(0|c[p+164>>2]),c[(J=Z+168|0)>>2]=e+(0|c[p+168>>2]),c[Z+264>>2]=e+(0|c[p+172>>2]),c[Z+268>>2]=e+(0|c[p+176>>2]),c[Z+272>>2]=e+(0|c[p+180>>2]),c[Z+276>>2]=e+(0|c[p+184>>2]),c[Z+280>>2]=e+(0|c[p+188>>2]),c[Z+284>>2]=e+(0|c[p+192>>2]),c[Z+288>>2]=e+(0|c[p+196>>2]),c[Z+292>>2]=e+(0|c[p+200>>2]),c[Z+296>>2]=e+(0|c[p+204>>2]),c[Z+300>>2]=e+(0|c[p+208>>2]),c[(K=Z+176|0)>>2]=e+(0|c[p+212>>2]),c[Z+184>>2]=e+(0|c[p+216>>2]),c[Z+188>>2]=e+(0|c[p+220>>2]),c[Z+192>>2]=e+(0|c[p+224>>2]),c[Z+196>>2]=e+(0|c[p+228>>2]),c[Z+200>>2]=e+(0|c[p+232>>2]),c[Z+204>>2]=e+(0|c[p+236>>2]),c[Z+208>>2]=e+(0|c[p+240>>2]),c[Z+212>>2]=e+(0|c[p+244>>2]),c[Z+216>>2]=e+(0|c[p+248>>2]),c[Z+220>>2]=e+(0|c[p+252>>2]),c[Z+224>>2]=e+(0|c[p+256>>2]),c[Z+228>>2]=e+(0|c[p+260>>2]),c[Z+232>>2]=e+(0|c[p+264>>2]),c[Z+236>>2]=e+(0|c[p+268>>2]),c[Z+240>>2]=e+(0|c[p+272>>2]),c[Z+244>>2]=e+(0|c[p+276>>2]),c[Z+248>>2]=e+(0|c[p+280>>2]),c[Z+252>>2]=e+(0|c[p+284>>2]),c[Z+256>>2]=e+(0|c[p+288>>2]),c[Z+260>>2]=e+(0|c[p+292>>2]),j=0|c[Y>>2],c[(O=Z+336|0)>>2]=e+(0|c[p+296>>2]),c[Z+424>>2]=e+(0|c[p+300>>2]),c[Z+432>>2]=e+(0|c[p+304>>2]),c[Z+436>>2]=e+(0|c[p+308>>2]),c[Z+440>>2]=e+(0|c[p+312>>2]),h=e+(0|c[p+316>>2])|0,c[(k=Z+444|0)>>2]=h,0<(0|(j=0|c[j+16>>2]))&&(n=e+(0|c[p+320>>2])|0,o=b+892|0,c[h>>2]=n,1!=(0|j)))for(h=0,i=1,g=n;g=g+(15+(c[(0|c[o>>2])+(h<<2)>>2]<<3)&-16)|0,c[(0|c[k>>2])+(i<<2)>>2]=g,!((0|j)<=(0|(h=i+1|0)));)W=i,i=h,h=W;if(c[Z+448>>2]=e+(0|c[p+324>>2]),c[(P=Z+452|0)>>2]=e+(0|c[p+328>>2]),c[(Q=Z+456|0)>>2]=e+(0|c[p+332>>2]),c[Z+460>>2]=e+(0|c[p+336>>2]),c[Z+464>>2]=e+(0|c[p+340>>2]),c[Z+468>>2]=e+(0|c[p+344>>2]),c[Z+472>>2]=e+(0|c[p+348>>2]),c[Z+476>>2]=e+(0|c[p+352>>2]),c[(N=Z+344|0)>>2]=e+(0|c[p+356>>2]),c[Z+352>>2]=e+(0|c[p+360>>2]),c[Z+356>>2]=e+(0|c[p+364>>2]),c[Z+360>>2]=e+(0|c[p+368>>2]),c[Z+364>>2]=e+(0|c[p+372>>2]),c[Z+368>>2]=e+(0|c[p+376>>2]),c[Z+372>>2]=e+(0|c[p+380>>2]),c[Z+376>>2]=e+(0|c[p+384>>2]),c[Z+380>>2]=e+(0|c[p+388>>2]),c[Z+384>>2]=e+(0|c[p+392>>2]),c[Z+388>>2]=e+(0|c[p+396>>2]),c[Z+392>>2]=e+(0|c[p+400>>2]),c[Z+396>>2]=e+(0|c[p+404>>2]),c[Z+400>>2]=e+(0|c[p+408>>2]),c[Z+404>>2]=e+(0|c[p+412>>2]),c[Z+408>>2]=e+(0|c[p+416>>2]),c[Z+412>>2]=e+(0|c[p+420>>2]),c[Z+416>>2]=e+(0|c[p+424>>2]),c[Z+420>>2]=e+(0|c[p+428>>2]),A=0|c[p+436>>2],C=0|c[p+440>>2],c[(W=Z+544|0)>>2]=e+(0|c[p+432>>2]),c[(B=Z+548|0)>>2]=e+A,c[(A=Z+552|0)>>2]=e+C,c[(C=Z+560|0)>>2]=e+(0|c[p+444>>2]),h=0|c[Y>>2],j=e+(0|c[p+448>>2])|0,c[(U=Z+568|0)>>2]=j,0<(0|(h=0|c[h+48>>2])))for(g=0|c[b+1048>>2],k=e+(0|c[p+452>>2])|0,m=e+((l=0)|c[p+456>>2])|0,o=e+(0|c[p+460>>2])|0;c[j+(36*l|0)>>2]=k,c[j+(36*l|0)+16>>2]=m,c[j+(36*l|0)+20>>2]=o,n=1<<(i=0|c[g+(l<<2)>>2]),(0|(l=l+1|0))!=(0|h);)k=k+(i<<2)|0,m=m+(n<<2)|0,o=o+(n<<2)|0;if(h=0|c[Y>>2],i=e+(0|c[p+488>>2])|0,c[(M=Z+484|0)>>2]=i,0<(0|(h=0|c[h+72>>2])))for(g=0|c[b+1152>>2],k=e+((j=0)|c[p+492>>2])|0;k=(c[i+(28*j|0)+12>>2]=k)+(c[g+(j<<2)>>2]<<4)|0,(0|(j=j+1|0))!=(0|h););if(c[Z+488>>2]=e+(0|c[p+496>>2]),c[Z+492>>2]=e+(0|c[p+500>>2]),c[Z+496>>2]=e+(0|c[p+504>>2]),c[(R=Z+504|0)>>2]=e+(0|c[p+508>>2]),c[Z+536>>2]=e+(0|c[p+512>>2]),c[(T=Z+512|0)>>2]=e+(0|c[p+516>>2]),c[Z+520>>2]=e+(0|c[p+520>>2]),c[Z+524>>2]=e+(0|c[p+524>>2]),c[Z+528>>2]=e+(0|c[p+528>>2]),c[Z+532>>2]=e+(0|c[p+532>>2]),z=3<(0|d[(V=b+4|0)>>0])){if(c[Z+576>>2]=e+(0|c[p+464>>2]),c[Z+584>>2]=e+(0|c[p+468>>2]),h=0|c[p+476>>2],j=0|c[Y>>2],l=e+(0|c[p+472>>2])|0,c[Z+592>>2]=l,0<(0|(j=0|c[j+104>>2])))for(k=0|c[b+1080>>2],h=e+h|0,g=0;c[l+(48*g|0)+40>>2]=h,(0|(i=g+1|0))!=(0|j);)h=h+(c[k+(g<<2)>>2]<<2)|0,g=i;c[Z+600>>2]=e+(0|c[p+480>>2]),c[Z+608>>2]=e+(0|c[p+484>>2]),g=0|c[Y>>2],h=0|c[g+20>>2]}else if(g=0|c[p+536>>2],i=0|c[p+544>>2],c[Z+616>>2]=e+(0|c[p+540>>2]),c[(p=Z+612|0)>>2]=e+g,g=0|c[Y>>2],0<(0|(h=0|c[g+20>>2])))for(m=b+948|0,n=b+952|0,l=b+1036|0,k=e+i|(o=0);;){if(h=0|c[(0|c[m>>2])+(o<<2)>>2],i=(y=0|c[(0|c[n>>2])+(o<<2)>>2])+h|0,0<(0|y)){for(g=0|c[l>>2],j=0;j=(0|c[g+(h<<2)>>2])+j|0,(0|(h=h+1|0))<(0|i););h=(0|c[p>>2])+(o<<2)|0,j?(g=k,i=j):X=27}else h=(0|c[p>>2])+(o<<2)|0,X=27;if(27==(0|X)&&(i=g=X=0),c[h>>2]=g,g=0|c[Y>>2],(0|(h=0|c[g+20>>2]))<=(0|(o=o+1|0)))break;k=k+(i<<2)|0}c[Z>>2]=b,c[Z+620>>2]=1,c[Z+624>>2]=1&a[20+(0|c[b+708>>2])>>0],k=(c[Z+540>>2]=h)+-1|0;a:do{if(0<(0|h)){if(e=0|c[W>>2],q=0|c[b+928>>2],s=0|c[b+924>>2],u=0|c[b+936>>2],v=0|c[b+932>>2],w=0|c[b+940>>2],x=0|c[b+952>>2],y=b+948|0,p=0|c[A>>2],o=Z+584|0,n=b+956|0,!z)for(;;){if(c[e+(52*k|0)>>2]=0,c[e+(52*k|0)+4>>2]=c[(i=q+(k<<2)|0)>>2],c[e+(52*k|0)+8>>2]=c[(A=s+(k<<2)|0)>>2],f[e+(52*k|0)+12>>2]=+f[A>>2]-+f[i>>2],c[e+(52*k|0)+16>>2]=c[u+(k<<2)>>2],c[e+(52*k|0)+44>>2]=c[(i=v+(k<<2)|0)>>2],t=+r(.10000000149011612,0|c[w+(k<<2)>>2]),f[e+(52*k|0)+20>>2]=t,f[e+(52*k|0)+24>>2]=1.5*t,A=0|c[x+(k<<2)>>2],j=(c[e+(52*k|0)+32>>2]=A)?(0|c[C>>2])+(28*(0|c[(0|c[y>>2])+(k<<2)>>2])|0)|0:0,c[e+(52*k|0)+28>>2]=j,c[e+(52*k|0)+48>>2]=1,c[p+(k<<2)>>2]=c[i>>2],!(0<(0|k)))break a;k=k+-1|0}for(l=0|c[b+944>>2],m=0|c[b+960>>2];c[e+(52*k|0)>>2]=c[l+(k<<2)>>2],c[e+(52*k|0)+4>>2]=c[(j=q+(k<<2)|0)>>2],c[e+(52*k|0)+8>>2]=c[(A=s+(k<<2)|0)>>2],f[e+(52*k|0)+12>>2]=+f[A>>2]-+f[j>>2],c[e+(52*k|0)+16>>2]=c[u+(k<<2)>>2],c[e+(52*k|0)+44>>2]=c[(j=v+(k<<2)|0)>>2],t=+r(.10000000149011612,0|c[w+(k<<2)>>2]),f[e+(52*k|0)+20>>2]=t,f[e+(52*k|0)+24>>2]=1.5*t,A=0|c[x+(k<<2)>>2],i=(c[e+(52*k|0)+32>>2]=A)?(0|c[C>>2])+(28*(0|c[(0|c[y>>2])+(k<<2)>>2])|0)|0:0,c[e+(52*k|0)+28>>2]=i,A=0|c[m+(k<<2)>>2],i=(c[e+(52*k|0)+40>>2]=A)?(0|c[o>>2])+(28*(0|c[(0|c[n>>2])+(k<<2)>>2])|0)|0:0,c[e+(52*k|0)+36>>2]=i,c[e+(52*k|0)+48>>2]=1,c[p+(k<<2)>>2]=c[j>>2],0<(0|k);)k=k+-1|0}}while(0);if(z?(c[B>>2]=c[b+944>>2],l=g,u=b):($c(0|c[B>>2],0,h<<2|0),u=0|c[Z>>2],l=0|c[u+704>>2]),h=0|c[l+52>>2],0<(0|(c[Z+556>>2]=h)))for(g=0|c[C>>2],i=0|c[u+1036>>2],j=0|c[u+1132>>2],k=0|c[u+1032>>2];c[g+(28*(h=(B=h)+-1|0)|0)>>2]=c[i+(h<<2)>>2],c[g+(28*h|0)+4>>2]=j+(c[k+(h<<2)>>2]<<2),c[g+(28*h|0)+8>>2]=0,f[g+(28*h|0)+12>>2]=0,c[g+(28*h|0)+16>>2]=0,c[g+(28*h|0)+20>>2]=1,(c[g+(28*h|0)+24>>2]=1)<(0|B););if(h=0|c[l+48>>2],0<(0|(c[Z+564>>2]=h))){n=u+1048|0,o=u+1040|0,m=u+1044|0;do{if(l=h,g=0|c[U>>2],i=0|c[(0|c[n>>2])+((h=h+-1|0)<<2)>>2],0<(0|(c[g+(36*h|0)+4>>2]=i)))for(j=g+(36*h|0)|0,k=0;c[(0|c[j>>2])+(k<<2)>>2]=(0|c[C>>2])+(28*(0|c[(0|c[o>>2])+((0|c[(0|c[m>>2])+(h<<2)>>2])+k<<2)>>2])|0),(0|(k=k+1|0))!=(0|i););}while(c[g+(36*h|0)+8>>2]=1<<i,c[g+(36*h|0)+24>>2]=1,(c[g+(36*h|0)+28>>2]=1)<(0|l));u=0|c[Z>>2],l=0|c[u+704>>2]}if(g=0|c[l>>2],0<(0|(c[(e=Z+4|0)>>2]=g))){for(j=0|c[D>>2],o=0|c[U>>2],p=0|c[u+720>>2],k=0|c[u+740>>2],m=0|c[u+736>>2],n=0|c[u+732>>2],h=0|c[E>>2],i=g;c[j+(12*(i=(E=i)+-1|0)|0)>>2]=o+(36*(0|c[p+(i<<2)>>2])|0),c[j+(12*i|0)+4>>2]=c[k+(i<<2)>>2],c[j+(12*i|0)+8>>2]=c[m+(i<<2)>>2],f[h+(i<<2)>>2]=0==(0|c[n+(i<<2)>>2])?0:1,1<(0|E););for(i=0|c[F>>2],h=0;E=0|c[o+(36*(0|c[p+((g=(F=g)+-1|0)<<2)>>2])|0)+8>>2],h=(c[i+(g<<2)>>2]=E)+h|0,1<(0|F););g=0|c[e>>2]}else h=0;if(c[Z+20>>2]=h,c[Z+12>>2]=g,h=0|c[l+4>>2],0<(0|(c[Z+304>>2]=h))){m=u+752|0,o=u+764|0,n=u+768|0,l=u+772|0,p=u+776|0,k=u+760|0;do{switch(j=h,g=0|c[G>>2],c[g+((h=h+-1|0)<<5)>>2]=(0|c[U>>2])+(36*(0|c[(0|c[m>>2])+(h<<2)>>2])|0),c[g+(h<<5)+4>>2]=c[(0|c[o>>2])+(h<<2)>>2],c[g+(h<<5)+8>>2]=c[(0|c[n>>2])+(h<<2)>>2],F=0|c[(0|c[l>>2])+(h<<2)>>2],c[g+(h<<5)+12>>2]=F,i=0|c[(0|c[p>>2])+(h<<2)>>2],c[g+(h<<5)+16>>2]=i,c[g+(h<<5)+28>>2]=c[(0|c[k>>2])+(h<<2)>>2],0|F){case 0:c[(0|c[L>>2])+(24*i|0)+20>>2]=h,c[g+(h<<5)+20>>2]=2,c[g+(h<<5)+24>>2]=2;break;case 1:c[(0|c[J>>2])+(12*i|0)+8>>2]=h,c[g+(h<<5)+20>>2]=3,c[g+(h<<5)+24>>2]=3;break;default:ia(0,937,H)}}while(1<(0|j));u=0|c[Z>>2],B=0|c[u+704>>2]}else B=l;if(i=0|c[B+8>>2],h=(c[(e=Z+56|0)>>2]=i)+-1|0,p=0<(0|i))if(j=0|c[L>>2],k=0|c[U>>2],l=0|c[u+780>>2],m=0|c[u+800>>2],n=0|c[u+804>>2],o=0|c[u+796>>2],1<(0|d[u+4>>0]))for(g=0|c[u+808>>2];c[j+(24*h|0)>>2]=k+(36*(0|c[l+(h<<2)>>2])|0),c[j+(24*h|0)+4>>2]=c[m+(h<<2)>>2],c[j+(24*h|0)+8>>2]=c[n+(h<<2)>>2],c[j+(24*h|0)+16>>2]=c[o+(h<<2)>>2],c[j+(24*h|0)+12>>2]=c[g+(h<<2)>>2],0<(0|h);)h=h+-1|0;else for(;c[j+(24*h|0)>>2]=k+(36*(0|c[l+(h<<2)>>2])|0),c[j+(24*h|0)+4>>2]=c[m+(h<<2)>>2],c[j+(24*h|0)+8>>2]=c[n+(h<<2)>>2],c[j+(24*h|0)+16>>2]=c[o+(h<<2)>>2],(c[j+(24*h|0)+12>>2]=0)<(0|h);)h=h+-1|0;if(g=0|c[B+12>>2],0<(0|(c[(n=Z+164|0)>>2]=g)))for(h=0|c[J>>2],j=0|c[U>>2],k=0|c[u+812>>2],l=0|c[u+828>>2],m=g;c[h+(12*(m=(H=m)+-1|0)|0)>>2]=j+(36*(0|c[k+(m<<2)>>2])|0),c[h+(12*m|0)+4>>2]=c[l+(m<<2)>>2],1<(0|H););if(p){for(j=0|c[L>>2],g=0|c[I>>2],h=0;I=0|c[8+(0|c[j+(24*(i=(L=i)+-1|0)|0)>>2])>>2],h=(c[g+(i<<2)>>2]=I)+h|0,1<(0|L););i=0|c[e>>2],g=0|c[n>>2]}else h=0;if(c[Z+72>>2]=h,c[Z+64>>2]=i,0<(0|g)){for(j=0|c[J>>2],i=0|c[K>>2],h=0;K=0|c[8+(0|c[j+(12*(g=(L=g)+-1|0)|0)>>2])>>2],h=(c[i+(g<<2)>>2]=K)+h|0,1<(0|L););g=0|c[n>>2]}else h=0;if(c[Z+180>>2]=h,c[Z+172>>2]=g,g=u+704|0,h=0|c[B+16>>2],0<(0|(c[(e=Z+332|0)>>2]=h))){for(i=0|c[O>>2],o=0|c[U>>2],p=0|c[u+852>>2],j=0|c[u+876>>2],k=0|c[u+880>>2],l=0|c[u+892>>2],m=0|c[u+872>>2],n=h;c[i+(20*(n=(O=n)+-1|0)|0)>>2]=o+(36*(0|c[p+(n<<2)>>2])|0),c[i+(20*n|0)+4>>2]=c[j+(n<<2)>>2],c[i+(20*n|0)+8>>2]=c[k+(n<<2)>>2],c[i+(20*n|0)+16>>2]=c[l+(n<<2)>>2],c[i+(20*n|0)+12>>2]=c[m+(n<<2)>>2],1<(0|O););for(i=0|c[N>>2],j=0;N=0|c[o+(36*(0|c[p+((h=(O=h)+-1|0)<<2)>>2])|0)+8>>2],j=(c[i+(h<<2)>>2]=N)+j|0,1<(0|O););if(h=0|c[e>>2],c[Z+348>>2]=j,0<(0|(c[Z+340>>2]=h)))for(k=0|c[P>>2],i=0|c[Q>>2],j=h<<2;f[k+((j=(Q=j)+-4|0)<<2)>>2]=1,f[k+((O=Q+-3|0)<<2)>>2]=1,f[k+((P=Q+-2|0)<<2)>>2]=1,f[k+((Q=Q+-1|0)<<2)>>2]=1,f[i+(j<<2)>>2]=0,f[i+(O<<2)>>2]=0,!(((f[i+(P<<2)>>2]=0)|h)<=(f[i+(Q<<2)>>2]=1));)h=h+-1|0}else c[Z+348>>2]=0,c[Z+340>>2]=h;if(A=0|c[B+72>>2],0<(0|(c[Z+480>>2]=A))){h=0|c[M>>2],i=0|c[u+1152>>2],j=0|c[u+1156>>2],k=0|c[u+1160>>2],l=0|c[u+1164>>2],m=0|c[u+1148>>2],v=u+1172|0,x=u+1168|0,w=u+1176|0,y=0;do{if(n=0|c[i+(y<<2)>>2],c[h+(28*y|0)+4>>2]=n,c[h+(28*y|0)>>2]=c[j+(y<<2)>>2],Q=0|c[k+(y<<2)>>2],c[h+(28*y|0)+16>>2]=Q,o=0|c[l+(y<<2)>>2],c[h+(28*y|0)+20>>2]=o,c[h+(28*y|0)+24>>2]=Q+1-o,o=(c[h+(28*y|0)+8>>2]=0)|c[m+(y<<2)>>2],0<(0|n))for(p=0|c[h+(28*y|0)+12>>2],e=0|c[v>>2],q=0|c[x>>2],s=0|c[w>>2],z=0;c[p+(z<<4)+4>>2]=c[e+((Q=z+o|0)<<2)>>2],c[p+(z<<4)>>2]=c[q+(Q<<2)>>2],c[p+(z<<4)+8>>2]=c[s+(Q<<2)>>2],(0|(z=z+1|(c[p+(z<<4)+12>>2]=0)))!=(0|n););}while((0|(y=y+1|0))!=(0|A))}i=0|c[B+80>>2],c[(q=Z+500|0)>>2]=i;do{if(0<(0|i)){for(o=0|c[R>>2],p=0|c[U>>2],e=0|c[u+1188>>2],h=0|c[u+1200>>2],j=0|c[u+1204>>2],k=0|c[u+1212>>2],l=0|c[u+1216>>2],m=0|c[u+1208>>2],n=0|c[u+1220>>2];c[o+(24*(i=(U=i)+-1|0)|0)>>2]=p+(36*(0|c[e+(i<<2)>>2])|0),c[o+(24*i|0)+4>>2]=c[h+(i<<2)>>2],c[o+(24*i|0)+8>>2]=c[j+(i<<2)>>2],c[o+(24*i|0)+12>>2]=c[k+(i<<2)>>2],R=0|c[m+(i<<2)>>2],c[o+(24*i|0)+16>>2]=l+(R<<2),c[o+(24*i|0)+20>>2]=n+(R<<1),1<(0|U););if((0|(i=0|c[q>>2]))<=0){h=0;break}for(j=0|c[T>>2],h=0;T=0|c[p+(36*(0|c[e+((i=(U=i)+-1|0)<<2)>>2])|0)+8>>2],h=(c[j+(i<<2)>>2]=T)+h|0,1<(0|U););i=0|c[q>>2]}else h=0}while(0);c[Z+516>>2]=h,c[Z+508>>2]=i;do{if(3<(0|d[V>>0])){if((255&(h=0|a[u+4>>0]))<4)break;if(i=0|c[B+120>>2],0<(0|(c[Z+572>>2]=i))){for(n=0|c[Z+576>>2],o=0|c[u+1112>>2],e=u+1124|0,p=u+1116|0,q=u+1128|0,m=u+1120|0;j=-1<(0|(h=0|c[o+((i=(l=i)+-1|0)<<2)>>2]))?(j=0|c[(0|c[p>>2])+(i<<2)>>2],k=0|c[(0|c[m>>2])+(i<<2)>>2],h=(0|c[W>>2])+(52*h|0)|0,g=(0|c[e>>2])+(j<<2)|0,(0|c[q>>2])+(j<<2)|0):g=h=k=0,c[n+(20*i|0)>>2]=h,c[n+(20*i|0)+4>>2]=g,c[n+(20*i|0)+8>>2]=j,c[n+(20*i|0)+12>>2]=k,1<(0|l););if(g=0|c[Z>>2],(255&(h=0|a[g+4>>0]))<4)break;g=(u=g)+704|0}if(i=0|c[g>>2],g=0|c[i+100>>2],0<(0|(c[Z+580>>2]=g)))for(j=0|c[Z+584>>2],k=0|c[u+1056>>2],l=0|c[u+1132>>2],m=0|c[u+1052>>2],n=0|c[u+1060>>2];c[j+(28*(g=(X=g)+-1|0)|0)>>2]=c[k+(g<<2)>>2],c[j+(28*g|0)+4>>2]=l+(c[m+(g<<2)>>2]<<2),c[j+(28*g|0)+8>>2]=c[n+(g<<2)>>2],c[j+(28*g|0)+12>>2]=0,f[j+(28*g|0)+16>>2]=0,c[j+(28*g|0)+20>>2]=1,(c[j+(28*g|0)+24>>2]=1)<(0|X););if(g=0|c[i+104>>2],0<(0|(c[Z+588>>2]=g))){p=Z+592|0,q=Z+584|0,o=u+1064|0,s=u+1068|0,m=u+1080|0,e=Z+576|0,n=u+1108|0,l=u+1076|0;do{if(k=g,h=0|c[p>>2],c[h+(48*(g=g+-1|0)|0)>>2]=(0|c[q>>2])+(28*(0|c[(0|c[o>>2])+(g<<2)>>2])|0),c[h+(48*g|0)+4>>2]=c[(0|c[s>>2])+(g<<2)>>2],c[h+(48*g|0)+8>>2]=0,c[h+(48*g|0)+28>>2]=1,c[h+(48*g|0)+32>>2]=1,j=0|c[(0|c[m>>2])+(g<<2)>>2],0<(0|(c[h+(48*g|0)+36>>2]=j)))for(h=h+(48*g|0)+40|0,i=0;c[(0|c[h>>2])+(i<<2)>>2]=(0|c[e>>2])+(20*(0|c[(0|c[n>>2])+((0|c[(0|c[l>>2])+(g<<2)>>2])+i<<2)>>2])|0),(0|(i=i+1|0))!=(0|j););}while(1<(0|k));o=0|c[Z>>2],h=0|a[o+4>>0]}else o=u;if(n=0|c[Y>>2],g=0|c[n+108>>2],(255&h)<4)break;if(0<(0|(c[Z+596>>2]=g)))for(i=0|c[Z+600>>2],j=0|c[b+1084>>2],k=0|c[b+1092>>2],l=0|c[Z+592>>2],m=0|c[b+1088>>2],h=g;c[i+(12*(h=(Y=h)+-1|0)|0)>>2]=c[j+(h<<2)>>2],c[i+(12*h|0)+4>>2]=c[k+(h<<2)>>2],c[i+(12*h|0)+8>>2]=l+(48*(0|c[m+(h<<2)>>2])|0),1<(0|Y););if(h=0|c[n+112>>2],0<(0|(c[Z+604>>2]=h)))for(i=0|c[Z+608>>2],j=0|c[b+1096>>2],k=0|c[b+1104>>2],l=0|c[Z+592>>2],g=0|c[b+1100>>2];c[i+(12*(h=(b=h)+-1|0)|0)>>2]=c[j+(h<<2)>>2],c[i+(12*h|0)+4>>2]=c[k+(h<<2)>>2],c[i+(12*h|0)+8>>2]=l+(48*(0|c[g+(h<<2)>>2])|0),1<(0|b););if(i=0|c[o+1132>>2],j=0|c[20+(0|c[o+704>>2])>>2],k=Z+612|0,c[Z+616>>2]=c[o+972>>2],h=0|c[o+964>>2],c[k>>2]=h,(0|j)<=0)break;if(c[h>>2]=i+(c[c[(g=o+968|0)>>2]>>2]<<2),1==(0|j))break;for(h=1;c[(0|c[k>>2])+(h<<2)>>2]=i+(c[(0|c[g>>2])+(h<<2)>>2]<<2),(0|(h=h+1|0))!=(0|j););}else{if((0|c[B+20>>2])<=0)break;z=u+948|0,A=u+952|0,w=Z+612|0,x=u+1032|0,y=u+1036|0,s=u+1132|0,u=Z+616|0,v=0;do{if(h=0|c[(0|c[z>>2])+(v<<2)>>2],e=(b=0|c[(0|c[A>>2])+(v<<2)>>2])+h|0,q=0|c[(0|c[w>>2])+(v<<2)>>2],0<(0|b)){o=0|c[x>>2],p=0|c[y>>2],n=h,h=0;do{if(i=0|c[o+(n<<2)>>2],m=(b=0|c[p+(n<<2)>>2])+i|0,0<(0|b)){l=0|c[s>>2];do{t=+f[l+(i<<2)>>2],j=q+(h<<2)|0;b:do{if(0<(0|h))for(k=q;;){if(+f[k>>2]==t)break b;if(j>>>0<=(k=k+4|0)>>>0){X=150;break}}else X=150}while(0)}while(150==(0|X)&&(X=0,f[j>>2]=t,h=h+1|0),(0|(i=i+1|0))<(0|m))}}while((0|(n=n+1|0))<(0|e))}else h=0;!function(a,b){a|=0;var h,j,d=0,e=0,f=0,g=0,i=0,l=0,m=S,k=S=S+63&-64;S=S+208|0,f=(b|=0)<<2,c[(i=k=192+(j=k)|0)>>2]=1,c[i+4>>2]=0;a:do{if(0|f){for(c[4+j>>2]=4,d=b=c[j>>2]=4,e=2;(c[j+(e<<2)>>2]=b=b+4+d|0)>>>0<f>>>0;)i=d,d=b,e=e+1|0,b=i;if(a>>>0<(g=a+f+-4|0)>>>0){h=g,i=4+k|0,d=a,e=b=1;do{do{if(3!=(3&b|0)){if((0|c[j+((f=e+-1|0)<<2)>>2])>>>0<(h-d|0)>>>0?Cc(d,e,j):Ec(d,b,0|c[i>>2],e,0,j),1==(0|e)){Fc(k,1),e=0;break}Fc(k,f),e=1;break}}while(Cc(d,e,j),Dc(k,2),e=e+2|0,0)}while(b=1|c[k>>2],c[k>>2]=b,(d=d+4|0)>>>0<g>>>0);f=0|c[(g=i)>>2]}else g=4+k|0,f=0,d=a,e=b=1;for(Ec(d,b,f,e,0,j),f=4+k|0;;){if(1==(0|e)&1==(0|b)){if(!(0|c[f>>2]))break a;l=21}else(0|e)<2?l=21:(Fc(k,2),a=e+-2|0,c[k>>2]=7^c[k>>2],Dc(k,1),Ec(d+(0-(0|c[j+(a<<2)>>2]))+-4|0,0|c[k>>2],0|c[g>>2],e+-1|0,1,j),Fc(k,1),b=1|c[k>>2],Ec(d=d+-4|0,c[k>>2]=b,0|c[g>>2],a,1,j),e=a);21==(0|l)&&(Dc(k,a=(l=0)|Gc(k)),b=0|c[k>>2],d=d+-4|0,e=a+e|0)}}}while(0);S=m}(q,h),c[(0|c[u>>2])+(v<<2)>>2]=h,v=v+1|0}while((0|v)<(0|c[20+(0|c[g>>2])>>2]))}}while(0);return Jb(Z),S=_,0|Z}function oa(a,b){return 0|((a=+f[(a|=0)>>2])<(b=+f[(b|=0)>>2])?-1:b<a&1)}function pa(b,d){var e=0|a[4+(b|=0)>>0];c[(d|=0)>>2]=b+(0|c[b+64>>2]),c[d+4>>2]=b+(0|c[b+68>>2]),c[d+8>>2]=b+(0|c[b+72>>2]),c[d+12>>2]=b+(0|c[b+76>>2]),c[d+16>>2]=b+(0|c[b+80>>2]),c[d+20>>2]=b+(0|c[b+84>>2]),c[d+24>>2]=b+(0|c[b+88>>2]),c[d+28>>2]=b+(0|c[b+92>>2]),c[d+32>>2]=b+(0|c[b+96>>2]),c[d+36>>2]=b+(0|c[b+100>>2]),c[d+40>>2]=b+(0|c[b+104>>2]),c[d+44>>2]=b+(0|c[b+108>>2]),c[d+48>>2]=b+(0|c[b+112>>2]),c[d+52>>2]=b+(0|c[b+116>>2]),c[d+56>>2]=b+(0|c[b+120>>2]),c[d+60>>2]=b+(0|c[b+124>>2]),c[d+64>>2]=b+(0|c[b+128>>2]),c[d+68>>2]=b+(0|c[b+132>>2]),c[d+72>>2]=b+(0|c[b+136>>2]),c[d+76>>2]=b+(0|c[b+140>>2]),c[d+80>>2]=b+(0|c[b+144>>2]),c[d+84>>2]=b+(0|c[b+148>>2]),c[d+92>>2]=b+(0|c[b+152>>2]),c[d+96>>2]=b+(0|c[b+156>>2]),c[d+100>>2]=b+(0|c[b+160>>2]),c[d+108>>2]=b+(0|c[b+164>>2]),c[d+112>>2]=b+(0|c[b+168>>2]),c[d+116>>2]=b+(0|c[b+172>>2]),c[d+124>>2]=b+(0|c[b+176>>2]),c[d+128>>2]=b+(0|c[b+180>>2]),c[d+132>>2]=b+(0|c[b+184>>2]),c[d+136>>2]=b+(0|c[b+188>>2]),c[d+140>>2]=b+(0|c[b+192>>2]),c[d+144>>2]=b+(0|c[b+196>>2]),c[d+148>>2]=b+(0|c[b+200>>2]),c[d+152>>2]=b+(0|c[b+204>>2]),c[d+156>>2]=b+(0|c[b+208>>2]),c[d+164>>2]=b+(0|c[b+212>>2]),c[d+168>>2]=b+(0|c[b+216>>2]),c[d+172>>2]=b+(0|c[b+220>>2]),c[d+176>>2]=b+(0|c[b+224>>2]),c[d+180>>2]=b+(0|c[b+228>>2]),c[d+184>>2]=b+(0|c[b+232>>2]),c[d+188>>2]=b+(0|c[b+236>>2]),c[d+192>>2]=b+(0|c[b+240>>2]),c[d+196>>2]=b+(0|c[b+244>>2]),c[d+200>>2]=b+(0|c[b+248>>2]),c[d+204>>2]=b+(0|c[b+252>>2]),c[d+208>>2]=b+(0|c[b+256>>2]),c[d+212>>2]=b+(0|c[b+260>>2]),c[d+216>>2]=b+(0|c[b+264>>2]),c[d+220>>2]=b+(0|c[b+268>>2]),c[d+224>>2]=b+(0|c[b+272>>2]),c[d+228>>2]=b+(0|c[b+276>>2]),c[d+232>>2]=b+(0|c[b+280>>2]),c[d+236>>2]=b+(0|c[b+284>>2]),c[d+244>>2]=b+(0|c[b+288>>2]),c[d+248>>2]=b+(0|c[b+292>>2]),c[d+272>>2]=b+(0|c[b+296>>2]),c[d+276>>2]=b+(0|c[b+300>>2]),c[d+280>>2]=b+(0|c[b+304>>2]),c[d+284>>2]=b+(0|c[b+308>>2]),c[d+288>>2]=b+(0|c[b+312>>2]),c[d+292>>2]=b+(0|c[b+316>>2]),c[d+296>>2]=b+(0|c[b+320>>2]),c[d+300>>2]=b+(0|c[b+324>>2]),c[d+304>>2]=b+(0|c[b+328>>2]),c[d+308>>2]=b+(0|c[b+332>>2]),c[d+312>>2]=b+(0|c[b+336>>2]),c[d+316>>2]=b+(0|c[b+340>>2]),c[d+320>>2]=b+(0|c[b+344>>2]),c[d+324>>2]=b+(0|c[b+348>>2]),c[d+336>>2]=b+(0|c[b+352>>2]),c[d+340>>2]=b+(0|c[b+356>>2]),c[d+344>>2]=b+(0|c[b+360>>2]),c[d+328>>2]=b+(0|c[b+364>>2]),c[d+332>>2]=b+(0|c[b+368>>2]),c[d+428>>2]=b+(0|c[b+372>>2]),c[d+432>>2]=b+(0|c[b+376>>2]),c[d+436>>2]=b+(0|c[b+380>>2]),c[d+440>>2]=b+(0|c[b+384>>2]),c[d+444>>2]=b+(0|c[b+388>>2]),c[d+448>>2]=b+(0|c[b+392>>2]),c[d+452>>2]=b+(0|c[b+396>>2]),c[d+456>>2]=b+(0|c[b+400>>2]),c[d+460>>2]=b+(0|c[b+404>>2]),c[d+464>>2]=b+(0|c[b+408>>2]),c[d+468>>2]=b+(0|c[b+412>>2]),c[d+472>>2]=b+(0|c[b+416>>2]),c[d+476>>2]=b+(0|c[b+420>>2]),c[d+480>>2]=b+(0|c[b+424>>2]),c[d+484>>2]=b+(0|c[b+428>>2]),c[d+488>>2]=b+(0|c[b+432>>2]),c[d+492>>2]=b+(0|c[b+436>>2]),c[d+496>>2]=b+(0|c[b+440>>2]),c[d+500>>2]=b+(0|c[b+444>>2]),c[d+504>>2]=b+(0|c[b+448>>2]),c[d+508>>2]=b+(0|c[b+452>>2]),c[d+512>>2]=b+(0|c[b+456>>2]),c[d+516>>2]=b+(0|c[b+460>>2]),c[d+520>>2]=b+(0|c[b+464>>2]),(255&e)<=1||(c[d+104>>2]=b+(0|c[b+468>>2]),(255&e)<=3||(c[d+260>>2]=b+(0|c[b+472>>2]),c[d+264>>2]=b+(0|c[b+476>>2]),c[d+268>>2]=b+(0|c[b+480>>2]),c[d+88>>2]=b+(0|c[b+484>>2]),c[d+120>>2]=b+(0|c[b+488>>2]),c[d+160>>2]=b+(0|c[b+492>>2]),c[d+524>>2]=b+(0|c[b+496>>2]),c[d+528>>2]=b+(0|c[b+500>>2]),c[d+532>>2]=b+(0|c[b+504>>2]),c[d+536>>2]=b+(0|c[b+508>>2]),c[d+540>>2]=b+(0|c[b+512>>2]),c[d+544>>2]=b+(0|c[b+516>>2]),c[d+240>>2]=b+(0|c[b+520>>2]),c[d+252>>2]=b+(0|c[b+524>>2]),c[d+256>>2]=b+(0|c[b+528>>2]),c[d+348>>2]=b+(0|c[b+532>>2]),c[d+352>>2]=b+(0|c[b+536>>2]),c[d+356>>2]=b+(0|c[b+540>>2]),c[d+360>>2]=b+(0|c[b+544>>2]),c[d+364>>2]=b+(0|c[b+548>>2]),c[d+368>>2]=b+(0|c[b+552>>2]),c[d+372>>2]=b+(0|c[b+556>>2]),c[d+376>>2]=b+(0|c[b+560>>2]),c[d+380>>2]=b+(0|c[b+564>>2]),c[d+384>>2]=b+(0|c[b+568>>2]),c[d+388>>2]=b+(0|c[b+572>>2]),c[d+392>>2]=b+(0|c[b+576>>2]),c[d+396>>2]=b+(0|c[b+580>>2]),c[d+400>>2]=b+(0|c[b+584>>2]),c[d+404>>2]=b+(0|c[b+588>>2]),c[d+408>>2]=b+(0|c[b+592>>2]),c[d+412>>2]=b+(0|c[b+596>>2]),c[d+416>>2]=b+(0|c[b+600>>2]),c[d+420>>2]=b+(0|c[b+604>>2]),c[d+424>>2]=b+(0|c[b+608>>2])))}var W=[md,function(a){return 0|A(0,0|(a|=0))},function(a){return 0},md],X=[function(a,b,c){return x(1),0},function(a,b,c){return 0|B(0,0|(a|=0),0|(b|=0),0|(c|=0))},function(a,b,d){b|=0,d|=0;var e,j,k,m,n,o,f=0,g=0,h=0,p=0,l=S,i=S=S+63&-64;for(S=S+32|0,i=16+(g=i)|0,f=0|c[(j=28+(a|=0)|0)>>2],c[g>>2]=f,f=(0|c[(k=a+20|0)>>2])-f|0,c[g+4>>2]=f,c[g+8>>2]=b,e=a+60|0,f=f+(c[g+12>>(h=2)]=d)|0;;){if((0|f)==(0|(b=0|function(a){return 0|((a|=0)<<16>>16?(c[1026]=65535&a,-1):0)}(0|G(0|c[e>>2],0|g,0|h,0|i))?c[i>>2]=-1:0|c[i>>2]))){b=6;break}if((0|b)<0){b=8;break}p=0|c[g+4>>2],c[(n=(m=p>>>0<b>>>0)?g+8|0:g)>>2]=(0|c[n>>2])+(p=b-(m?p:0)|0),c[(o=n+4|0)>>2]=(0|c[o>>2])-p,g=n,h=h+(m<<31>>31)|0,f=f-b|0}return 6==(0|b)?(p=0|c[a+44>>2],c[a+16>>2]=p+(0|c[a+48>>2]),c[j>>2]=p,c[k>>2]=p):8==(0|b)&&(c[a+16>>2]=0,c[j>>2]=0,c[k>>2]=0,c[a>>2]=32|c[a>>2],d=2==(0|h)?0:d-(0|c[g+4>>2])|0),S=l,0|d},function(a,b,d){var e,f;return Zc(0|(f=0|c[(e=20+(a|=0)|0)>>2]),0|(b|=0),0|(a=(d|=0)>>>0<(a=(0|c[a+16>>2])-f|0)>>>0?d:a)),c[e>>2]=(0|c[e>>2])+a,0|d}],Y=[od,function(a,b,c,d){return 0|C(0,0|(a|=0),0|(b|=0),0|(c|=0),0|(d|=0))},function(a,b,c,d){return y(0),0},od],Z=[function(a){x(3)},function(a){D(0,0|(a|=0))}],_=[function(a,b){x(4)},function(a,b){E(0,0|(a|=0),0|(b|=0))},function(a,b){var j,e=0,g=0,h=0,i=0,k=0,l=0,m=0,n=0,e=0|c[(j=308+(a|=0)|0)>>2],g=0|c[a+316>>2],h=0|c[a+320>>2];-1==(0|(i=0|c[(k=e+((b|=0)<<5)+8|0)>>2]))?(c[g+(b<<2)>>2]=c[(0|c[a+148>>2])+(c[e+(b<<5)+16>>2]<<2)>>2],f[h+(b<<2)>>2]=1):(m=0|c[(l=e+(b<<5)+16|0)>>2],n=0|c[(0|c[a+152>>2])+(m<<2)>>2],$[3&c[e+(i<<5)+24>>2]](a,i,n,n,0|c[(0|c[a+60>>2])+(24*m|0)+16>>2]),k=0|c[k>>2],f[g+(b<<2)>>2]=+f[(0|c[a+148>>2])+(c[l>>2]<<2)>>2]*+f[g+(k<<2)>>2],c[h+(b<<2)>>2]=c[h+(k<<2)>>2]),(0|d[4+(0|c[a>>2])>>0])<4||(e=0|c[j>>2],g=0|c[a+324>>2],j=0|c[a+328>>2],h=b<<2,i=c[e+(b<<5)+16>>2]<<2,-1==(0|(e=0|c[e+(b<<5)+8>>2]))?(e=0|c[a+156>>2],c[g+(h<<2)>>2]=c[e+(i<<2)>>2],c[g+((b=1|h)<<2)>>2]=c[e+((k=1|i)<<2)>>2],c[g+((n=2|h)<<2)>>2]=c[e+((m=2|i)<<2)>>2],f[g+((e=3|h)<<2)>>2]=1,l=0|c[a+160>>2],c[j+(h<<2)>>2]=c[l+(i<<2)>>2],c[j+(b<<2)>>2]=c[l+(k<<2)>>2],c[j+(n<<2)>>2]=c[l+(m<<2)>>2]):(m=e<<2,l=(0|c[a+156>>2])+(i<<2)|0,f[(e=g+(h<<2)|0)>>2]=+f[l>>2]*+f[(n=g+(m<<2)|0)>>2],f[e+4>>2]=+f[l+4>>2]*+f[n+4>>2],f[e+8>>2]=+f[l+8>>2]*+f[n+8>>2],f[g+((e=3|h)<<2)>>2]=1,l=(0|c[a+160>>2])+(i<<2)|0,b=+f[l>>2],k=+f[(m=j+(m<<2)|0)>>2],f[(n=j+(h<<2)|0)>>2]=b+k-b*k,k=+f[l+4>>2],b=+f[m+4>>2],f[n+4>>2]=k+b-k*b,b=+f[l+8>>2],k=+f[m+8>>2],f[n+8>>2]=b+k-b*k),f[j+(e<<2)>>2]=1)},function(a,b){var n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,e=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,o=0,D=0,E=0,F=0,G=0,H=S,F=S=S+63&-64;if(S=S+48|0,u=F+8|0,s=F+40|0,r=F+32|0,q=(t=F)+24|0,F=F+16|0,e=0|c[(y=308+(a|=0)|0)>>2],w=0|c[a+316>>2],x=0|c[a+320>>2],-1==(0|(p=0|c[(B=e+((b|=0)<<5)+8|0)>>2])))G=0|c[e+(b<<5)+16>>2],c[w+(b<<2)>>2]=c[(0|c[a+268>>2])+(G<<2)>>2],c[x+(b<<2)>>2]=c[(0|c[a+272>>2])+(G<<2)>>2];else{for(v=0|c[(C=e+(b<<5)+16|0)>>2],j=0|c[(0|c[(z=a+276|0)>>2])+(v<<2)>>2],c[F>>2]=j,v=0|c[(0|c[(A=a+280|0)>>2])+(v<<2)>>2],c[(D=F+4|0)>>2]=v,E=1==(0|c[e+(p<<5)+12>>2])?-10:-.10000000149011612,c[s>>2]=j,c[(j=4+s|0)>>2]=v,$[3&c[(v=e+(p<<5)+24|0)>>2]](a,p,s,r,1),h=4+q|0,e=4+r|0,g=t+4|0,i=9,o=1;f[q>>2]=(m=0*o)+ +f[s>>2],f[h>>2]=(n=E*o)+ +f[j>>2],$[3&c[v>>2]](a,p,q,t,1),l=+f[t>>2]-+f[r>>2],f[t>>2]=l,k=+f[g>>2]-+f[e>>2],!(0!=l|0!=(f[g>>2]=k));){if(f[q>>2]=+f[s>>2]-m,f[h>>2]=+f[j>>2]-n,$[3&c[v>>2]](a,p,q,t,1),k=+f[t>>2]-+f[r>>2],f[t>>2]=k,m=+f[g>>2]-+f[e>>2],0!=k|0!=(f[g>>2]=m)){G=6;break}if(!i){G=8;break}i=i+-1|0,o*=.10000000149011612}6==(0|G)?(l=-k,k=-m):8==(0|G)&&(ia(0,2813,u),k=l=0),E=180*+rb(0,E,l,k)/3.1415927410125732,$[3&c[v>>2]](a,0|c[B>>2],F,F,1),G=0|c[C>>2],c[(0|c[z>>2])+(G<<2)>>2]=c[F>>2],c[(0|c[A>>2])+(G<<2)>>2]=c[D>>2],F=(0|c[a+284>>2])+(G<<2)|0,f[F>>2]=+f[F>>2]-E,F=0|c[B>>2],f[w+(b<<2)>>2]=+f[(0|c[a+268>>2])+(G<<2)>>2]*+f[w+(F<<2)>>2],G=(0|c[a+272>>2])+(G<<2)|0,E=+f[G>>2]*+f[x+(F<<2)>>2],f[x+(b<<2)>>2]=E,f[G>>2]=E}(0|d[4+(0|c[a>>2])>>0])<4||(e=0|c[y>>2],g=0|c[a+324>>2],j=0|c[a+328>>2],h=b<<2,i=c[e+(b<<5)+16>>2]<<2,-1==(0|(e=0|c[e+(b<<5)+8>>2]))?(e=0|c[a+296>>2],c[g+(h<<2)>>2]=c[e+(i<<2)>>2],c[g+((F=1|h)<<2)>>2]=c[e+((D=1|i)<<2)>>2],c[g+((b=2|h)<<2)>>2]=c[e+((G=2|i)<<2)>>2],f[g+((e=3|h)<<2)>>2]=1,a=0|c[a+300>>2],c[j+(h<<2)>>2]=c[a+(i<<2)>>2],c[j+(F<<2)>>2]=c[a+(D<<2)>>2],c[j+(b<<2)>>2]=c[a+(G<<2)>>2]):(F=e<<2,G=(0|c[a+296>>2])+(i<<2)|0,f[(e=g+(h<<2)|0)>>2]=+f[G>>2]*+f[(b=g+(F<<2)|0)>>2],f[e+4>>2]=+f[G+4>>2]*+f[b+4>>2],f[e+8>>2]=+f[G+8>>2]*+f[b+8>>2],f[g+((e=3|h)<<2)>>2]=1,G=(0|c[a+300>>2])+(i<<2)|0,o=+f[G>>2],E=+f[(a=j+(F<<2)|0)>>2],f[(b=j+(h<<2)|0)>>2]=o+E-o*E,E=+f[G+4>>2],o=+f[a+4>>2],f[b+4>>2]=E+o-E*o,o=+f[G+8>>2],E=+f[a+8>>2],f[b+8>>2]=o+E-o*E),f[j+(e<<2)>>2]=1),S=H}],$=[function(a,b,c,d,e){x(5)},function(a,b,c,d,e){F(0,0|(a|=0),0|(b|=0),0|(c|=0),0|(d|=0),0|(e|=0))},function(a,b,d,e,h){d|=0,e|=0;var B,F,G,H,I,J,K,L,N,O,P,Q,R,T,U,V,W,X,Y,ba,ca,da,ea,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,w=0,x=0,y=0,z=0,A=0,C=0,D=0,E=0,M=0,_=0,Z=S;if(S=S+32|0,Y=Z,b=0|c[(0|c[308+(a|=0)>>2])+((b|=0)<<5)+16>>2],i=0|c[a+60>>2],R=0|c[(0|c[a+152>>2])+(b<<2)>>2],T=0|c[i+(24*b|0)+8>>2],U=0|c[i+(24*b|0)+4>>2],V=1+T|0,(0|(h|=0))<=0)S=Z;else{W=0|T,X=0|U,Q=0==(0|c[i+(24*b|0)+12>>2]),F=R+(T<<3)|0,G=R+((N=0|v(U,V))<<3)|0,H=R+((L=N+T|0)<<3)|0,I=4+R|0,J=R+(T<<3)+4|0,K=R+(N<<3)+4|0,L=R+(L<<3)+4|0,P=T-1|0,O=U-1|0,t=u=w=x=j=k=s=r=q=p=E=D=o=n=m=l=M=A=0;do{y=(B=+f[d+(M<<3)>>2])*W,C=(z=+f[d+(M<<3)+4>>2])*X,a=!(1<=B),i=!(1<=z);do{if(i&a&!(B<0)&!(z<0)){if(a=~~y,b=(0|v(V,i=~~C))+a|0,k=y-(0|a),j=C-(0|i),!Q){f[e+(M<<3)>>2]=(y=1-j)*((z=1-k)*+f[R+(b<<3)>>2])+y*(k*+f[R+((_=b+1|0)<<3)>>2])+j*(z*+f[R+((a=b+V|0)<<3)>>2])+j*(k*+f[R+((i=a+1|0)<<3)>>2]),z=y*(z*+f[R+(b<<3)+4>>2])+y*(k*+f[R+(_<<3)+4>>2])+j*(z*+f[R+(a<<3)+4>>2]),y=j*(k*+f[R+(i<<3)+4>>2]);break}if(k+j<=1){f[e+(M<<3)>>2]=(z=1-k-j)*+f[R+(b<<3)>>2]+k*+f[R+((i=b+1|0)<<3)>>2]+j*+f[R+((_=b+V|0)<<3)>>2],z=z*+f[R+(b<<3)+4>>2]+k*+f[R+(i<<3)+4>>2],y=j*+f[R+(_<<3)+4>>2];break}f[e+(M<<3)>>2]=(C=k+-1+j)*+f[R+((a=1+(i=b+V|0)|0)<<3)>>2]+(z=1-k)*+f[R+(i<<3)>>2]+(y=1-j)*+f[R+((_=b+1|0)<<3)>>2],z=C*+f[R+(a<<3)+4>>2]+z*+f[R+(i<<3)+4>>2],y*=+f[R+(_<<3)+4>>2];break}if(A||(ea=+f[R>>2],da=+f[F>>2],ca=+f[G>>2],D=+f[H>>2],ba=+f[I>>2],t=(w=+f[J>>2])-(x=+f[K>>2]),A=1,D=.25*(ea+da+ca+D)-.5*(ea=D-ea),E=.25*(ba+w+x+(E=+f[L>>2]))-.5*(ba=E-ba),x=.5*((u=da-ca)+ea),w=.5*(t+ba),u=.5*(ea-u),t=.5*(ba-t)),!(z<3&-2<B&B<3&-2<z)){f[e+(M<<3)>>2]=z*u+(B*x+D),z*=t,y=B*w+E;break}do{if(B<=0){if(z<=0){l=D-(n=2*u),m=E-(o=2*t),n=(r=D-2*x)-n,o=(s=E-2*w)-o,p=+f[R>>2],q=+f[I>>2],k=.5*(2+B),j=.5*(z+2);break}if(i){o=(j=0|(i=(0|U)==(0|(i=~~C))?O:i))/X,k=(0|(_=i+1|0))/X,i=0|v(i,V),_=0|v(_,V),l=+f[R+(i<<3)>>2],m=+f[R+(i<<3)+4>>2],n=o*u+(r=D-2*x),o=o*t+(s=E-2*w),p=+f[R+(_<<3)>>2],q=+f[R+(_<<3)+4>>2],r=k*u+r,s=k*t+s,k=.5*(2+B),j=C-j;break}l=+f[G>>2],m=+f[K>>2],n=u+(r=D-2*x),o=t+(s=E-2*w),p=(j=3*u)+D,q=(k=3*t)+E,r=j+r,s=k+s,k=.5*(2+B),j=.5*(z+-1);break}if(b=z<=0,a){if(b){l=(m=(0|(i=(_=(0|T)==(0|(_=~~y))?P:_)+1|0))/W)*x+D-(n=2*u),m=m*w+E-(o=2*t),n=(p=(k=0|_)/W)*x+D-n,o=p*w+E-o,p=+f[R+(i<<3)>>2],q=+f[R+(i<<3)+4>>2],r=+f[R+(_<<3)>>2],s=+f[R+(_<<3)+4>>2],k=y-k,j=.5*(z+2);break}if(i){c[Y>>2]=M,g[Y+8>>3]=B,g[Y+16>>3]=z,ia(0,865,Y);break}k=0|(_=(0|T)==(0|(_=~~y))?P:_),q=(0|(i=_+1|0))/W,l=+f[R+((i=i+N|0)<<3)>>2],m=+f[R+(i<<3)+4>>2],n=+f[R+((_=_+N|0)<<3)>>2],o=+f[R+(_<<3)+4>>2],p=(r=3*u)+(q*x+D),q=(j=3*t)+(q*w+E),r+=(s=k/W)*x+D,s=j+(s*w+E),k=y-k,j=.5*(z+-1);break}if(b){l=(p=3*x+D)-(n=2*u),m=(q=3*w+E)-(o=2*t),n=x+D-n,o=w+E-o,r=+f[F>>2],s=+f[J>>2],k=.5*(B-1),j=.5*(z+2);break}if(i){m=(j=0|(i=(0|U)==(0|(i=~~C))?O:i))/X,r=(0|(_=i+1|0))/X,i=(0|v(i,V))+T|0,_=(0|v(_,V))+T|0,l=m*u+(p=3*x+D),m=m*t+(q=3*w+E),n=+f[R+(i<<3)>>2],o=+f[R+(i<<3)+4>>2],p=r*u+p,q=r*t+q,r=+f[R+(_<<3)>>2],s=+f[R+(_<<3)+4>>2],k=.5*(B-1),j=C-j;break}l=u+(p=3*x+D),m=t+(q=3*w+E),n=+f[H>>2],o=+f[L>>2],p=(r=3*u)+p,q=(s=3*t)+q,r+=x+D,s+=w+E,k=.5*(B-1),j=.5*(z+-1);break}while(0);if(k+j<=1){f[e+(M<<3)>>2]=n+(l-n)*k+(r-n)*j,z=o+(m-o)*k,y=(s-o)*j;break}f[e+(M<<3)>>2]=p+(r-p)*(z=1-k)+(l-p)*(y=1-j),z=q+(s-q)*z,y*=m-q;break}while(0)}while(f[e+(M<<3)+4>>2]=z+y,(0|(M=M+1|0))!=(0|h));S=Z}},function(a,b,d,e,g){d|=0,e|=0,g|=0;var i,k,n,o,h,j,l,m;if(b=0|c[(0|c[(a|=0)+308>>2])+((b|=0)<<5)+16>>2],j=3.1415927410125732*(+f[(0|c[a+168>>2])+(12*b|0)+4>>2]+ +f[(0|c[a+284>>2])+(b<<2)>>2])/180,h=+t(j),j=+s(j),k=(j*=i=+f[(0|c[a+272>>2])+(b<<2)>>2])*(l=0==(0|c[(0|c[a+288>>2])+(b<<2)>>2])?1:-1),i=(h*=i)*(m=0==(0|c[(0|c[a+292>>2])+(b<<2)>>2])?1:-1),l*=h,m*=j,j=+f[(0|c[a+276>>2])+(b<<2)>>2],h=+f[(0|c[a+280>>2])+(b<<2)>>2],!((0|g)<=0))for(b=0;o=+f[d+(b<<3)>>2],n=+f[d+(b<<3)+4>>2],f[e+(b<<3)>>2]=k*o-i*n+j,f[e+(b<<3)+4>>2]=l*o+m*n+h,(0|(b=b+1|0))!=(0|g););}];return{___errno_location:function(){return 4104},___muldi3:Qc,___udivdi3:Vc,_bitshift64Lshr:Wc,_bitshift64Shl:Xc,_csmFree:function(a){Kc(a|=0)},_csmGetDrawableConstantFlags:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[888+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2312,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableCount:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+332>>2],S=d,0|b):(c[b>>2]=2274,c[b+4>>2]=1827,ia(0,1664,b),S=d,-1)},_csmGetDrawableDrawOrders:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+440>>2],S=d,0|b):(c[b>>2]=2396,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableDynamicFlags:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+432>>2],S=d,0|b):(c[b>>2]=2340,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableIds:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[832+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2294,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableIndexCounts:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[904+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2598,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableIndices:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[840+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2624,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableMaskCounts:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[912+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2472,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableMasks:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[844+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2497,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableMultiplyColors:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+452>>2],S=d,0|b):(c[b>>2]=2646,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableOpacities:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+448>>2],S=d,0|b):(c[b>>2]=2448,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableParentPartIndices:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[876+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2702,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableRenderOrders:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+436>>2],S=d,0|b):(c[b>>2]=2421,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableScreenColors:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+456>>2],S=d,0|b):(c[b>>2]=2675,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableTextureIndices:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[884+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2367,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableVertexCounts:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[892+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2517,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableVertexPositions:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+444>>2],S=d,0|b):(c[b>>2]=2544,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetDrawableVertexUvs:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[836+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2574,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetLatestMocVersion:function(){return 4},_csmGetMocVersion:function(a,b){b|=0;var d=S;return b=S=S+63&-64,S=S+16|0,(a|=0)?(a=0|ta(a),S=d,0|a):(c[b>>2]=1681,c[b+4>>2]=1698,ia(0,1664,b),S=d,(a=0)|a)},_csmGetParameterCount:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+540>>2],S=d,0|b):(c[b>>2]=2026,c[b+4>>2]=1827,ia(0,1664,b),S=d,-1)},_csmGetParameterDefaultValues:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[932+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2145,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetParameterIds:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[916+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2047,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetParameterKeyCounts:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+616>>2],S=d,0|b):(c[b>>2]=2763,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetParameterKeyValues:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+612>>2],S=d,0|b):(c[b>>2]=2788,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetParameterMaximumValues:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[924+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2116,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetParameterMinimumValues:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[928+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2087,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetParameterTypes:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+548>>2],S=d,0|b):(c[b>>2]=2066,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetParameterValues:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+552>>2],S=d,0|b):(c[b>>2]=2174,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetPartCount:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+4>>2],S=d,0|b):(c[b>>2]=2196,c[b+4>>2]=1827,ia(0,1664,b),S=d,-1)},_csmGetPartIds:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[712+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2212,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetPartOpacities:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[a+52>>2],S=d,0|b):(c[b>>2]=2226,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetPartParentPartIndices:function(a){var b=0,d=S,b=S=S+63&-64;return S=S+16|0,(a|=0)?(b=0|c[740+(0|c[a>>2])>>2],S=d,0|b):(c[b>>2]=2246,c[b+4>>2]=1827,ia(0,1664,b),S=d,(b=0)|b)},_csmGetSizeofModel:Ka,_csmGetVersion:function(){return 67239940},_csmHasMocConsistency:function(a,b){b|=0;var e,d=0,f=0,g=S,d=S=S+63&-64;return S=S+32|0,f=d+16|0,e=d+8|0,(a|=0)?((d=a)+63&-64|0)!=(0|d)?(c[e>>2]=1717,c[4+e>>2]=1738,ia(0,1664,e),S=g,(f=0)|f):0|b&&(b+63&-64|0)==(0|b)?(f=0|qa(a,b),S=g,0|f):(c[f>>2]=1717,c[f+4>>2]=1770,ia(0,1664,f),S=g,(f=0)|f):(c[d>>2]=1717,c[d+4>>2]=1698,ia(0,1664,d),S=g,(f=0)|f)},_csmInitializeAmountOfMemory:function(a){var b=S,d=S=S+63&-64;S=S+16|0,Nc(d,64,a|=0),Kc(0|c[d>>2]),S=b},_csmInitializeModelInPlace:La,_csmMalloc:function(a){return 0|Jc(a|=0)},_csmMallocMoc:function(a){var d=S,b=S=S+63&-64;return S=S+16|0,Nc(b,64,a|=0),S=d,0|c[b>>2]},_csmMallocModelAndInitialize:function(a){var b=0,e=0,f=S,b=S=S+63&-64;return S=S+16|0,0!=(0|(a|=0))&&0==(0|Nc(b,16,e=0|Ka(a)))?(b=0|La(a,a=0|c[b>>2],e))||(Kc(a),b=0):b=0,S=f,0|b},_csmReadCanvasInfo:function(a,b,d,e){b|=0,d|=0,e|=0;var g,h,i=0,j=S,f=S=S+63&-64;if(S=S+32|0,g=24+f|0,i=16+f|0,h=8+f|0,a|=0)return b?d?e?(i=0|c[708+(0|c[a>>2])>>2],c[b>>2]=c[i+12>>2],c[b+4>>2]=c[i+16>>2],c[d>>2]=c[i+4>>2],c[d+4>>2]=c[i+8>>2],c[e>>2]=c[i>>2]):(c[g>>2]=1809,c[4+g>>2]=1903,ia(0,1664,g)):(c[i>>2]=1809,c[i+4>>2]=1874,ia(0,1664,i)):(c[h>>2]=1809,c[4+h>>2]=1847,ia(0,1664,h)),void(S=j);c[f>>2]=1809,c[4+f>>2]=1827,ia(0,1664,f),S=j},_csmResetDrawableDynamicFlags:function(a){var d=S,b=S=S+63&-64;S=S+16|0,(a|=0)?c[a+428>>2]=1:(c[b>>2]=2734,c[4+b>>2]=1827,ia(0,1664,b)),S=d},_csmReviveMocInPlace:function(a,b){b|=0;var e,d=0,f=0,g=S,d=S=S+63&-64;return S=S+32|0,f=d+16|0,e=d+8|0,(a|=0)?((d=a)+63&-64|0)!=(0|d)?(c[e>>2]=1789,c[4+e>>2]=1738,ia(0,1664,e),S=g,(f=0)|f):0|b&&(b+63&-64|0)==(0|b)?(f=0|sa(a),S=g,0|f):(c[f>>2]=1789,c[f+4>>2]=1770,ia(0,1664,f),S=g,(f=0)|f):(c[d>>2]=1789,c[d+4>>2]=1698,ia(0,1664,d),S=g,(f=0)|f)},_csmSetLogFunction:function(a){c[1008]=a|=0},_csmUpdateModel:function(a){var d=S,b=S=S+63&-64;S=S+16|0,(a|=0)?Jb(a):(c[b>>2]=2011,c[4+b>>2]=1827,ia(0,1664,b)),S=d},_emscripten_get_sbrk_ptr:function(){return 4624},_emscripten_replace_memory:function(newBuffer){return a=new Int8Array(newBuffer),d=new Uint8Array(newBuffer),b=new Int16Array(newBuffer),e=new Uint16Array(newBuffer),c=new Int32Array(newBuffer),f=new Float32Array(newBuffer),g=new Float64Array(newBuffer),!0},_free:Kc,_i64Add:Rc,_i64Subtract:Sc,_malloc:Jc,_memcpy:Zc,_memmove:_c,_memset:$c,dynCall_ii:function(a,b){return 0|W[3&(a|=0)](0|(b|=0))},dynCall_iiii:function(a,b,c,d){return 0|X[3&(a|=0)](0|(b|=0),0|(c|=0),0|(d|=0))},dynCall_iiiii:function(a,b,c,d,e){return 0|Y[3&(a|=0)](0|(b|=0),0|(c|=0),0|(d|=0),0|(e|=0))},dynCall_vi:function(a,b){Z[1&(a|=0)](0|(b|=0))},dynCall_vii:function(a,b,c){_[3&(a|=0)](0|(b|=0),0|(c|=0))},dynCall_viiiii:function(a,b,c,d,e,f){$[3&(a|=0)](0|(b|=0),0|(c|=0),0|(d|=0),0|(e|=0),0|(f|=0))},establishStackSpace:function(a,b){S=a|=0},stackAlloc:function(a){var b=S;return S=15+(S+(a|=0)|0)&-16,0|b},stackRestore:function(a){S=0|a},stackSave:function(){return 0|S}}}({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:C,b:function(a){J=a},c:function(){return J},d:function(a,c){return I[a](c)},e:function(a,c,d,f){return I[a](c,d,f)},f:function(a,c,d,f,g){return I[a](c,d,f,g)},g:function(a,c){I[a](c)},h:function(a,c,d){I[a](c,d)},i:function(a,c,d,f,g,h){I[a](c,d,f,g,h)},j:function(){return pa.apply(null,arguments)},k:qa,l:function(a,c,d){M.set(M.subarray(c,c+d),a)},m:function(a){if(2130706432<a)return!1;for(var c=Math.max(qa(),16777216);c<a;)c=c<=536870912?ea(2*c):Math.min(ea((3*c+2147483648)/4),2130706432);return!!ra(c)},n:pa,o:function(){C("OOM")},p:function(a){return a},q:na,r:ra,s:function(){var a=b._fflush;a&&a(0),V[1].length&&W(1,10),V[2].length&&W(2,10)},t:oa,u:function(){var a=oa();return b.extraStackTrace&&(a+="\n"+b.extraStackTrace()),na(a)},v:4816},buffer),sa=(b.___errno_location=q.___errno_location,b.___muldi3=q.___muldi3,b.___udivdi3=q.___udivdi3,b._bitshift64Lshr=q._bitshift64Lshr,b._bitshift64Shl=q._bitshift64Shl,b._csmFree=q._csmFree,b._csmGetDrawableConstantFlags=q._csmGetDrawableConstantFlags,b._csmGetDrawableCount=q._csmGetDrawableCount,b._csmGetDrawableDrawOrders=q._csmGetDrawableDrawOrders,b._csmGetDrawableDynamicFlags=q._csmGetDrawableDynamicFlags,b._csmGetDrawableIds=q._csmGetDrawableIds,b._csmGetDrawableIndexCounts=q._csmGetDrawableIndexCounts,b._csmGetDrawableIndices=q._csmGetDrawableIndices,b._csmGetDrawableMaskCounts=q._csmGetDrawableMaskCounts,b._csmGetDrawableMasks=q._csmGetDrawableMasks,b._csmGetDrawableMultiplyColors=q._csmGetDrawableMultiplyColors,b._csmGetDrawableOpacities=q._csmGetDrawableOpacities,b._csmGetDrawableParentPartIndices=q._csmGetDrawableParentPartIndices,b._csmGetDrawableRenderOrders=q._csmGetDrawableRenderOrders,b._csmGetDrawableScreenColors=q._csmGetDrawableScreenColors,b._csmGetDrawableTextureIndices=q._csmGetDrawableTextureIndices,b._csmGetDrawableVertexCounts=q._csmGetDrawableVertexCounts,b._csmGetDrawableVertexPositions=q._csmGetDrawableVertexPositions,b._csmGetDrawableVertexUvs=q._csmGetDrawableVertexUvs,b._csmGetLatestMocVersion=q._csmGetLatestMocVersion,b._csmGetMocVersion=q._csmGetMocVersion,b._csmGetParameterCount=q._csmGetParameterCount,b._csmGetParameterDefaultValues=q._csmGetParameterDefaultValues,b._csmGetParameterIds=q._csmGetParameterIds,b._csmGetParameterKeyCounts=q._csmGetParameterKeyCounts,b._csmGetParameterKeyValues=q._csmGetParameterKeyValues,b._csmGetParameterMaximumValues=q._csmGetParameterMaximumValues,b._csmGetParameterMinimumValues=q._csmGetParameterMinimumValues,b._csmGetParameterTypes=q._csmGetParameterTypes,b._csmGetParameterValues=q._csmGetParameterValues,b._csmGetPartCount=q._csmGetPartCount,b._csmGetPartIds=q._csmGetPartIds,b._csmGetPartOpacities=q._csmGetPartOpacities,b._csmGetPartParentPartIndices=q._csmGetPartParentPartIndices,b._csmGetSizeofModel=q._csmGetSizeofModel,b._csmGetVersion=q._csmGetVersion,b._csmHasMocConsistency=q._csmHasMocConsistency,b._csmInitializeAmountOfMemory=q._csmInitializeAmountOfMemory,b._csmInitializeModelInPlace=q._csmInitializeModelInPlace,b._csmMalloc=q._csmMalloc,b._csmMallocMoc=q._csmMallocMoc,b._csmMallocModelAndInitialize=q._csmMallocModelAndInitialize,b._csmReadCanvasInfo=q._csmReadCanvasInfo,b._csmResetDrawableDynamicFlags=q._csmResetDrawableDynamicFlags,b._csmReviveMocInPlace=q._csmReviveMocInPlace,b._csmSetLogFunction=q._csmSetLogFunction,b._csmUpdateModel=q._csmUpdateModel,b._emscripten_get_sbrk_ptr=q._emscripten_get_sbrk_ptr,b._emscripten_replace_memory=q._emscripten_replace_memory),xa=(b._free=q._free,b._i64Add=q._i64Add,b._i64Subtract=q._i64Subtract,b._malloc=q._malloc,b._memcpy=q._memcpy,b._memmove=q._memmove,b._memset=q._memset,b.establishStackSpace=q.establishStackSpace,b.stackAlloc=q.stackAlloc),ya=b.stackRestore=q.stackRestore,za=b.stackSave=q.stackSave;function Z(){function a(){if(!Y&&(Y=!0,!K)){if(P(ja),P(ka),b.onRuntimeInitialized&&b.onRuntimeInitialized(),b.postRun)for("function"==typeof b.postRun&&(b.postRun=[b.postRun]);b.postRun.length;){var a=b.postRun.shift();la.unshift(a)}P(la)}}if(!(0<Q)){if(b.preRun)for("function"==typeof b.preRun&&(b.preRun=[b.preRun]);b.preRun.length;)!function(){var a=b.preRun.shift();ia.unshift(a)}();P(ia),0<Q||(b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),a()},1)):a())}}if(b.dynCall_ii=q.dynCall_ii,b.dynCall_iiii=q.dynCall_iiii,b.dynCall_iiiii=q.dynCall_iiiii,b.dynCall_vi=q.dynCall_vi,b.dynCall_vii=q.dynCall_vii,b.dynCall_viiiii=q.dynCall_viiiii,b.asm=q,b.ccall=function(a,c,d,f){var g={string:function(a){var c=0;if(null!=a&&0!==a){var d=1+(a.length<<2),f=c=xa(d),g=M;if(0<d){for(var d=f+d-1,h=0;h<a.length;++h){var l=a.charCodeAt(h);if((l=55296<=l&&l<=57343?65536+((1023&l)<<10)|1023&a.charCodeAt(++h):l)<=127){if(d<=f)break;g[f++]=l}else{if(l<=2047){if(d<=f+1)break;g[f++]=192|l>>6}else{if(l<=65535){if(d<=f+2)break;g[f++]=224|l>>12}else{if(d<=f+3)break;g[f++]=240|l>>18,g[f++]=128|l>>12&63}g[f++]=128|l>>6&63}g[f++]=128|63&l}}g[f]=0}}return c},array:function(a){var c=xa(a.length);return N.set(a,c),c}},h=function(a){var c=b["_"+a];return assert(c,"Cannot call unknown function "+a+", make sure it is exported"),c}(a),p=[];if(a=0,f)for(var k=0;k<f.length;k++){var y=g[d[k]];y?(0===a&&(a=za()),p[k]=y(f[k])):p[k]=f[k]}return d=function(a){return"string"===c?da(a):"boolean"===c?!!a:a}(d=h.apply(null,p)),0!==a&&ya(a),d},b.UTF8ToString=da,b.addFunction=function(a){for(var c=0;c<1;c++)if(!I[c])return I[c]=a,1+c;throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},E&&((String.prototype.startsWith?E.startsWith(U):0===E.indexOf(U))||(n=E,E=b.locateFile?b.locateFile(n,u):u+n),r||t?(q=x(E),M.set(q,8)):(Q++,b.monitorRunDependencies&&b.monitorRunDependencies(Q),F=function(a){a.byteLength&&(a=new Uint8Array(a)),M.set(a,8),b.memoryInitializerRequest&&delete b.memoryInitializerRequest.response,Q--,b.monitorRunDependencies&&b.monitorRunDependencies(Q),0==Q&&(null!==S&&(clearInterval(S),S=null),T&&(a=T,T=null,a()))},Ca=function(){w(function(){throw"could not load memory initializer "+E})},(u=B(E))?F(u.buffer):b.memoryInitializerRequest?(n=function(){var a=b.memoryInitializerRequest,c=a.response;if(200!==a.status&&0!==a.status){if(!(c=B(b.memoryInitializerRequestURL)))return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+a.status+", retrying "+E),void Ca();c=c.buffer}F(c)},b.memoryInitializerRequest.response?setTimeout(n,0):b.memoryInitializerRequest.addEventListener("load",n)):Ca())),b.then=function(a){var c;return Y?a(b):(c=b.onRuntimeInitialized,b.onRuntimeInitialized=function(){c&&c(),a(b)}),b},T=function Fa(){Y||Z(),Y||(T=Fa)},b.run=Z,b.preInit)for("function"==typeof b.preInit&&(b.preInit=[b.preInit]);0<b.preInit.length;)b.preInit.pop()();return Z(),_em_module}),_em=("object"==typeof exports&&"object"==typeof module?module.exports=_em_module:"function"==typeof define&&define.amd?define([],function(){return _em_module}):"object"==typeof exports&&(exports._em_module=_em_module),_em_module())}(Live2DCubismCore=Live2DCubismCore||{});
  </script>
<script defer>/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/rfc4648/lib/index.js":
/*!*******************************************!*\
  !*** ./node_modules/rfc4648/lib/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\n/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nfunction parse(string, encoding, opts) {\n  var _opts$out;\n\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  // Build the character lookup table:\n  if (!encoding.codes) {\n    encoding.codes = {};\n\n    for (var i = 0; i < encoding.chars.length; ++i) {\n      encoding.codes[encoding.chars[i]] = i;\n    }\n  } // The string must have a whole number of bytes:\n\n\n  if (!opts.loose && string.length * encoding.bits & 7) {\n    throw new SyntaxError('Invalid padding');\n  } // Count the padding bytes:\n\n\n  var end = string.length;\n\n  while (string[end - 1] === '=') {\n    --end; // If we get a whole number of bytes, there is too much padding:\n\n    if (!opts.loose && !((string.length - end) * encoding.bits & 7)) {\n      throw new SyntaxError('Invalid padding');\n    }\n  } // Allocate the output:\n\n\n  var out = new ((_opts$out = opts.out) != null ? _opts$out : Uint8Array)(end * encoding.bits / 8 | 0); // Parse the data:\n\n  var bits = 0; // Number of bits currently in the buffer\n\n  var buffer = 0; // Bits waiting to be written out, MSB first\n\n  var written = 0; // Next byte to write\n\n  for (var _i = 0; _i < end; ++_i) {\n    // Read one character from the string:\n    var value = encoding.codes[string[_i]];\n\n    if (value === undefined) {\n      throw new SyntaxError('Invalid character ' + string[_i]);\n    } // Append the bits to the buffer:\n\n\n    buffer = buffer << encoding.bits | value;\n    bits += encoding.bits; // Write out some bits if the buffer has a byte's worth:\n\n    if (bits >= 8) {\n      bits -= 8;\n      out[written++] = 0xff & buffer >> bits;\n    }\n  } // Verify that we have received just enough bits:\n\n\n  if (bits >= encoding.bits || 0xff & buffer << 8 - bits) {\n    throw new SyntaxError('Unexpected end of data');\n  }\n\n  return out;\n}\nfunction stringify(data, encoding, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  var _opts = opts,\n      _opts$pad = _opts.pad,\n      pad = _opts$pad === void 0 ? true : _opts$pad;\n  var mask = (1 << encoding.bits) - 1;\n  var out = '';\n  var bits = 0; // Number of bits currently in the buffer\n\n  var buffer = 0; // Bits waiting to be written out, MSB first\n\n  for (var i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = buffer << 8 | 0xff & data[i];\n    bits += 8; // Write out as much as we can:\n\n    while (bits > encoding.bits) {\n      bits -= encoding.bits;\n      out += encoding.chars[mask & buffer >> bits];\n    }\n  } // Partial character:\n\n\n  if (bits) {\n    out += encoding.chars[mask & buffer << encoding.bits - bits];\n  } // Add padding characters until we hit a byte boundary:\n\n\n  if (pad) {\n    while (out.length * encoding.bits & 7) {\n      out += '=';\n    }\n  }\n\n  return out;\n}\n\n/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nvar base16Encoding = {\n  chars: '0123456789ABCDEF',\n  bits: 4\n};\nvar base32Encoding = {\n  chars: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bits: 5\n};\nvar base32HexEncoding = {\n  chars: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bits: 5\n};\nvar base64Encoding = {\n  chars: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bits: 6\n};\nvar base64UrlEncoding = {\n  chars: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bits: 6\n};\nvar base16 = {\n  parse: function parse$1(string, opts) {\n    return parse(string.toUpperCase(), base16Encoding, opts);\n  },\n  stringify: function stringify$1(data, opts) {\n    return stringify(data, base16Encoding, opts);\n  }\n};\nvar base32 = {\n  parse: function parse$1(string, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    return parse(opts.loose ? string.toUpperCase().replace(/0/g, 'O').replace(/1/g, 'L').replace(/8/g, 'B') : string, base32Encoding, opts);\n  },\n  stringify: function stringify$1(data, opts) {\n    return stringify(data, base32Encoding, opts);\n  }\n};\nvar base32hex = {\n  parse: function parse$1(string, opts) {\n    return parse(string, base32HexEncoding, opts);\n  },\n  stringify: function stringify$1(data, opts) {\n    return stringify(data, base32HexEncoding, opts);\n  }\n};\nvar base64 = {\n  parse: function parse$1(string, opts) {\n    return parse(string, base64Encoding, opts);\n  },\n  stringify: function stringify$1(data, opts) {\n    return stringify(data, base64Encoding, opts);\n  }\n};\nvar base64url = {\n  parse: function parse$1(string, opts) {\n    return parse(string, base64UrlEncoding, opts);\n  },\n  stringify: function stringify$1(data, opts) {\n    return stringify(data, base64UrlEncoding, opts);\n  }\n};\nvar codec = {\n  parse: parse,\n  stringify: stringify\n};\n\nexports.base16 = base16;\nexports.base32 = base32;\nexports.base32hex = base32hex;\nexports.base64 = base64;\nexports.base64url = base64url;\nexports.codec = codec;\n\n\n//# sourceURL=webpack:///./node_modules/rfc4648/lib/index.js?");

/***/ }),

/***/ "./cubism/Framework/src/cubismdefaultparameterid.ts":
/*!**********************************************************!*\
  !*** ./cubism/Framework/src/cubismdefaultparameterid.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismDefaultParameterId = void 0;\n/**\n * @brief ID<br>\n *         <br>\n *         https://docs.live2d.com/cubism-editor-manual/standard-parametor-list/\n */\nexports.CubismDefaultParameterId = Object.freeze({\n    // ID\n    HitAreaPrefix: 'HitArea',\n    HitAreaHead: 'Head',\n    HitAreaBody: 'Body',\n    PartsIdCore: 'Parts01Core',\n    PartsArmPrefix: 'Parts01Arm_',\n    PartsArmLPrefix: 'Parts01ArmL_',\n    PartsArmRPrefix: 'Parts01ArmR_',\n    // ID\n    ParamAngleX: 'ParamAngleX',\n    ParamAngleY: 'ParamAngleY',\n    ParamAngleZ: 'ParamAngleZ',\n    ParamEyeLOpen: 'ParamEyeLOpen',\n    ParamEyeLSmile: 'ParamEyeLSmile',\n    ParamEyeROpen: 'ParamEyeROpen',\n    ParamEyeRSmile: 'ParamEyeRSmile',\n    ParamEyeBallX: 'ParamEyeBallX',\n    ParamEyeBallY: 'ParamEyeBallY',\n    ParamEyeBallForm: 'ParamEyeBallForm',\n    ParamBrowLY: 'ParamBrowLY',\n    ParamBrowRY: 'ParamBrowRY',\n    ParamBrowLX: 'ParamBrowLX',\n    ParamBrowRX: 'ParamBrowRX',\n    ParamBrowLAngle: 'ParamBrowLAngle',\n    ParamBrowRAngle: 'ParamBrowRAngle',\n    ParamBrowLForm: 'ParamBrowLForm',\n    ParamBrowRForm: 'ParamBrowRForm',\n    ParamMouthForm: 'ParamMouthForm',\n    ParamMouthOpenY: 'ParamMouthOpenY',\n    ParamCheek: 'ParamCheek',\n    ParamBodyAngleX: 'ParamBodyAngleX',\n    ParamBodyAngleY: 'ParamBodyAngleY',\n    ParamBodyAngleZ: 'ParamBodyAngleZ',\n    ParamBreath: 'ParamBreath',\n    ParamArmLA: 'ParamArmLA',\n    ParamArmRA: 'ParamArmRA',\n    ParamArmLB: 'ParamArmLB',\n    ParamArmRB: 'ParamArmRB',\n    ParamHandL: 'ParamHandL',\n    ParamHandR: 'ParamHandR',\n    ParamHairFront: 'ParamHairFront',\n    ParamHairSide: 'ParamHairSide',\n    ParamHairBack: 'ParamHairBack',\n    ParamHairFluffy: 'ParamHairFluffy',\n    ParamShoulderY: 'ParamShoulderY',\n    ParamBustX: 'ParamBustX',\n    ParamBustY: 'ParamBustY',\n    ParamBaseX: 'ParamBaseX',\n    ParamBaseY: 'ParamBaseY',\n    ParamNONE: 'NONE:',\n});\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismdefaultparameterid */ \"./cubism/Framework/src/cubismdefaultparameterid.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.HitAreaBody = $.CubismDefaultParameterId.HitAreaBody;\n    Live2DCubismFramework.HitAreaHead = $.CubismDefaultParameterId.HitAreaHead;\n    Live2DCubismFramework.HitAreaPrefix = $.CubismDefaultParameterId.HitAreaPrefix;\n    Live2DCubismFramework.ParamAngleX = $.CubismDefaultParameterId.ParamAngleX;\n    Live2DCubismFramework.ParamAngleY = $.CubismDefaultParameterId.ParamAngleY;\n    Live2DCubismFramework.ParamAngleZ = $.CubismDefaultParameterId.ParamAngleZ;\n    Live2DCubismFramework.ParamArmLA = $.CubismDefaultParameterId.ParamArmLA;\n    Live2DCubismFramework.ParamArmLB = $.CubismDefaultParameterId.ParamArmLB;\n    Live2DCubismFramework.ParamArmRA = $.CubismDefaultParameterId.ParamArmRA;\n    Live2DCubismFramework.ParamArmRB = $.CubismDefaultParameterId.ParamArmRB;\n    Live2DCubismFramework.ParamBaseX = $.CubismDefaultParameterId.ParamBaseX;\n    Live2DCubismFramework.ParamBaseY = $.CubismDefaultParameterId.ParamBaseY;\n    Live2DCubismFramework.ParamBodyAngleX = $.CubismDefaultParameterId.ParamBodyAngleX;\n    Live2DCubismFramework.ParamBodyAngleY = $.CubismDefaultParameterId.ParamBodyAngleY;\n    Live2DCubismFramework.ParamBodyAngleZ = $.CubismDefaultParameterId.ParamBodyAngleZ;\n    Live2DCubismFramework.ParamBreath = $.CubismDefaultParameterId.ParamBreath;\n    Live2DCubismFramework.ParamBrowLAngle = $.CubismDefaultParameterId.ParamBrowLAngle;\n    Live2DCubismFramework.ParamBrowLForm = $.CubismDefaultParameterId.ParamBrowLForm;\n    Live2DCubismFramework.ParamBrowLX = $.CubismDefaultParameterId.ParamBrowLX;\n    Live2DCubismFramework.ParamBrowLY = $.CubismDefaultParameterId.ParamBrowLY;\n    Live2DCubismFramework.ParamBrowRAngle = $.CubismDefaultParameterId.ParamBrowRAngle;\n    Live2DCubismFramework.ParamBrowRForm = $.CubismDefaultParameterId.ParamBrowRForm;\n    Live2DCubismFramework.ParamBrowRX = $.CubismDefaultParameterId.ParamBrowRX;\n    Live2DCubismFramework.ParamBrowRY = $.CubismDefaultParameterId.ParamBrowRY;\n    Live2DCubismFramework.ParamBustX = $.CubismDefaultParameterId.ParamBustX;\n    Live2DCubismFramework.ParamBustY = $.CubismDefaultParameterId.ParamBustY;\n    Live2DCubismFramework.ParamCheek = $.CubismDefaultParameterId.ParamCheek;\n    Live2DCubismFramework.ParamEyeBallForm = $.CubismDefaultParameterId.ParamEyeBallForm;\n    Live2DCubismFramework.ParamEyeBallX = $.CubismDefaultParameterId.ParamEyeBallX;\n    Live2DCubismFramework.ParamEyeBallY = $.CubismDefaultParameterId.ParamEyeBallY;\n    Live2DCubismFramework.ParamEyeLOpen = $.CubismDefaultParameterId.ParamEyeLOpen;\n    Live2DCubismFramework.ParamEyeLSmile = $.CubismDefaultParameterId.ParamEyeLSmile;\n    Live2DCubismFramework.ParamEyeROpen = $.CubismDefaultParameterId.ParamEyeROpen;\n    Live2DCubismFramework.ParamEyeRSmile = $.CubismDefaultParameterId.ParamEyeRSmile;\n    Live2DCubismFramework.ParamHairBack = $.CubismDefaultParameterId.ParamHairBack;\n    Live2DCubismFramework.ParamHairFluffy = $.CubismDefaultParameterId.ParamHairFluffy;\n    Live2DCubismFramework.ParamHairFront = $.CubismDefaultParameterId.ParamHairFront;\n    Live2DCubismFramework.ParamHairSide = $.CubismDefaultParameterId.ParamHairSide;\n    Live2DCubismFramework.ParamHandL = $.CubismDefaultParameterId.ParamHandL;\n    Live2DCubismFramework.ParamHandR = $.CubismDefaultParameterId.ParamHandR;\n    Live2DCubismFramework.ParamMouthForm = $.CubismDefaultParameterId.ParamMouthForm;\n    Live2DCubismFramework.ParamMouthOpenY = $.CubismDefaultParameterId.ParamMouthOpenY;\n    Live2DCubismFramework.ParamNONE = $.CubismDefaultParameterId.ParamNONE;\n    Live2DCubismFramework.ParamShoulderY = $.CubismDefaultParameterId.ParamShoulderY;\n    Live2DCubismFramework.PartsArmLPrefix = $.CubismDefaultParameterId.PartsArmLPrefix;\n    Live2DCubismFramework.PartsArmPrefix = $.CubismDefaultParameterId.PartsArmPrefix;\n    Live2DCubismFramework.PartsArmRPrefix = $.CubismDefaultParameterId.PartsArmRPrefix;\n    Live2DCubismFramework.PartsIdCore = $.CubismDefaultParameterId.PartsIdCore;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/cubismdefaultparameterid.ts?");

/***/ }),

/***/ "./cubism/Framework/src/cubismframeworkconfig.ts":
/*!*******************************************************!*\
  !*** ./cubism/Framework/src/cubismframeworkconfig.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CSM_LOG_LEVEL = exports.CSM_LOG_LEVEL_OFF = exports.CSM_LOG_LEVEL_ERROR = exports.CSM_LOG_LEVEL_WARNING = exports.CSM_LOG_LEVEL_INFO = exports.CSM_LOG_LEVEL_DEBUG = exports.CSM_LOG_LEVEL_VERBOSE = void 0;\n//========================================================\n//  \n//========================================================\n//----------    ----------\n// \nexports.CSM_LOG_LEVEL_VERBOSE = 0;\n// \nexports.CSM_LOG_LEVEL_DEBUG = 1;\n// Info\nexports.CSM_LOG_LEVEL_INFO = 2;\n// \nexports.CSM_LOG_LEVEL_WARNING = 3;\n// \nexports.CSM_LOG_LEVEL_ERROR = 4;\n// \nexports.CSM_LOG_LEVEL_OFF = 5;\n/**\n * \n *\n * \n * CSM_LOG_LEVEL_VERBOSE  CSM_LOG_LEVEL_OFF \n */\nexports.CSM_LOG_LEVEL = exports.CSM_LOG_LEVEL_VERBOSE;\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/cubismframeworkconfig.ts?");

/***/ }),

/***/ "./cubism/Framework/src/cubismmodelsettingjson.ts":
/*!********************************************************!*\
  !*** ./cubism/Framework/src/cubismmodelsettingjson.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModelSettingJson = void 0;\nconst icubismmodelsetting_1 = __webpack_require__(/*! ./icubismmodelsetting */ \"./cubism/Framework/src/icubismmodelsetting.ts\");\nconst live2dcubismframework_1 = __webpack_require__(/*! ./live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst csmvector_1 = __webpack_require__(/*! ./type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismjson_1 = __webpack_require__(/*! ./utils/cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\n/**\n * Model3Json\n */\n// JSON Keys\nconst Version = 'Version';\nconst FileReferences = 'FileReferences';\nconst Groups = 'Groups';\nconst Layout = 'Layout';\nconst HitAreas = 'HitAreas';\nconst Moc = 'Moc';\nconst Textures = 'Textures';\nconst Physics = 'Physics';\nconst Pose = 'Pose';\nconst Expressions = 'Expressions';\nconst Motions = 'Motions';\nconst UserData = 'UserData';\nconst Name = 'Name';\nconst FilePath = 'File';\nconst Id = 'Id';\nconst Ids = 'Ids';\nconst Target = 'Target';\n// Motions\nconst Idle = 'Idle';\nconst TapBody = 'TapBody';\nconst PinchIn = 'PinchIn';\nconst PinchOut = 'PinchOut';\nconst Shake = 'Shake';\nconst FlickHead = 'FlickHead';\nconst Parameter = 'Parameter';\nconst SoundPath = 'Sound';\nconst FadeInTime = 'FadeInTime';\nconst FadeOutTime = 'FadeOutTime';\n// Layout\nconst CenterX = 'CenterX';\nconst CenterY = 'CenterY';\nconst X = 'X';\nconst Y = 'Y';\nconst Width = 'Width';\nconst Height = 'Height';\nconst LipSync = 'LipSync';\nconst EyeBlink = 'EyeBlink';\nconst InitParameter = 'init_param';\nconst InitPartsVisible = 'init_parts_visible';\nconst Val = 'val';\nvar FrequestNode;\n(function (FrequestNode) {\n    FrequestNode[FrequestNode[\"FrequestNode_Groups\"] = 0] = \"FrequestNode_Groups\";\n    FrequestNode[FrequestNode[\"FrequestNode_Moc\"] = 1] = \"FrequestNode_Moc\";\n    FrequestNode[FrequestNode[\"FrequestNode_Motions\"] = 2] = \"FrequestNode_Motions\";\n    FrequestNode[FrequestNode[\"FrequestNode_Expressions\"] = 3] = \"FrequestNode_Expressions\";\n    FrequestNode[FrequestNode[\"FrequestNode_Textures\"] = 4] = \"FrequestNode_Textures\";\n    FrequestNode[FrequestNode[\"FrequestNode_Physics\"] = 5] = \"FrequestNode_Physics\";\n    FrequestNode[FrequestNode[\"FrequestNode_Pose\"] = 6] = \"FrequestNode_Pose\";\n    FrequestNode[FrequestNode[\"FrequestNode_HitAreas\"] = 7] = \"FrequestNode_HitAreas\";\n})(FrequestNode || (FrequestNode = {}));\n/**\n * Model3Json\n *\n * model3.json\n */\nclass CubismModelSettingJson extends icubismmodelsetting_1.ICubismModelSetting {\n    /**\n     * \n     *\n     * @param buffer    Model3Json\n     * @param size      Model3Json\n     */\n    constructor(buffer, size) {\n        super();\n        this._json = cubismjson_1.CubismJson.create(buffer, size);\n        if (this._json) {\n            this._jsonValue = new csmvector_1.csmVector();\n            // enum FrequestNode\n            this._jsonValue.pushBack(this._json.getRoot().getValueByString(Groups));\n            this._jsonValue.pushBack(this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Moc));\n            this._jsonValue.pushBack(this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Motions));\n            this._jsonValue.pushBack(this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Expressions));\n            this._jsonValue.pushBack(this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Textures));\n            this._jsonValue.pushBack(this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Physics));\n            this._jsonValue.pushBack(this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Pose));\n            this._jsonValue.pushBack(this._json.getRoot().getValueByString(HitAreas));\n        }\n    }\n    /**\n     * \n     */\n    release() {\n        cubismjson_1.CubismJson.delete(this._json);\n        this._jsonValue = null;\n    }\n    /**\n     * CubismJson\n     *\n     * @return CubismJson\n     */\n    GetJson() {\n        return this._json;\n    }\n    /**\n     * Moc\n     * @return Moc\n     */\n    getModelFileName() {\n        if (!this.isExistModelFile()) {\n            return '';\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Moc).getRawString();\n    }\n    /**\n     * \n     * \n     */\n    getTextureCount() {\n        if (!this.isExistTextureFiles()) {\n            return 0;\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Textures).getSize();\n    }\n    /**\n     * \n     * @return \n     */\n    getTextureDirectory() {\n        const texturePath = this._jsonValue\n            .at(FrequestNode.FrequestNode_Textures)\n            .getValueByIndex(0)\n            .getRawString();\n        const pathArray = texturePath.split('/');\n        // \n        const arrayLength = pathArray.length - 1;\n        let textureDirectoryStr = '';\n        // \n        for (let i = 0; i < arrayLength; i++) {\n            textureDirectoryStr += pathArray[i];\n            if (i < arrayLength - 1) {\n                textureDirectoryStr += '/';\n            }\n        }\n        return textureDirectoryStr;\n    }\n    /**\n     * \n     * @param index \n     * @return \n     */\n    getTextureFileName(index) {\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Textures)\n            .getValueByIndex(index)\n            .getRawString();\n    }\n    /**\n     * \n     * @return \n     */\n    getHitAreasCount() {\n        if (!this.isExistHitAreas()) {\n            return 0;\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_HitAreas).getSize();\n    }\n    /**\n     * ID\n     *\n     * @param index index\n     * @return ID\n     */\n    getHitAreaId(index) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._jsonValue\n            .at(FrequestNode.FrequestNode_HitAreas)\n            .getValueByIndex(index)\n            .getValueByString(Id)\n            .getRawString());\n    }\n    /**\n     * \n     * @param index \n     * @return \n     */\n    getHitAreaName(index) {\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_HitAreas)\n            .getValueByIndex(index)\n            .getValueByString(Name)\n            .getRawString();\n    }\n    /**\n     * \n     * @return \n     */\n    getPhysicsFileName() {\n        if (!this.isExistPhysicsFile()) {\n            return '';\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Physics).getRawString();\n    }\n    /**\n     * \n     * @return \n     */\n    getPoseFileName() {\n        if (!this.isExistPoseFile()) {\n            return '';\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Pose).getRawString();\n    }\n    /**\n     * \n     * @return \n     */\n    getExpressionCount() {\n        if (!this.isExistExpressionFile()) {\n            return 0;\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Expressions).getSize();\n    }\n    /**\n     * \n     * @param index \n     * @return \n     */\n    getExpressionName(index) {\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Expressions)\n            .getValueByIndex(index)\n            .getValueByString(Name)\n            .getRawString();\n    }\n    /**\n     * \n     * @param index \n     * @return \n     */\n    getExpressionFileName(index) {\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Expressions)\n            .getValueByIndex(index)\n            .getValueByString(FilePath)\n            .getRawString();\n    }\n    /**\n     * \n     * @return \n     */\n    getMotionGroupCount() {\n        if (!this.isExistMotionGroups()) {\n            return 0;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getKeys()\n            .getSize();\n    }\n    /**\n     * \n     * @param index \n     * @return \n     */\n    getMotionGroupName(index) {\n        if (!this.isExistMotionGroups()) {\n            return null;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getKeys()\n            .at(index);\n    }\n    /**\n     * \n     * @param groupName \n     * @return \n     */\n    getMotionCount(groupName) {\n        if (!this.isExistMotionGroupName(groupName)) {\n            return 0;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getSize();\n    }\n    /**\n     * \n     * @param groupName \n     * @param index     \n     * @return \n     */\n    getMotionFileName(groupName, index) {\n        if (!this.isExistMotionGroupName(groupName)) {\n            return '';\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FilePath)\n            .getRawString();\n    }\n    /**\n     * \n     * @param groupName \n     * @param index \n     * @return \n     */\n    getMotionSoundFileName(groupName, index) {\n        if (!this.isExistMotionSoundFile(groupName, index)) {\n            return '';\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(SoundPath)\n            .getRawString();\n    }\n    /**\n     * \n     * @param groupName \n     * @param index \n     * @return []\n     */\n    getMotionFadeInTimeValue(groupName, index) {\n        if (!this.isExistMotionFadeIn(groupName, index)) {\n            return -1.0;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FadeInTime)\n            .toFloat();\n    }\n    /**\n     * \n     * @param groupName \n     * @param index \n     * @return []\n     */\n    getMotionFadeOutTimeValue(groupName, index) {\n        if (!this.isExistMotionFadeOut(groupName, index)) {\n            return -1.0;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FadeOutTime)\n            .toFloat();\n    }\n    /**\n     * \n     * @return \n     */\n    getUserDataFile() {\n        if (!this.isExistUserDataFile()) {\n            return '';\n        }\n        return this._json\n            .getRoot()\n            .getValueByString(FileReferences)\n            .getValueByString(UserData)\n            .getRawString();\n    }\n    /**\n     * \n     * @param outLayoutMap csmMap\n     * @return true \n     * @return false \n     */\n    getLayoutMap(outLayoutMap) {\n        // Valuenullnull\n        const map = this._json\n            .getRoot()\n            .getValueByString(Layout)\n            .getMap();\n        if (map == null) {\n            return false;\n        }\n        let ret = false;\n        for (const ite = map.begin(); ite.notEqual(map.end()); ite.preIncrement()) {\n            outLayoutMap.setValue(ite.ptr().first, ite.ptr().second.toFloat());\n            ret = true;\n        }\n        return ret;\n    }\n    /**\n     * \n     * @return \n     */\n    getEyeBlinkParameterCount() {\n        if (!this.isExistEyeBlinkParameters()) {\n            return 0;\n        }\n        let num = 0;\n        for (let i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n            const refI = this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i);\n            if (refI.isNull() || refI.isError()) {\n                continue;\n            }\n            if (refI.getValueByString(Name).getRawString() == EyeBlink) {\n                num = refI.getValueByString(Ids).getVector().getSize();\n                break;\n            }\n        }\n        return num;\n    }\n    /**\n     * ID\n     * @param index \n     * @return ID\n     */\n    getEyeBlinkParameterId(index) {\n        if (!this.isExistEyeBlinkParameters()) {\n            return null;\n        }\n        for (let i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n            const refI = this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i);\n            if (refI.isNull() || refI.isError()) {\n                continue;\n            }\n            if (refI.getValueByString(Name).getRawString() == EyeBlink) {\n                return live2dcubismframework_1.CubismFramework.getIdManager().getId(refI.getValueByString(Ids).getValueByIndex(index).getRawString());\n            }\n        }\n        return null;\n    }\n    /**\n     * \n     * @return \n     */\n    getLipSyncParameterCount() {\n        if (!this.isExistLipSyncParameters()) {\n            return 0;\n        }\n        let num = 0;\n        for (let i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n            const refI = this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i);\n            if (refI.isNull() || refI.isError()) {\n                continue;\n            }\n            if (refI.getValueByString(Name).getRawString() == LipSync) {\n                num = refI.getValueByString(Ids).getVector().getSize();\n                break;\n            }\n        }\n        return num;\n    }\n    /**\n     * \n     * @param index \n     * @return ID\n     */\n    getLipSyncParameterId(index) {\n        if (!this.isExistLipSyncParameters()) {\n            return null;\n        }\n        for (let i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n            const refI = this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i);\n            if (refI.isNull() || refI.isError()) {\n                continue;\n            }\n            if (refI.getValueByString(Name).getRawString() == LipSync) {\n                return live2dcubismframework_1.CubismFramework.getIdManager().getId(refI.getValueByString(Ids).getValueByIndex(index).getRawString());\n            }\n        }\n        return null;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistModelFile() {\n        const node = this._jsonValue.at(FrequestNode.FrequestNode_Moc);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistTextureFiles() {\n        const node = this._jsonValue.at(FrequestNode.FrequestNode_Textures);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistHitAreas() {\n        const node = this._jsonValue.at(FrequestNode.FrequestNode_HitAreas);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistPhysicsFile() {\n        const node = this._jsonValue.at(FrequestNode.FrequestNode_Physics);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistPoseFile() {\n        const node = this._jsonValue.at(FrequestNode.FrequestNode_Pose);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistExpressionFile() {\n        const node = this._jsonValue.at(FrequestNode.FrequestNode_Expressions);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistMotionGroups() {\n        const node = this._jsonValue.at(FrequestNode.FrequestNode_Motions);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @param groupName  \n     * @return true \n     * @return false \n     */\n    isExistMotionGroupName(groupName) {\n        const node = this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @param groupName  \n     * @param index \n     * @return true \n     * @return false \n     */\n    isExistMotionSoundFile(groupName, index) {\n        const node = this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(SoundPath);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @param groupName  \n     * @param index \n     * @return true \n     * @return false \n     */\n    isExistMotionFadeIn(groupName, index) {\n        const node = this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FadeInTime);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @param groupName  \n     * @param index \n     * @return true \n     * @return false \n     */\n    isExistMotionFadeOut(groupName, index) {\n        const node = this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FadeOutTime);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * UserData\n     * @return true \n     * @return false \n     */\n    isExistUserDataFile() {\n        const node = this._json\n            .getRoot()\n            .getValueByString(FileReferences)\n            .getValueByString(UserData);\n        return !node.isNull() && !node.isError();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistEyeBlinkParameters() {\n        if (this._jsonValue.at(FrequestNode.FrequestNode_Groups).isNull() ||\n            this._jsonValue.at(FrequestNode.FrequestNode_Groups).isError()) {\n            return false;\n        }\n        for (let i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); ++i) {\n            if (this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i)\n                .getValueByString(Name)\n                .getRawString() == EyeBlink) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistLipSyncParameters() {\n        if (this._jsonValue.at(FrequestNode.FrequestNode_Groups).isNull() ||\n            this._jsonValue.at(FrequestNode.FrequestNode_Groups).isError()) {\n            return false;\n        }\n        for (let i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); ++i) {\n            if (this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i)\n                .getValueByString(Name)\n                .getRawString() == LipSync) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexports.CubismModelSettingJson = CubismModelSettingJson;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmodelsettingjson */ \"./cubism/Framework/src/cubismmodelsettingjson.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModelSettingJson = $.CubismModelSettingJson;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/cubismmodelsettingjson.ts?");

/***/ }),

/***/ "./cubism/Framework/src/effect/cubismbreath.ts":
/*!*****************************************************!*\
  !*** ./cubism/Framework/src/effect/cubismbreath.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.BreathParameterData = exports.CubismBreath = void 0;\n/**\n * \n *\n * \n */\nclass CubismBreath {\n    /**\n     * \n     */\n    static create() {\n        return new CubismBreath();\n    }\n    /**\n     * \n     * @param instance CubismBreath\n     */\n    static delete(instance) {\n        if (instance != null) {\n            instance = null;\n        }\n    }\n    /**\n     * \n     * @param breathParameters \n     */\n    setParameters(breathParameters) {\n        this._breathParameters = breathParameters;\n    }\n    /**\n     * \n     * @return \n     */\n    getParameters() {\n        return this._breathParameters;\n    }\n    /**\n     * \n     * @param model \n     * @param deltaTimeSeconds []\n     */\n    updateParameters(model, deltaTimeSeconds) {\n        this._currentTime += deltaTimeSeconds;\n        const t = this._currentTime * 2.0 * 3.14159;\n        for (let i = 0; i < this._breathParameters.getSize(); ++i) {\n            const data = this._breathParameters.at(i);\n            model.addParameterValueById(data.parameterId, data.offset + data.peak * Math.sin(t / data.cycle), data.weight);\n        }\n    }\n    /**\n     * \n     */\n    constructor() {\n        this._currentTime = 0.0;\n    }\n}\nexports.CubismBreath = CubismBreath;\n/**\n * \n */\nclass BreathParameterData {\n    /**\n     * \n     * @param parameterId   ID\n     * @param offset        \n     * @param peak          \n     * @param cycle         \n     * @param weight        \n     */\n    constructor(parameterId, offset, peak, cycle, weight) {\n        this.parameterId = parameterId == undefined ? null : parameterId;\n        this.offset = offset == undefined ? 0.0 : offset;\n        this.peak = peak == undefined ? 0.0 : peak;\n        this.cycle = cycle == undefined ? 0.0 : cycle;\n        this.weight = weight == undefined ? 0.0 : weight;\n    }\n}\nexports.BreathParameterData = BreathParameterData;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismbreath */ \"./cubism/Framework/src/effect/cubismbreath.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.BreathParameterData = $.BreathParameterData;\n    Live2DCubismFramework.CubismBreath = $.CubismBreath;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/effect/cubismbreath.ts?");

/***/ }),

/***/ "./cubism/Framework/src/effect/cubismeyeblink.ts":
/*!*******************************************************!*\
  !*** ./cubism/Framework/src/effect/cubismeyeblink.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.EyeState = exports.CubismEyeBlink = void 0;\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\n/**\n * \n *\n * \n */\nclass CubismEyeBlink {\n    /**\n     * \n     * @param modelSetting \n     * @return \n     * @note NULLID\n     */\n    static create(modelSetting = null) {\n        return new CubismEyeBlink(modelSetting);\n    }\n    /**\n     * \n     * @param eyeBlink CubismEyeBlink\n     */\n    static delete(eyeBlink) {\n        if (eyeBlink != null) {\n            eyeBlink = null;\n        }\n    }\n    /**\n     * \n     * @param blinkingInterval []\n     */\n    setBlinkingInterval(blinkingInterval) {\n        this._blinkingIntervalSeconds = blinkingInterval;\n    }\n    /**\n     * \n     * @param closing   []\n     * @param closed    []\n     * @param opening   []\n     */\n    setBlinkingSetting(closing, closed, opening) {\n        this._closingSeconds = closing;\n        this._closedSeconds = closed;\n        this._openingSeconds = opening;\n    }\n    /**\n     * ID\n     * @param parameterIds ID\n     */\n    setParameterIds(parameterIds) {\n        this._parameterIds = parameterIds;\n    }\n    /**\n     * ID\n     * @return ID\n     */\n    getParameterIds() {\n        return this._parameterIds;\n    }\n    /**\n     * \n     * @param model \n     * @param deltaTimeSeconds []\n     */\n    updateParameters(model, deltaTimeSeconds) {\n        this._userTimeSeconds += deltaTimeSeconds;\n        let parameterValue;\n        let t = 0.0;\n        switch (this._blinkingState) {\n            case EyeState.EyeState_Closing:\n                t =\n                    (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                        this._closingSeconds;\n                if (t >= 1.0) {\n                    t = 1.0;\n                    this._blinkingState = EyeState.EyeState_Closed;\n                    this._stateStartTimeSeconds = this._userTimeSeconds;\n                }\n                parameterValue = 1.0 - t;\n                break;\n            case EyeState.EyeState_Closed:\n                t =\n                    (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                        this._closedSeconds;\n                if (t >= 1.0) {\n                    this._blinkingState = EyeState.EyeState_Opening;\n                    this._stateStartTimeSeconds = this._userTimeSeconds;\n                }\n                parameterValue = 0.0;\n                break;\n            case EyeState.EyeState_Opening:\n                t =\n                    (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                        this._openingSeconds;\n                if (t >= 1.0) {\n                    t = 1.0;\n                    this._blinkingState = EyeState.EyeState_Interval;\n                    this._nextBlinkingTime = this.determinNextBlinkingTiming();\n                }\n                parameterValue = t;\n                break;\n            case EyeState.EyeState_Interval:\n                if (this._nextBlinkingTime < this._userTimeSeconds) {\n                    this._blinkingState = EyeState.EyeState_Closing;\n                    this._stateStartTimeSeconds = this._userTimeSeconds;\n                }\n                parameterValue = 1.0;\n                break;\n            case EyeState.EyeState_First:\n            default:\n                this._blinkingState = EyeState.EyeState_Interval;\n                this._nextBlinkingTime = this.determinNextBlinkingTiming();\n                parameterValue = 1.0;\n                break;\n        }\n        if (!CubismEyeBlink.CloseIfZero) {\n            parameterValue = -parameterValue;\n        }\n        for (let i = 0; i < this._parameterIds.getSize(); ++i) {\n            model.setParameterValueById(this._parameterIds.at(i), parameterValue);\n        }\n    }\n    /**\n     * \n     * @param modelSetting \n     */\n    constructor(modelSetting) {\n        this._blinkingState = EyeState.EyeState_First;\n        this._nextBlinkingTime = 0.0;\n        this._stateStartTimeSeconds = 0.0;\n        this._blinkingIntervalSeconds = 4.0;\n        this._closingSeconds = 0.1;\n        this._closedSeconds = 0.05;\n        this._openingSeconds = 0.15;\n        this._userTimeSeconds = 0.0;\n        this._parameterIds = new csmvector_1.csmVector();\n        if (modelSetting == null) {\n            return;\n        }\n        for (let i = 0; i < modelSetting.getEyeBlinkParameterCount(); ++i) {\n            this._parameterIds.pushBack(modelSetting.getEyeBlinkParameterId(i));\n        }\n    }\n    /**\n     * \n     *\n     * @return []\n     */\n    determinNextBlinkingTiming() {\n        const r = Math.random();\n        return (this._userTimeSeconds + r * (2.0 * this._blinkingIntervalSeconds - 1.0));\n    }\n}\nexports.CubismEyeBlink = CubismEyeBlink;\n/**\n * ID0 true 1 false \n */\nCubismEyeBlink.CloseIfZero = true;\n/**\n * \n *\n * \n */\nvar EyeState;\n(function (EyeState) {\n    EyeState[EyeState[\"EyeState_First\"] = 0] = \"EyeState_First\";\n    EyeState[EyeState[\"EyeState_Interval\"] = 1] = \"EyeState_Interval\";\n    EyeState[EyeState[\"EyeState_Closing\"] = 2] = \"EyeState_Closing\";\n    EyeState[EyeState[\"EyeState_Closed\"] = 3] = \"EyeState_Closed\";\n    EyeState[EyeState[\"EyeState_Opening\"] = 4] = \"EyeState_Opening\";\n})(EyeState || (exports.EyeState = EyeState = {}));\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismeyeblink */ \"./cubism/Framework/src/effect/cubismeyeblink.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismEyeBlink = $.CubismEyeBlink;\n    Live2DCubismFramework.EyeState = $.EyeState;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/effect/cubismeyeblink.ts?");

/***/ }),

/***/ "./cubism/Framework/src/effect/cubismpose.ts":
/*!***************************************************!*\
  !*** ./cubism/Framework/src/effect/cubismpose.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.PartData = exports.CubismPose = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\nconst Epsilon = 0.001;\nconst DefaultFadeInSeconds = 0.5;\n// Pose.json\nconst FadeIn = 'FadeInTime';\nconst Link = 'Link';\nconst Groups = 'Groups';\nconst Id = 'Id';\n/**\n * \n *\n * \n */\nclass CubismPose {\n    /**\n     * \n     * @param pose3json pose3.json\n     * @param size pose3.json[byte]\n     * @return \n     */\n    static create(pose3json, size) {\n        const ret = new CubismPose();\n        const json = cubismjson_1.CubismJson.create(pose3json, size);\n        const root = json.getRoot();\n        // \n        if (!root.getValueByString(FadeIn).isNull()) {\n            ret._fadeTimeSeconds = root\n                .getValueByString(FadeIn)\n                .toFloat(DefaultFadeInSeconds);\n            if (ret._fadeTimeSeconds <= 0.0) {\n                ret._fadeTimeSeconds = DefaultFadeInSeconds;\n            }\n        }\n        // \n        const poseListInfo = root.getValueByString(Groups);\n        const poseCount = poseListInfo.getSize();\n        for (let poseIndex = 0; poseIndex < poseCount; ++poseIndex) {\n            const idListInfo = poseListInfo.getValueByIndex(poseIndex);\n            const idCount = idListInfo.getSize();\n            let groupCount = 0;\n            for (let groupIndex = 0; groupIndex < idCount; ++groupIndex) {\n                const partInfo = idListInfo.getValueByIndex(groupIndex);\n                const partData = new PartData();\n                const parameterId = live2dcubismframework_1.CubismFramework.getIdManager().getId(partInfo.getValueByString(Id).getRawString());\n                partData.partId = parameterId;\n                // \n                if (!partInfo.getValueByString(Link).isNull()) {\n                    const linkListInfo = partInfo.getValueByString(Link);\n                    const linkCount = linkListInfo.getSize();\n                    for (let linkIndex = 0; linkIndex < linkCount; ++linkIndex) {\n                        const linkPart = new PartData();\n                        const linkId = live2dcubismframework_1.CubismFramework.getIdManager().getId(linkListInfo.getValueByIndex(linkIndex).getString());\n                        linkPart.partId = linkId;\n                        partData.link.pushBack(linkPart);\n                    }\n                }\n                ret._partGroups.pushBack(partData.clone());\n                ++groupCount;\n            }\n            ret._partGroupCounts.pushBack(groupCount);\n        }\n        cubismjson_1.CubismJson.delete(json);\n        return ret;\n    }\n    /**\n     * \n     * @param pose CubismPose\n     */\n    static delete(pose) {\n        if (pose != null) {\n            pose = null;\n        }\n    }\n    /**\n     * \n     * @param model \n     * @param deltaTimeSeconds []\n     */\n    updateParameters(model, deltaTimeSeconds) {\n        // \n        if (model != this._lastModel) {\n            // \n            this.reset(model);\n        }\n        this._lastModel = model;\n        // 0\n        if (deltaTimeSeconds < 0.0) {\n            deltaTimeSeconds = 0.0;\n        }\n        let beginIndex = 0;\n        for (let i = 0; i < this._partGroupCounts.getSize(); i++) {\n            const partGroupCount = this._partGroupCounts.at(i);\n            this.doFade(model, deltaTimeSeconds, beginIndex, partGroupCount);\n            beginIndex += partGroupCount;\n        }\n        this.copyPartOpacities(model);\n    }\n    /**\n     * \n     * @param model \n     * @note 0\n     */\n    reset(model) {\n        let beginIndex = 0;\n        for (let i = 0; i < this._partGroupCounts.getSize(); ++i) {\n            const groupCount = this._partGroupCounts.at(i);\n            for (let j = beginIndex; j < beginIndex + groupCount; ++j) {\n                this._partGroups.at(j).initialize(model);\n                const partsIndex = this._partGroups.at(j).partIndex;\n                const paramIndex = this._partGroups.at(j).parameterIndex;\n                if (partsIndex < 0) {\n                    continue;\n                }\n                model.setPartOpacityByIndex(partsIndex, j == beginIndex ? 1.0 : 0.0);\n                model.setParameterValueByIndex(paramIndex, j == beginIndex ? 1.0 : 0.0);\n                for (let k = 0; k < this._partGroups.at(j).link.getSize(); ++k) {\n                    this._partGroups.at(j).link.at(k).initialize(model);\n                }\n            }\n            beginIndex += groupCount;\n        }\n    }\n    /**\n     * \n     *\n     * @param model \n     */\n    copyPartOpacities(model) {\n        for (let groupIndex = 0; groupIndex < this._partGroups.getSize(); ++groupIndex) {\n            const partData = this._partGroups.at(groupIndex);\n            if (partData.link.getSize() == 0) {\n                continue; // \n            }\n            const partIndex = this._partGroups.at(groupIndex).partIndex;\n            const opacity = model.getPartOpacityByIndex(partIndex);\n            for (let linkIndex = 0; linkIndex < partData.link.getSize(); ++linkIndex) {\n                const linkPart = partData.link.at(linkIndex);\n                const linkPartIndex = linkPart.partIndex;\n                if (linkPartIndex < 0) {\n                    continue;\n                }\n                model.setPartOpacityByIndex(linkPartIndex, opacity);\n            }\n        }\n    }\n    /**\n     * \n     * @param model \n     * @param deltaTimeSeconds []\n     * @param beginIndex \n     * @param partGroupCount \n     */\n    doFade(model, deltaTimeSeconds, beginIndex, partGroupCount) {\n        let visiblePartIndex = -1;\n        let newOpacity = 1.0;\n        const phi = 0.5;\n        const backOpacityThreshold = 0.15;\n        // \n        for (let i = beginIndex; i < beginIndex + partGroupCount; ++i) {\n            const partIndex = this._partGroups.at(i).partIndex;\n            const paramIndex = this._partGroups.at(i).parameterIndex;\n            if (model.getParameterValueByIndex(paramIndex) > Epsilon) {\n                if (visiblePartIndex >= 0) {\n                    break;\n                }\n                visiblePartIndex = i;\n                newOpacity = model.getPartOpacityByIndex(partIndex);\n                // \n                newOpacity += deltaTimeSeconds / this._fadeTimeSeconds;\n                if (newOpacity > 1.0) {\n                    newOpacity = 1.0;\n                }\n            }\n        }\n        if (visiblePartIndex < 0) {\n            visiblePartIndex = 0;\n            newOpacity = 1.0;\n        }\n        // \n        for (let i = beginIndex; i < beginIndex + partGroupCount; ++i) {\n            const partsIndex = this._partGroups.at(i).partIndex;\n            // \n            if (visiblePartIndex == i) {\n                model.setPartOpacityByIndex(partsIndex, newOpacity); // \n            }\n            // \n            else {\n                let opacity = model.getPartOpacityByIndex(partsIndex);\n                let a1; // \n                if (newOpacity < phi) {\n                    a1 = (newOpacity * (phi - 1)) / phi + 1.0; // (0,1),(phi,phi)\n                }\n                else {\n                    a1 = ((1 - newOpacity) * phi) / (1.0 - phi); // (1,0),(phi,phi)\n                }\n                // \n                const backOpacity = (1.0 - a1) * (1.0 - newOpacity);\n                if (backOpacity > backOpacityThreshold) {\n                    a1 = 1.0 - backOpacityThreshold / (1.0 - newOpacity);\n                }\n                if (opacity > a1) {\n                    opacity = a1; // \n                }\n                model.setPartOpacityByIndex(partsIndex, opacity);\n            }\n        }\n    }\n    /**\n     * \n     */\n    constructor() {\n        this._fadeTimeSeconds = DefaultFadeInSeconds;\n        this._lastModel = null;\n        this._partGroups = new csmvector_1.csmVector();\n        this._partGroupCounts = new csmvector_1.csmVector();\n    }\n}\nexports.CubismPose = CubismPose;\n/**\n * \n */\nclass PartData {\n    /**\n     * \n     */\n    constructor(v) {\n        this.parameterIndex = 0;\n        this.partIndex = 0;\n        this.link = new csmvector_1.csmVector();\n        if (v != undefined) {\n            this.partId = v.partId;\n            for (const ite = v.link.begin(); ite.notEqual(v.link.end()); ite.preIncrement()) {\n                this.link.pushBack(ite.ptr().clone());\n            }\n        }\n    }\n    /**\n     * =\n     */\n    assignment(v) {\n        this.partId = v.partId;\n        for (const ite = v.link.begin(); ite.notEqual(v.link.end()); ite.preIncrement()) {\n            this.link.pushBack(ite.ptr().clone());\n        }\n        return this;\n    }\n    /**\n     * \n     * @param model \n     */\n    initialize(model) {\n        this.parameterIndex = model.getParameterIndex(this.partId);\n        this.partIndex = model.getPartIndex(this.partId);\n        model.setParameterValueByIndex(this.parameterIndex, 1);\n    }\n    /**\n     * \n     */\n    clone() {\n        const clonePartData = new PartData();\n        clonePartData.partId = this.partId;\n        clonePartData.parameterIndex = this.parameterIndex;\n        clonePartData.partIndex = this.partIndex;\n        clonePartData.link = new csmvector_1.csmVector();\n        for (let ite = this.link.begin(); ite.notEqual(this.link.end()); ite.increment()) {\n            clonePartData.link.pushBack(ite.ptr().clone());\n        }\n        return clonePartData;\n    }\n}\nexports.PartData = PartData;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismpose */ \"./cubism/Framework/src/effect/cubismpose.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismPose = $.CubismPose;\n    Live2DCubismFramework.PartData = $.PartData;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/effect/cubismpose.ts?");

/***/ }),

/***/ "./cubism/Framework/src/icubismmodelsetting.ts":
/*!*****************************************************!*\
  !*** ./cubism/Framework/src/icubismmodelsetting.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.ICubismModelSetting = void 0;\n/**\n * \n *\n * \n */\nclass ICubismModelSetting {\n}\nexports.ICubismModelSetting = ICubismModelSetting;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./icubismmodelsetting */ \"./cubism/Framework/src/icubismmodelsetting.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.ICubismModelSetting = $.ICubismModelSetting;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/icubismmodelsetting.ts?");

/***/ }),

/***/ "./cubism/Framework/src/id/cubismid.ts":
/*!*********************************************!*\
  !*** ./cubism/Framework/src/id/cubismid.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismId = void 0;\nconst csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./cubism/Framework/src/type/csmstring.ts\");\n/**\n * Drawable\n *\n * Drawable\n */\nclass CubismId {\n    /**\n     * ID\n     */\n    getString() {\n        return this._id;\n    }\n    /**\n     * \n     */\n    constructor(id) {\n        if (typeof id === 'string') {\n            this._id = new csmstring_1.csmString(id);\n            return;\n        }\n        this._id = id;\n    }\n    /**\n     * id\n     * @param c id\n     * @return true,false\n     */\n    isEqual(c) {\n        if (typeof c === 'string') {\n            return this._id.isEqual(c);\n        }\n        else if (c instanceof csmstring_1.csmString) {\n            return this._id.isEqual(c.s);\n        }\n        else if (c instanceof CubismId) {\n            return this._id.isEqual(c._id.s);\n        }\n        return false;\n    }\n    /**\n     * id\n     * @param c id\n     * @return true,false\n     */\n    isNotEqual(c) {\n        if (typeof c == 'string') {\n            return !this._id.isEqual(c);\n        }\n        else if (c instanceof csmstring_1.csmString) {\n            return !this._id.isEqual(c.s);\n        }\n        else if (c instanceof CubismId) {\n            return !this._id.isEqual(c._id.s);\n        }\n        return false;\n    }\n}\nexports.CubismId = CubismId;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismid */ \"./cubism/Framework/src/id/cubismid.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismId = $.CubismId;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/id/cubismid.ts?");

/***/ }),

/***/ "./cubism/Framework/src/id/cubismidmanager.ts":
/*!****************************************************!*\
  !*** ./cubism/Framework/src/id/cubismidmanager.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismIdManager = void 0;\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismid_1 = __webpack_require__(/*! ./cubismid */ \"./cubism/Framework/src/id/cubismid.ts\");\n/**\n * ID\n *\n * ID\n */\nclass CubismIdManager {\n    /**\n     * \n     */\n    constructor() {\n        this._ids = new csmvector_1.csmVector();\n    }\n    /**\n     * \n     */\n    release() {\n        for (let i = 0; i < this._ids.getSize(); ++i) {\n            this._ids.set(i, void 0);\n        }\n        this._ids = null;\n    }\n    /**\n     * ID\n     *\n     * @param ids ID\n     * @param count ID\n     */\n    registerIds(ids) {\n        for (let i = 0; i < ids.length; i++) {\n            this.registerId(ids[i]);\n        }\n    }\n    /**\n     * ID\n     *\n     * @param id ID\n     */\n    registerId(id) {\n        let result = null;\n        if ('string' == typeof id) {\n            if ((result = this.findId(id)) != null) {\n                return result;\n            }\n            result = new cubismid_1.CubismId(id);\n            this._ids.pushBack(result);\n        }\n        else {\n            return this.registerId(id.s);\n        }\n        return result;\n    }\n    /**\n     * IDID\n     *\n     * @param id ID\n     */\n    getId(id) {\n        return this.registerId(id);\n    }\n    /**\n     * IDID\n     *\n     * @return true \n     * @return false \n     */\n    isExist(id) {\n        if ('string' == typeof id) {\n            return this.findId(id) != null;\n        }\n        return this.isExist(id.s);\n    }\n    /**\n     * IDID\n     *\n     * @param id ID\n     * @return IDNULL\n     */\n    findId(id) {\n        for (let i = 0; i < this._ids.getSize(); ++i) {\n            if (this._ids.at(i).getString().isEqual(id)) {\n                return this._ids.at(i);\n            }\n        }\n        return null;\n    }\n}\nexports.CubismIdManager = CubismIdManager;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismidmanager */ \"./cubism/Framework/src/id/cubismidmanager.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismIdManager = $.CubismIdManager;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/id/cubismidmanager.ts?");

/***/ }),

/***/ "./cubism/Framework/src/live2dcubismframework.ts":
/*!*******************************************************!*\
  !*** ./cubism/Framework/src/live2dcubismframework.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.LogLevel = exports.Option = exports.CubismFramework = exports.csmDelete = exports.Constant = exports.strtod = void 0;\nconst cubismidmanager_1 = __webpack_require__(/*! ./id/cubismidmanager */ \"./cubism/Framework/src/id/cubismidmanager.ts\");\nconst cubismrenderer_1 = __webpack_require__(/*! ./rendering/cubismrenderer */ \"./cubism/Framework/src/rendering/cubismrenderer.ts\");\nconst cubismdebug_1 = __webpack_require__(/*! ./utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\nconst cubismjson_1 = __webpack_require__(/*! ./utils/cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\nfunction strtod(s, endPtr) {\n    let index = 0;\n    for (let i = 1;; i++) {\n        const testC = s.slice(i - 1, i);\n        // \n        if (testC == 'e' || testC == '-' || testC == 'E') {\n            continue;\n        } // \n        const test = s.substring(0, i);\n        const number = Number(test);\n        if (isNaN(number)) {\n            // \n            break;\n        } // index\n        index = i;\n    }\n    let d = parseFloat(s); // \n    if (isNaN(d)) {\n        // \n        d = NaN;\n    }\n    endPtr[0] = s.slice(index); // \n    return d;\n}\nexports.strtod = strtod;\n// \nlet s_isStarted = false;\nlet s_isInitialized = false;\nlet s_option = null;\nlet s_cubismIdManager = null;\n/**\n * Framework\n */\nexports.Constant = Object.freeze({\n    vertexOffset: 0,\n    vertexStep: 2, // \n});\nfunction csmDelete(address) {\n    if (!address) {\n        return;\n    }\n    address = void 0;\n}\nexports.csmDelete = csmDelete;\n/**\n * Live2D Cubism SDK Original Workflow SDK\n * CubismFramework.initialize()CubismFramework.dispose()\n */\nclass CubismFramework {\n    /**\n     * Cubism FrameworkAPI\n     *  API\n     *  \n     *\n     * @param    option      Option\n     *\n     * @return   true\n     */\n    static startUp(option = null) {\n        if (s_isStarted) {\n            (0, cubismdebug_1.CubismLogInfo)('CubismFramework.startUp() is already done.');\n            return s_isStarted;\n        }\n        s_option = option;\n        if (s_option != null) {\n            Live2DCubismCore.Logging.csmSetLogFunction(s_option.logFunction);\n        }\n        s_isStarted = true;\n        // Live2D Cubism Core\n        if (s_isStarted) {\n            const version = Live2DCubismCore.Version.csmGetVersion();\n            const major = (version & 0xff000000) >> 24;\n            const minor = (version & 0x00ff0000) >> 16;\n            const patch = version & 0x0000ffff;\n            const versionNumber = version;\n            (0, cubismdebug_1.CubismLogInfo)(`Live2D Cubism Core version: {0}.{1}.{2} ({3})`, ('00' + major).slice(-2), ('00' + minor).slice(-2), ('0000' + patch).slice(-4), versionNumber);\n        }\n        (0, cubismdebug_1.CubismLogInfo)('CubismFramework.startUp() is complete.');\n        return s_isStarted;\n    }\n    /**\n     * StartUp()CubismFramework\n     * Dispose()CubismFramework\n     */\n    static cleanUp() {\n        s_isStarted = false;\n        s_isInitialized = false;\n        s_option = null;\n        s_cubismIdManager = null;\n    }\n    /**\n     * Cubism Framework<br>\n     *     Initialize()Dispose()\n     *\n     * @param memorySize  [byte(s)]\n     *    \n     *    1024*1024*16 byte(16MB)\n     *    1024*1024*16 byte\n     */\n    static initialize(memorySize = 0) {\n        (0, cubismdebug_1.CSM_ASSERT)(s_isStarted);\n        if (!s_isStarted) {\n            (0, cubismdebug_1.CubismLogWarning)('CubismFramework is not started.');\n            return;\n        }\n        // --- s_isInitialized ---\n        // \n        // Initialize()Dispose()\n        if (s_isInitialized) {\n            (0, cubismdebug_1.CubismLogWarning)('CubismFramework.initialize() skipped, already initialized.');\n            return;\n        }\n        //---- static  ----\n        cubismjson_1.Value.staticInitializeNotForClientCall();\n        s_cubismIdManager = new cubismidmanager_1.CubismIdManager();\n        // --- HACK: (byte) ---\n        // \n        // 1024*1024*16 byte(16MB)\n        // 1024*1024*16 byte\n        Live2DCubismCore.Memory.initializeAmountOfMemory(memorySize);\n        s_isInitialized = true;\n        (0, cubismdebug_1.CubismLogInfo)('CubismFramework.initialize() is complete.');\n    }\n    /**\n     * Cubism Framework\n     *      \n     *      \n     */\n    static dispose() {\n        (0, cubismdebug_1.CSM_ASSERT)(s_isStarted);\n        if (!s_isStarted) {\n            (0, cubismdebug_1.CubismLogWarning)('CubismFramework is not started.');\n            return;\n        }\n        // --- s_isInitialized ---\n        // dispose()initialize()\n        if (!s_isInitialized) {\n            // false...\n            (0, cubismdebug_1.CubismLogWarning)('CubismFramework.dispose() skipped, not initialized.');\n            return;\n        }\n        cubismjson_1.Value.staticReleaseNotForClientCall();\n        s_cubismIdManager.release();\n        s_cubismIdManager = null;\n        // \n        cubismrenderer_1.CubismRenderer.staticRelease();\n        s_isInitialized = false;\n        (0, cubismdebug_1.CubismLogInfo)('CubismFramework.dispose() is complete.');\n    }\n    /**\n     * Cubism FrameworkAPI\n     * @return APItrue\n     */\n    static isStarted() {\n        return s_isStarted;\n    }\n    /**\n     * Cubism Framework\n     * @return true\n     */\n    static isInitialized() {\n        return s_isInitialized;\n    }\n    /**\n     * Core API\n     *\n     * @praram message \n     */\n    static coreLogFunction(message) {\n        // Return if logging not possible.\n        if (!Live2DCubismCore.Logging.csmGetLogFunction()) {\n            return;\n        }\n        Live2DCubismCore.Logging.csmGetLogFunction()(message);\n    }\n    /**\n     * \n     *\n     * @return  \n     */\n    static getLoggingLevel() {\n        if (s_option != null) {\n            return s_option.loggingLevel;\n        }\n        return LogLevel.LogLevel_Off;\n    }\n    /**\n     * ID\n     * @return CubismManager\n     */\n    static getIdManager() {\n        return s_cubismIdManager;\n    }\n    /**\n     * \n     * \n     */\n    constructor() { }\n}\nexports.CubismFramework = CubismFramework;\nclass Option {\n}\nexports.Option = Option;\n/**\n * \n */\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"LogLevel_Verbose\"] = 0] = \"LogLevel_Verbose\";\n    LogLevel[LogLevel[\"LogLevel_Debug\"] = 1] = \"LogLevel_Debug\";\n    LogLevel[LogLevel[\"LogLevel_Info\"] = 2] = \"LogLevel_Info\";\n    LogLevel[LogLevel[\"LogLevel_Warning\"] = 3] = \"LogLevel_Warning\";\n    LogLevel[LogLevel[\"LogLevel_Error\"] = 4] = \"LogLevel_Error\";\n    LogLevel[LogLevel[\"LogLevel_Off\"] = 5] = \"LogLevel_Off\";\n})(LogLevel || (exports.LogLevel = LogLevel = {}));\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.Constant = $.Constant;\n    Live2DCubismFramework.csmDelete = $.csmDelete;\n    Live2DCubismFramework.CubismFramework = $.CubismFramework;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/live2dcubismframework.ts?");

/***/ }),

/***/ "./cubism/Framework/src/math/cubismmath.ts":
/*!*************************************************!*\
  !*** ./cubism/Framework/src/math/cubismmath.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMath = void 0;\nconst cubismvector2_1 = __webpack_require__(/*! ./cubismvector2 */ \"./cubism/Framework/src/math/cubismvector2.ts\");\n/**\n * \n */\nclass CubismMath {\n    /**\n     * \n     *\n     * @param value \n     * @param min   \n     * @param max   \n     * @return \n     */\n    static range(value, min, max) {\n        if (value < min) {\n            value = min;\n        }\n        else if (value > max) {\n            value = max;\n        }\n        return value;\n    }\n    /**\n     * \n     *\n     * @param x \n     * @return sin(x)\n     */\n    static sin(x) {\n        return Math.sin(x);\n    }\n    /**\n     * \n     *\n     * @param x ()\n     * @return cos(x)\n     */\n    static cos(x) {\n        return Math.cos(x);\n    }\n    /**\n     * \n     *\n     * @param x \n     * @return \n     */\n    static abs(x) {\n        return Math.abs(x);\n    }\n    /**\n     * ()\n     * @param x -> \n     * @return \n     */\n    static sqrt(x) {\n        return Math.sqrt(x);\n    }\n    /**\n     * \n     * @param x -> \n     * @return \n     */\n    static cbrt(x) {\n        if (x === 0) {\n            return x;\n        }\n        let cx = x;\n        const isNegativeNumber = cx < 0;\n        if (isNegativeNumber) {\n            cx = -cx;\n        }\n        let ret;\n        if (cx === Infinity) {\n            ret = Infinity;\n        }\n        else {\n            ret = Math.exp(Math.log(cx) / 3);\n            ret = (cx / (ret * ret) + 2 * ret) / 3;\n        }\n        return isNegativeNumber ? -ret : ret;\n    }\n    /**\n     * \n     * \n     *\n     * @param value \n     * @return \n     */\n    static getEasingSine(value) {\n        if (value < 0.0) {\n            return 0.0;\n        }\n        else if (value > 1.0) {\n            return 1.0;\n        }\n        return 0.5 - 0.5 * this.cos(value * Math.PI);\n    }\n    /**\n     * \n     *\n     * @param left \n     * @param right \n     * @return \n     */\n    static max(left, right) {\n        return left > right ? left : right;\n    }\n    /**\n     * \n     *\n     * @param left  \n     * @param right \n     * @return \n     */\n    static min(left, right) {\n        return left > right ? right : left;\n    }\n    /**\n     * \n     *\n     * @param degrees   \n     * @return \n     */\n    static degreesToRadian(degrees) {\n        return (degrees / 180.0) * Math.PI;\n    }\n    /**\n     * \n     *\n     * @param radian    \n     * @return \n     */\n    static radianToDegrees(radian) {\n        return (radian * 180.0) / Math.PI;\n    }\n    /**\n     * \n     *\n     * @param from  \n     * @param to    \n     * @return \n     */\n    static directionToRadian(from, to) {\n        const q1 = Math.atan2(to.y, to.x);\n        const q2 = Math.atan2(from.y, from.x);\n        let ret = q1 - q2;\n        while (ret < -Math.PI) {\n            ret += Math.PI * 2.0;\n        }\n        while (ret > Math.PI) {\n            ret -= Math.PI * 2.0;\n        }\n        return ret;\n    }\n    /**\n     * \n     *\n     * @param from  \n     * @param to    \n     * @return \n     */\n    static directionToDegrees(from, to) {\n        const radian = this.directionToRadian(from, to);\n        let degree = this.radianToDegrees(radian);\n        if (to.x - from.x > 0.0) {\n            degree = -degree;\n        }\n        return degree;\n    }\n    /**\n     * \n     *\n     * @param totalAngle    \n     * @return \n     */\n    static radianToDirection(totalAngle) {\n        const ret = new cubismvector2_1.CubismVector2();\n        ret.x = this.sin(totalAngle);\n        ret.y = this.cos(totalAngle);\n        return ret;\n    }\n    /**\n     * 0\n     * a * x^2 + b * x + c = 0\n     *\n     * @param   a -> \n     * @param   b -> \n     * @param   c -> \n     * @return  \n     */\n    static quadraticEquation(a, b, c) {\n        if (this.abs(a) < CubismMath.Epsilon) {\n            if (this.abs(b) < CubismMath.Epsilon) {\n                return -c;\n            }\n            return -c / b;\n        }\n        return -(b + this.sqrt(b * b - 4.0 * a * c)) / (2.0 * a);\n    }\n    /**\n     * t\n     * 0.01.0\n     *\n     * a * x^3 + b * x^2 + c * x + d = 0\n     *\n     * @param   a -> \n     * @param   b -> \n     * @param   c -> \n     * @param   d -> \n     * @return  0.01.0\n     */\n    static cardanoAlgorithmForBezier(a, b, c, d) {\n        if (this.sqrt(a) < CubismMath.Epsilon) {\n            return this.range(this.quadraticEquation(b, c, d), 0.0, 1.0);\n        }\n        const ba = b / a;\n        const ca = c / a;\n        const da = d / a;\n        const p = (3.0 * ca - ba * ba) / 3.0;\n        const p3 = p / 3.0;\n        const q = (2.0 * ba * ba * ba - 9.0 * ba * ca + 27.0 * da) / 27.0;\n        const q2 = q / 2.0;\n        const discriminant = q2 * q2 + p3 * p3 * p3;\n        const center = 0.5;\n        const threshold = center + 0.01;\n        if (discriminant < 0.0) {\n            const mp3 = -p / 3.0;\n            const mp33 = mp3 * mp3 * mp3;\n            const r = this.sqrt(mp33);\n            const t = -q / (2.0 * r);\n            const cosphi = this.range(t, -1.0, 1.0);\n            const phi = Math.acos(cosphi);\n            const crtr = this.cbrt(r);\n            const t1 = 2.0 * crtr;\n            const root1 = t1 * this.cos(phi / 3.0) - ba / 3.0;\n            if (this.abs(root1 - center) < threshold) {\n                return this.range(root1, 0.0, 1.0);\n            }\n            const root2 = t1 * this.cos((phi + 2.0 * Math.PI) / 3.0) - ba / 3.0;\n            if (this.abs(root2 - center) < threshold) {\n                return this.range(root2, 0.0, 1.0);\n            }\n            const root3 = t1 * this.cos((phi + 4.0 * Math.PI) / 3.0) - ba / 3.0;\n            return this.range(root3, 0.0, 1.0);\n        }\n        if (discriminant == 0.0) {\n            let u1;\n            if (q2 < 0.0) {\n                u1 = this.cbrt(-q2);\n            }\n            else {\n                u1 = -this.cbrt(q2);\n            }\n            const root1 = 2.0 * u1 - ba / 3.0;\n            if (this.abs(root1 - center) < threshold) {\n                return this.range(root1, 0.0, 1.0);\n            }\n            const root2 = -u1 - ba / 3.0;\n            return this.range(root2, 0.0, 1.0);\n        }\n        const sd = this.sqrt(discriminant);\n        const u1 = this.cbrt(sd - q2);\n        const v1 = this.cbrt(sd + q2);\n        const root1 = u1 - v1 - ba / 3.0;\n        return this.range(root1, 0.0, 1.0);\n    }\n    /**\n     * \n     */\n    constructor() { }\n}\nexports.CubismMath = CubismMath;\nCubismMath.Epsilon = 0.00001;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmath */ \"./cubism/Framework/src/math/cubismmath.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMath = $.CubismMath;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/math/cubismmath.ts?");

/***/ }),

/***/ "./cubism/Framework/src/math/cubismmatrix44.ts":
/*!*****************************************************!*\
  !*** ./cubism/Framework/src/math/cubismmatrix44.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMatrix44 = void 0;\n/**\n * 4x4\n *\n * 4x4\n */\nclass CubismMatrix44 {\n    /**\n     * \n     */\n    constructor() {\n        this._tr = new Float32Array(16); // 4 * 4\n        this.loadIdentity();\n    }\n    /**\n     * \n     *\n     * @param a a\n     * @param b b\n     * @return \n     */\n    static multiply(a, b, dst) {\n        const c = new Float32Array([\n            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,\n            0.0,\n        ]);\n        const n = 4;\n        for (let i = 0; i < n; ++i) {\n            for (let j = 0; j < n; ++j) {\n                for (let k = 0; k < n; ++k) {\n                    c[j + i * 4] += a[k + i * 4] * b[j + k * 4];\n                }\n            }\n        }\n        for (let i = 0; i < 16; ++i) {\n            dst[i] = c[i];\n        }\n    }\n    /**\n     * \n     */\n    loadIdentity() {\n        const c = new Float32Array([\n            1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0,\n            1.0,\n        ]);\n        this.setMatrix(c);\n    }\n    /**\n     * \n     *\n     * @param tr 164x4\n     */\n    setMatrix(tr) {\n        for (let i = 0; i < 16; ++i) {\n            this._tr[i] = tr[i];\n        }\n    }\n    /**\n     * \n     *\n     * @return 164x4\n     */\n    getArray() {\n        return this._tr;\n    }\n    /**\n     * X\n     * @return X\n     */\n    getScaleX() {\n        return this._tr[0];\n    }\n    /**\n     * Y\n     *\n     * @return Y\n     */\n    getScaleY() {\n        return this._tr[5];\n    }\n    /**\n     * X\n     * @return X\n     */\n    getTranslateX() {\n        return this._tr[12];\n    }\n    /**\n     * Y\n     * @return Y\n     */\n    getTranslateY() {\n        return this._tr[13];\n    }\n    /**\n     * X\n     *\n     * @param src X\n     * @return X\n     */\n    transformX(src) {\n        return this._tr[0] * src + this._tr[12];\n    }\n    /**\n     * Y\n     *\n     * @param src Y\n     * @return Y\n     */\n    transformY(src) {\n        return this._tr[5] * src + this._tr[13];\n    }\n    /**\n     * X\n     */\n    invertTransformX(src) {\n        return (src - this._tr[12]) / this._tr[0];\n    }\n    /**\n     * Y\n     */\n    invertTransformY(src) {\n        return (src - this._tr[13]) / this._tr[5];\n    }\n    /**\n     * \n     *\n     * \n     *\n     * @param x X\n     * @param y Y\n     */\n    translateRelative(x, y) {\n        const tr1 = new Float32Array([\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            x,\n            y,\n            0.0,\n            1.0,\n        ]);\n        CubismMatrix44.multiply(tr1, this._tr, this._tr);\n    }\n    /**\n     * \n     *\n     * \n     *\n     * @param x X\n     * @param y y\n     */\n    translate(x, y) {\n        this._tr[12] = x;\n        this._tr[13] = y;\n    }\n    /**\n     * X\n     *\n     * @param x X\n     */\n    translateX(x) {\n        this._tr[12] = x;\n    }\n    /**\n     * Y\n     *\n     * @param y Y\n     */\n    translateY(y) {\n        this._tr[13] = y;\n    }\n    /**\n     * \n     *\n     * @param x X\n     * @param y Y\n     */\n    scaleRelative(x, y) {\n        const tr1 = new Float32Array([\n            x,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            y,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n        ]);\n        CubismMatrix44.multiply(tr1, this._tr, this._tr);\n    }\n    /**\n     * \n     *\n     * @param x X\n     * @param y Y\n     */\n    scale(x, y) {\n        this._tr[0] = x;\n        this._tr[5] = y;\n    }\n    /**\n     * \n     *\n     * @param m \n     */\n    multiplyByMatrix(m) {\n        CubismMatrix44.multiply(m.getArray(), this._tr, this._tr);\n    }\n    /**\n     * \n     */\n    clone() {\n        const cloneMatrix = new CubismMatrix44();\n        for (let i = 0; i < this._tr.length; i++) {\n            cloneMatrix._tr[i] = this._tr[i];\n        }\n        return cloneMatrix;\n    }\n}\nexports.CubismMatrix44 = CubismMatrix44;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmatrix44 */ \"./cubism/Framework/src/math/cubismmatrix44.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMatrix44 = $.CubismMatrix44;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/math/cubismmatrix44.ts?");

/***/ }),

/***/ "./cubism/Framework/src/math/cubismmodelmatrix.ts":
/*!********************************************************!*\
  !*** ./cubism/Framework/src/math/cubismmodelmatrix.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModelMatrix = void 0;\nconst cubismmatrix44_1 = __webpack_require__(/*! ./cubismmatrix44 */ \"./cubism/Framework/src/math/cubismmatrix44.ts\");\n/**\n * 4x4\n *\n * 4x4\n */\nclass CubismModelMatrix extends cubismmatrix44_1.CubismMatrix44 {\n    /**\n     * \n     *\n     * @param w \n     * @param h \n     */\n    constructor(w, h) {\n        super();\n        this._width = w !== undefined ? w : 0.0;\n        this._height = h !== undefined ? h : 0.0;\n        this.setHeight(2.0);\n    }\n    /**\n     * \n     *\n     * @param w \n     */\n    setWidth(w) {\n        const scaleX = w / this._width;\n        const scaleY = scaleX;\n        this.scale(scaleX, scaleY);\n    }\n    /**\n     * \n     * @param h \n     */\n    setHeight(h) {\n        const scaleX = h / this._height;\n        const scaleY = scaleX;\n        this.scale(scaleX, scaleY);\n    }\n    /**\n     * \n     *\n     * @param x X\n     * @param y Y\n     */\n    setPosition(x, y) {\n        this.translate(x, y);\n    }\n    /**\n     * \n     *\n     * @param x X\n     * @param y Y\n     *\n     * @note widthheight\n     */\n    setCenterPosition(x, y) {\n        this.centerX(x);\n        this.centerY(y);\n    }\n    /**\n     * \n     *\n     * @param y Y\n     */\n    top(y) {\n        this.setY(y);\n    }\n    /**\n     * \n     *\n     * @param y Y\n     */\n    bottom(y) {\n        const h = this._height * this.getScaleY();\n        this.translateY(y - h);\n    }\n    /**\n     * \n     *\n     * @param x X\n     */\n    left(x) {\n        this.setX(x);\n    }\n    /**\n     * \n     *\n     * @param x X\n     */\n    right(x) {\n        const w = this._width * this.getScaleX();\n        this.translateX(x - w);\n    }\n    /**\n     * X\n     *\n     * @param x X\n     */\n    centerX(x) {\n        const w = this._width * this.getScaleX();\n        this.translateX(x - w / 2.0);\n    }\n    /**\n     * X\n     *\n     * @param x X\n     */\n    setX(x) {\n        this.translateX(x);\n    }\n    /**\n     * Y\n     *\n     * @param y Y\n     */\n    centerY(y) {\n        const h = this._height * this.getScaleY();\n        this.translateY(y - h / 2.0);\n    }\n    /**\n     * Y\n     *\n     * @param y Y\n     */\n    setY(y) {\n        this.translateY(y);\n    }\n    /**\n     * \n     *\n     * @param layout \n     */\n    setupFromLayout(layout) {\n        const keyWidth = 'width';\n        const keyHeight = 'height';\n        const keyX = 'x';\n        const keyY = 'y';\n        const keyCenterX = 'center_x';\n        const keyCenterY = 'center_y';\n        const keyTop = 'top';\n        const keyBottom = 'bottom';\n        const keyLeft = 'left';\n        const keyRight = 'right';\n        for (const ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\n            const key = ite.ptr().first;\n            const value = ite.ptr().second;\n            if (key == keyWidth) {\n                this.setWidth(value);\n            }\n            else if (key == keyHeight) {\n                this.setHeight(value);\n            }\n        }\n        for (const ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\n            const key = ite.ptr().first;\n            const value = ite.ptr().second;\n            if (key == keyX) {\n                this.setX(value);\n            }\n            else if (key == keyY) {\n                this.setY(value);\n            }\n            else if (key == keyCenterX) {\n                this.centerX(value);\n            }\n            else if (key == keyCenterY) {\n                this.centerY(value);\n            }\n            else if (key == keyTop) {\n                this.top(value);\n            }\n            else if (key == keyBottom) {\n                this.bottom(value);\n            }\n            else if (key == keyLeft) {\n                this.left(value);\n            }\n            else if (key == keyRight) {\n                this.right(value);\n            }\n        }\n    }\n}\nexports.CubismModelMatrix = CubismModelMatrix;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmodelmatrix */ \"./cubism/Framework/src/math/cubismmodelmatrix.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModelMatrix = $.CubismModelMatrix;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/math/cubismmodelmatrix.ts?");

/***/ }),

/***/ "./cubism/Framework/src/math/cubismtargetpoint.ts":
/*!********************************************************!*\
  !*** ./cubism/Framework/src/math/cubismtargetpoint.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismTargetPoint = void 0;\nconst cubismmath_1 = __webpack_require__(/*! ./cubismmath */ \"./cubism/Framework/src/math/cubismmath.ts\");\nconst FrameRate = 30;\nconst Epsilon = 0.01;\n/**\n * \n *\n * \n */\nclass CubismTargetPoint {\n    /**\n     * \n     */\n    constructor() {\n        this._faceTargetX = 0.0;\n        this._faceTargetY = 0.0;\n        this._faceX = 0.0;\n        this._faceY = 0.0;\n        this._faceVX = 0.0;\n        this._faceVY = 0.0;\n        this._lastTimeSeconds = 0.0;\n        this._userTimeSeconds = 0.0;\n    }\n    /**\n     * \n     */\n    update(deltaTimeSeconds) {\n        // \n        this._userTimeSeconds += deltaTimeSeconds;\n        //  \n        // 0.0+-1.0\n        const faceParamMaxV = 40.0 / 10.0; // 7.540(5.3/sc)\n        const maxV = (faceParamMaxV * 1.0) / FrameRate; // 1frame\n        if (this._lastTimeSeconds == 0.0) {\n            this._lastTimeSeconds = this._userTimeSeconds;\n            return;\n        }\n        const deltaTimeWeight = (this._userTimeSeconds - this._lastTimeSeconds) * FrameRate;\n        this._lastTimeSeconds = this._userTimeSeconds;\n        // \n        const timeToMaxSpeed = 0.15;\n        const frameToMaxSpeed = timeToMaxSpeed * FrameRate; // sec * frame/sec\n        const maxA = (deltaTimeWeight * maxV) / frameToMaxSpeed; // 1frame\n        // dx, dy\n        const dx = this._faceTargetX - this._faceX;\n        const dy = this._faceTargetY - this._faceY;\n        if (cubismmath_1.CubismMath.abs(dx) <= Epsilon && cubismmath_1.CubismMath.abs(dy) <= Epsilon) {\n            return; // \n        }\n        // \n        const d = cubismmath_1.CubismMath.sqrt(dx * dx + dy * dy);\n        // \n        const vx = (maxV * dx) / d;\n        const vy = (maxV * dy) / d;\n        // \n        let ax = vx - this._faceVX;\n        let ay = vy - this._faceVY;\n        const a = cubismmath_1.CubismMath.sqrt(ax * ax + ay * ay);\n        // \n        if (a < -maxA || a > maxA) {\n            ax *= maxA / a;\n            ay *= maxA / a;\n        }\n        // \n        this._faceVX += ax;\n        this._faceVY += ay;\n        // \n        // \n        // \n        // \n        {\n            // \n            //            2  6           2               3\n            //      sqrt(a  t  + 16 a h t  - 8 a h) - a t\n            // v = --------------------------------------\n            //                    2\n            //                 4 t  - 2\n            // (t=1)\n            // \tt1/60()\n            // \tt\n            const maxV = 0.5 *\n                (cubismmath_1.CubismMath.sqrt(maxA * maxA + 16.0 * maxA * d - 8.0 * maxA * d) -\n                    maxA);\n            const curV = cubismmath_1.CubismMath.sqrt(this._faceVX * this._faceVX + this._faceVY * this._faceVY);\n            if (curV > maxV) {\n                //  > \n                this._faceVX *= maxV / curV;\n                this._faceVY *= maxV / curV;\n            }\n        }\n        this._faceX += this._faceVX;\n        this._faceY += this._faceVY;\n    }\n    /**\n     * X\n     *\n     * @return X-1.0 ~ 1.0\n     */\n    getX() {\n        return this._faceX;\n    }\n    /**\n     * Y\n     *\n     * @return Y-1.0 ~ 1.0\n     */\n    getY() {\n        return this._faceY;\n    }\n    /**\n     * \n     *\n     * @param x X-1.0 ~ 1.0\n     * @param y Y-1.0 ~ 1.0\n     */\n    set(x, y) {\n        this._faceTargetX = x;\n        this._faceTargetY = y;\n    }\n}\nexports.CubismTargetPoint = CubismTargetPoint;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismtargetpoint */ \"./cubism/Framework/src/math/cubismtargetpoint.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismTargetPoint = $.CubismTargetPoint;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/math/cubismtargetpoint.ts?");

/***/ }),

/***/ "./cubism/Framework/src/math/cubismvector2.ts":
/*!****************************************************!*\
  !*** ./cubism/Framework/src/math/cubismvector2.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismVector2 = void 0;\n/**\n * 2\n *\n * 2\n */\nclass CubismVector2 {\n    /**\n     * \n     */\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.x = x == undefined ? 0.0 : x;\n        this.y = y == undefined ? 0.0 : y;\n    }\n    /**\n     * \n     *\n     * @param vector2 \n     * @return  \n     */\n    add(vector2) {\n        const ret = new CubismVector2(0.0, 0.0);\n        ret.x = this.x + vector2.x;\n        ret.y = this.y + vector2.y;\n        return ret;\n    }\n    /**\n     * \n     *\n     * @param vector2 \n     * @return  \n     */\n    substract(vector2) {\n        const ret = new CubismVector2(0.0, 0.0);\n        ret.x = this.x - vector2.x;\n        ret.y = this.y - vector2.y;\n        return ret;\n    }\n    /**\n     * \n     *\n     * @param vector2 \n     * @return  \n     */\n    multiply(vector2) {\n        const ret = new CubismVector2(0.0, 0.0);\n        ret.x = this.x * vector2.x;\n        ret.y = this.y * vector2.y;\n        return ret;\n    }\n    /**\n     * ()\n     *\n     * @param scalar \n     * @return  \n     */\n    multiplyByScaler(scalar) {\n        return this.multiply(new CubismVector2(scalar, scalar));\n    }\n    /**\n     * \n     *\n     * @param vector2 \n     * @return  \n     */\n    division(vector2) {\n        const ret = new CubismVector2(0.0, 0.0);\n        ret.x = this.x / vector2.x;\n        ret.y = this.y / vector2.y;\n        return ret;\n    }\n    /**\n     * ()\n     *\n     * @param scalar \n     * @return  \n     */\n    divisionByScalar(scalar) {\n        return this.division(new CubismVector2(scalar, scalar));\n    }\n    /**\n     * \n     *\n     * @return \n     */\n    getLength() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n    /**\n     * \n     *\n     * @param a \n     * @return \n     */\n    getDistanceWith(a) {\n        return Math.sqrt((this.x - a.x) * (this.x - a.x) + (this.y - a.y) * (this.y - a.y));\n    }\n    /**\n     * \n     *\n     * @param a \n     * @return \n     */\n    dot(a) {\n        return this.x * a.x + this.y * a.y;\n    }\n    /**\n     * \n     */\n    normalize() {\n        const length = Math.pow(this.x * this.x + this.y * this.y, 0.5);\n        this.x = this.x / length;\n        this.y = this.y / length;\n    }\n    /**\n     * \n     *\n     * \n     *\n     * @param rhs \n     * @return true \n     * @return false \n     */\n    isEqual(rhs) {\n        return this.x == rhs.x && this.y == rhs.y;\n    }\n    /**\n     * \n     *\n     * \n     *\n     * @param rhs \n     * @return true \n     * @return false \n     */\n    isNotEqual(rhs) {\n        return !this.isEqual(rhs);\n    }\n}\nexports.CubismVector2 = CubismVector2;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismvector2 */ \"./cubism/Framework/src/math/cubismvector2.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismVector2 = $.CubismVector2;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/math/cubismvector2.ts?");

/***/ }),

/***/ "./cubism/Framework/src/math/cubismviewmatrix.ts":
/*!*******************************************************!*\
  !*** ./cubism/Framework/src/math/cubismviewmatrix.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismViewMatrix = void 0;\nconst cubismmatrix44_1 = __webpack_require__(/*! ./cubismmatrix44 */ \"./cubism/Framework/src/math/cubismmatrix44.ts\");\n/**\n * 4x4\n *\n * 4x4\n */\nclass CubismViewMatrix extends cubismmatrix44_1.CubismMatrix44 {\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._screenLeft = 0.0;\n        this._screenRight = 0.0;\n        this._screenTop = 0.0;\n        this._screenBottom = 0.0;\n        this._maxLeft = 0.0;\n        this._maxRight = 0.0;\n        this._maxTop = 0.0;\n        this._maxBottom = 0.0;\n        this._maxScale = 0.0;\n        this._minScale = 0.0;\n    }\n    /**\n     * \n     *\n     * @param x X\n     * @param y Y\n     */\n    adjustTranslate(x, y) {\n        if (this._tr[0] * this._maxLeft + (this._tr[12] + x) > this._screenLeft) {\n            x = this._screenLeft - this._tr[0] * this._maxLeft - this._tr[12];\n        }\n        if (this._tr[0] * this._maxRight + (this._tr[12] + x) < this._screenRight) {\n            x = this._screenRight - this._tr[0] * this._maxRight - this._tr[12];\n        }\n        if (this._tr[5] * this._maxTop + (this._tr[13] + y) < this._screenTop) {\n            y = this._screenTop - this._tr[5] * this._maxTop - this._tr[13];\n        }\n        if (this._tr[5] * this._maxBottom + (this._tr[13] + y) >\n            this._screenBottom) {\n            y = this._screenBottom - this._tr[5] * this._maxBottom - this._tr[13];\n        }\n        const tr1 = new Float32Array([\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            x,\n            y,\n            0.0,\n            1.0,\n        ]);\n        cubismmatrix44_1.CubismMatrix44.multiply(tr1, this._tr, this._tr);\n    }\n    /**\n     * \n     *\n     * @param cx X\n     * @param cy Y\n     * @param scale \n     */\n    adjustScale(cx, cy, scale) {\n        const maxScale = this.getMaxScale();\n        const minScale = this.getMinScale();\n        const targetScale = scale * this._tr[0];\n        if (targetScale < minScale) {\n            if (this._tr[0] > 0.0) {\n                scale = minScale / this._tr[0];\n            }\n        }\n        else if (targetScale > maxScale) {\n            if (this._tr[0] > 0.0) {\n                scale = maxScale / this._tr[0];\n            }\n        }\n        const tr1 = new Float32Array([\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            cx,\n            cy,\n            0.0,\n            1.0,\n        ]);\n        const tr2 = new Float32Array([\n            scale,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            scale,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n        ]);\n        const tr3 = new Float32Array([\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            -cx,\n            -cy,\n            0.0,\n            1.0,\n        ]);\n        cubismmatrix44_1.CubismMatrix44.multiply(tr3, this._tr, this._tr);\n        cubismmatrix44_1.CubismMatrix44.multiply(tr2, this._tr, this._tr);\n        cubismmatrix44_1.CubismMatrix44.multiply(tr1, this._tr, this._tr);\n    }\n    /**\n     * \n     *\n     * @param left      X\n     * @param right     X\n     * @param bottom    Y\n     * @param top       Y\n     */\n    setScreenRect(left, right, bottom, top) {\n        this._screenLeft = left;\n        this._screenRight = right;\n        this._screenBottom = bottom;\n        this._screenTop = top;\n    }\n    /**\n     * \n     * @param left      X\n     * @param right     X\n     * @param bottom    Y\n     * @param top       Y\n     */\n    setMaxScreenRect(left, right, bottom, top) {\n        this._maxLeft = left;\n        this._maxRight = right;\n        this._maxTop = top;\n        this._maxBottom = bottom;\n    }\n    /**\n     * \n     * @param maxScale \n     */\n    setMaxScale(maxScale) {\n        this._maxScale = maxScale;\n    }\n    /**\n     * \n     * @param minScale \n     */\n    setMinScale(minScale) {\n        this._minScale = minScale;\n    }\n    /**\n     * \n     * @return \n     */\n    getMaxScale() {\n        return this._maxScale;\n    }\n    /**\n     * \n     * @return \n     */\n    getMinScale() {\n        return this._minScale;\n    }\n    /**\n     * \n     *\n     * @return true \n     * @return false \n     */\n    isMaxScale() {\n        return this.getScaleX() >= this._maxScale;\n    }\n    /**\n     * \n     *\n     * @return true \n     * @return false \n     */\n    isMinScale() {\n        return this.getScaleX() <= this._minScale;\n    }\n    /**\n     * \n     * @return X\n     */\n    getScreenLeft() {\n        return this._screenLeft;\n    }\n    /**\n     * \n     * @return X\n     */\n    getScreenRight() {\n        return this._screenRight;\n    }\n    /**\n     * Y\n     * @return Y\n     */\n    getScreenBottom() {\n        return this._screenBottom;\n    }\n    /**\n     * Y\n     * @return Y\n     */\n    getScreenTop() {\n        return this._screenTop;\n    }\n    /**\n     * X\n     * @return X\n     */\n    getMaxLeft() {\n        return this._maxLeft;\n    }\n    /**\n     * X\n     * @return X\n     */\n    getMaxRight() {\n        return this._maxRight;\n    }\n    /**\n     * Y\n     * @return Y\n     */\n    getMaxBottom() {\n        return this._maxBottom;\n    }\n    /**\n     * Y\n     * @return Y\n     */\n    getMaxTop() {\n        return this._maxTop;\n    }\n}\nexports.CubismViewMatrix = CubismViewMatrix;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismviewmatrix */ \"./cubism/Framework/src/math/cubismviewmatrix.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismViewMatrix = $.CubismViewMatrix;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/math/cubismviewmatrix.ts?");

/***/ }),

/***/ "./cubism/Framework/src/model/cubismmoc.ts":
/*!*************************************************!*\
  !*** ./cubism/Framework/src/model/cubismmoc.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMoc = void 0;\nconst cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\nconst cubismmodel_1 = __webpack_require__(/*! ./cubismmodel */ \"./cubism/Framework/src/model/cubismmodel.ts\");\n/**\n * Moc\n *\n * Moc\n */\nclass CubismMoc {\n    /**\n     * Moc\n     */\n    static create(mocBytes, shouldCheckMocConsistency) {\n        let cubismMoc = null;\n        if (shouldCheckMocConsistency) {\n            // .moc3\n            const consistency = this.hasMocConsistency(mocBytes);\n            if (!consistency) {\n                // \n                (0, cubismdebug_1.CubismLogError)(`Inconsistent MOC3.`);\n                return cubismMoc;\n            }\n        }\n        const moc = Live2DCubismCore.Moc.fromArrayBuffer(mocBytes);\n        if (moc) {\n            cubismMoc = new CubismMoc(moc);\n            cubismMoc._mocVersion = Live2DCubismCore.Version.csmGetMocVersion(moc, mocBytes);\n        }\n        return cubismMoc;\n    }\n    /**\n     * Moc\n     *\n     * Moc\n     */\n    static delete(moc) {\n        moc._moc._release();\n        moc._moc = null;\n        moc = null;\n    }\n    /**\n     * \n     *\n     * @return Moc\n     */\n    createModel() {\n        let cubismModel = null;\n        const model = Live2DCubismCore.Model.fromMoc(this._moc);\n        if (model) {\n            cubismModel = new cubismmodel_1.CubismModel(model);\n            cubismModel.initialize();\n            ++this._modelCount;\n        }\n        return cubismModel;\n    }\n    /**\n     * \n     */\n    deleteModel(model) {\n        if (model != null) {\n            model.release();\n            model = null;\n            --this._modelCount;\n        }\n    }\n    /**\n     * \n     */\n    constructor(moc) {\n        this._moc = moc;\n        this._modelCount = 0;\n        this._mocVersion = 0;\n    }\n    /**\n     * \n     */\n    release() {\n        (0, cubismdebug_1.CSM_ASSERT)(this._modelCount == 0);\n        this._moc._release();\n        this._moc = null;\n    }\n    /**\n     * .moc3 Version\n     */\n    getLatestMocVersion() {\n        return Live2DCubismCore.Version.csmGetLatestMocVersion();\n    }\n    /**\n     * .moc3 Version\n     */\n    getMocVersion() {\n        return this._mocVersion;\n    }\n    /**\n     * .moc3 \n     */\n    static hasMocConsistency(mocBytes) {\n        const isConsistent = Live2DCubismCore.Moc.prototype.hasMocConsistency(mocBytes);\n        return isConsistent === 1 ? true : false;\n    }\n}\nexports.CubismMoc = CubismMoc;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmoc */ \"./cubism/Framework/src/model/cubismmoc.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMoc = $.CubismMoc;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/model/cubismmoc.ts?");

/***/ }),

/***/ "./cubism/Framework/src/model/cubismmodel.ts":
/*!***************************************************!*\
  !*** ./cubism/Framework/src/model/cubismmodel.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModel = exports.DrawableCullingData = exports.PartColorData = exports.DrawableColorData = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst cubismrenderer_1 = __webpack_require__(/*! ../rendering/cubismrenderer */ \"./cubism/Framework/src/rendering/cubismrenderer.ts\");\nconst csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./cubism/Framework/src/type/csmmap.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\n/**\n * SDKDrawable\n * \n */\nclass DrawableColorData {\n    constructor(isOverwritten = false, color = new cubismrenderer_1.CubismTextureColor()) {\n        this.isOverwritten = isOverwritten;\n        this.Color = color;\n    }\n}\nexports.DrawableColorData = DrawableColorData;\n/**\n * @brief RGBA\n */\nclass PartColorData {\n    constructor(isOverwritten = false, color = new cubismrenderer_1.CubismTextureColor()) {\n        this.isOverwritten = isOverwritten;\n        this.Color = color;\n    }\n}\nexports.PartColorData = PartColorData;\n/**\n * \n */\nclass DrawableCullingData {\n    /**\n     * \n     *\n     * @param isOverwritten\n     * @param isCulling\n     */\n    constructor(isOverwritten = false, isCulling = false) {\n        this.isOverwritten = isOverwritten;\n        this.isCulling = isCulling;\n    }\n}\nexports.DrawableCullingData = DrawableCullingData;\n/**\n * \n *\n * Moc\n */\nclass CubismModel {\n    /**\n     * \n     */\n    update() {\n        // Update model\n        this._model.update();\n        this._model.drawables.resetDynamicFlags();\n    }\n    /**\n     * PixelsPerUnit\n     * @returns PixelsPerUnit\n     */\n    getPixelsPerUnit() {\n        if (this._model == null) {\n            return 0.0;\n        }\n        return this._model.canvasinfo.PixelsPerUnit;\n    }\n    /**\n     * \n     */\n    getCanvasWidth() {\n        if (this._model == null) {\n            return 0.0;\n        }\n        return (this._model.canvasinfo.CanvasWidth / this._model.canvasinfo.PixelsPerUnit);\n    }\n    /**\n     * \n     */\n    getCanvasHeight() {\n        if (this._model == null) {\n            return 0.0;\n        }\n        return (this._model.canvasinfo.CanvasHeight / this._model.canvasinfo.PixelsPerUnit);\n    }\n    /**\n     * \n     */\n    saveParameters() {\n        const parameterCount = this._model.parameters.count;\n        const savedParameterCount = this._savedParameters.getSize();\n        for (let i = 0; i < parameterCount; ++i) {\n            if (i < savedParameterCount) {\n                this._savedParameters.set(i, this._parameterValues[i]);\n            }\n            else {\n                this._savedParameters.pushBack(this._parameterValues[i]);\n            }\n        }\n    }\n    /**\n     * \n     * @param index Drawables\n     * @returns drawable(RGBA)\n     */\n    getMultiplyColor(index) {\n        // Drawabletrue\n        if (this.getOverwriteFlagForModelMultiplyColors() ||\n            this.getOverwriteFlagForDrawableMultiplyColors(index)) {\n            return this._userMultiplyColors.at(index).Color;\n        }\n        const color = this.getDrawableMultiplyColor(index);\n        return color;\n    }\n    /**\n     * \n     * @param index Drawables\n     * @returns drawable(RGBA)\n     */\n    getScreenColor(index) {\n        // Drawabletrue\n        if (this.getOverwriteFlagForModelScreenColors() ||\n            this.getOverwriteFlagForDrawableScreenColors(index)) {\n            return this._userScreenColors.at(index).Color;\n        }\n        const color = this.getDrawableScreenColor(index);\n        return color;\n    }\n    /**\n     * \n     * @param index Drawables\n     * @param color (CubismTextureColor)\n     */\n    setMultiplyColorByTextureColor(index, color) {\n        this.setMultiplyColorByRGBA(index, color.R, color.G, color.B, color.A);\n    }\n    /**\n     * \n     * @param index Drawables\n     * @param r R\n     * @param g G\n     * @param b B\n     * @param a A\n     */\n    setMultiplyColorByRGBA(index, r, g, b, a = 1.0) {\n        this._userMultiplyColors.at(index).Color.R = r;\n        this._userMultiplyColors.at(index).Color.G = g;\n        this._userMultiplyColors.at(index).Color.B = b;\n        this._userMultiplyColors.at(index).Color.A = a;\n    }\n    /**\n     * \n     * @param index Drawables\n     * @param color (CubismTextureColor)\n     */\n    setScreenColorByTextureColor(index, color) {\n        this.setScreenColorByRGBA(index, color.R, color.G, color.B, color.A);\n    }\n    /**\n     * \n     * @param index Drawables\n     * @param r R\n     * @param g G\n     * @param b B\n     * @param a A\n     */\n    setScreenColorByRGBA(index, r, g, b, a = 1.0) {\n        this._userScreenColors.at(index).Color.R = r;\n        this._userScreenColors.at(index).Color.G = g;\n        this._userScreenColors.at(index).Color.B = b;\n        this._userScreenColors.at(index).Color.A = a;\n    }\n    /**\n     * part\n     * @param partIndex part\n     * @returns part\n     */\n    getPartMultiplyColor(partIndex) {\n        return this._userPartMultiplyColors.at(partIndex).Color;\n    }\n    /**\n     * part\n     * @param partIndex part\n     * @returns part\n     */\n    getPartScreenColor(partIndex) {\n        return this._userPartScreenColors.at(partIndex).Color;\n    }\n    /**\n     * partOverwriteColor setter\n     * @param partIndex part\n     * @param r R\n     * @param g G\n     * @param b B\n     * @param a A\n     * @param partColors part\n     * @param drawableColors partDrawable\n     */\n    setPartColor(partIndex, r, g, b, a, partColors, drawableColors) {\n        partColors.at(partIndex).Color.R = r;\n        partColors.at(partIndex).Color.G = g;\n        partColors.at(partIndex).Color.B = b;\n        partColors.at(partIndex).Color.A = a;\n        if (partColors.at(partIndex).isOverwritten) {\n            for (let i = 0; i < this._partChildDrawables.at(partIndex).getSize(); ++i) {\n                const drawableIndex = this._partChildDrawables.at(partIndex).at(i);\n                drawableColors.at(drawableIndex).Color.R = r;\n                drawableColors.at(drawableIndex).Color.G = g;\n                drawableColors.at(drawableIndex).Color.B = b;\n                drawableColors.at(drawableIndex).Color.A = a;\n            }\n        }\n    }\n    /**\n     * \n     * @param partIndex part\n     * @param color (CubismTextureColor)\n     */\n    setPartMultiplyColorByTextureColor(partIndex, color) {\n        this.setPartMultiplyColorByRGBA(partIndex, color.R, color.G, color.B, color.A);\n    }\n    /**\n     * \n     * @param partIndex part\n     * @param r R\n     * @param g G\n     * @param b B\n     * @param a A\n     */\n    setPartMultiplyColorByRGBA(partIndex, r, g, b, a) {\n        this.setPartColor(partIndex, r, g, b, a, this._userPartMultiplyColors, this._userMultiplyColors);\n    }\n    /**\n     * \n     * @param partIndex part\n     * @param color (CubismTextureColor)\n     */\n    setPartScreenColorByTextureColor(partIndex, color) {\n        this.setPartScreenColorByRGBA(partIndex, color.R, color.G, color.B, color.A);\n    }\n    /**\n     * \n     * @param partIndex part\n     * @param r R\n     * @param g G\n     * @param b B\n     * @param a A\n     */\n    setPartScreenColorByRGBA(partIndex, r, g, b, a) {\n        this.setPartColor(partIndex, r, g, b, a, this._userPartScreenColors, this._userScreenColors);\n    }\n    /**\n     * SDK\n     * @returns true -> SDK\n     *          false -> \n     */\n    getOverwriteFlagForModelMultiplyColors() {\n        return this._isOverwrittenModelMultiplyColors;\n    }\n    /**\n     * SDK\n     * @returns true -> SDK\n     *          false -> \n     */\n    getOverwriteFlagForModelScreenColors() {\n        return this._isOverwrittenModelScreenColors;\n    }\n    /**\n     * SDK\n     * @param value true -> SDK\n     *              false -> \n     */\n    setOverwriteFlagForModelMultiplyColors(value) {\n        this._isOverwrittenModelMultiplyColors = value;\n    }\n    /**\n     * SDK\n     * @param value true -> SDK\n     *              false -> \n     */\n    setOverwriteFlagForModelScreenColors(value) {\n        this._isOverwrittenModelScreenColors = value;\n    }\n    /**\n     * SDKDrawableIndex\n     * @returns true -> SDK\n     *          false -> \n     */\n    getOverwriteFlagForDrawableMultiplyColors(drawableindex) {\n        return this._userMultiplyColors.at(drawableindex).isOverwritten;\n    }\n    /**\n     * SDKDrawableIndex\n     * @returns true -> SDK\n     *          false -> \n     */\n    getOverwriteFlagForDrawableScreenColors(drawableindex) {\n        return this._userScreenColors.at(drawableindex).isOverwritten;\n    }\n    /**\n     * SDKDrawableIndex\n     * @param value true -> SDK\n     *              false -> \n     */\n    setOverwriteFlagForDrawableMultiplyColors(drawableindex, value) {\n        this._userMultiplyColors.at(drawableindex).isOverwritten = value;\n    }\n    /**\n     * SDKDrawableIndex\n     * @param value true -> SDK\n     *              false -> \n     */\n    setOverwriteFlagForDrawableScreenColors(drawableindex, value) {\n        this._userScreenColors.at(drawableindex).isOverwritten = value;\n    }\n    /**\n     * SDKpart\n     * @param partIndex part\n     * @returns true    ->  SDK\n     *          false   ->  \n     */\n    getOverwriteColorForPartMultiplyColors(partIndex) {\n        return this._userPartMultiplyColors.at(partIndex).isOverwritten;\n    }\n    /**\n     * SDKpart\n     * @param partIndex part\n     * @returns true    ->  SDK\n     *          false   ->  \n     */\n    getOverwriteColorForPartScreenColors(partIndex) {\n        return this._userPartScreenColors.at(partIndex).isOverwritten;\n    }\n    /**\n     * partOverwriteFlag setter\n     * @param partIndex part\n     * @param value true -> SDK\n     *              false -> \n     * @param partColors part\n     * @param drawableColors partDrawable\n     */\n    setOverwriteColorForPartColors(partIndex, value, partColors, drawableColors) {\n        partColors.at(partIndex).isOverwritten = value;\n        for (let i = 0; i < this._partChildDrawables.at(partIndex).getSize(); ++i) {\n            const drawableIndex = this._partChildDrawables.at(partIndex).at(i);\n            drawableColors.at(drawableIndex).isOverwritten = value;\n            if (value) {\n                drawableColors.at(drawableIndex).Color.R =\n                    partColors.at(partIndex).Color.R;\n                drawableColors.at(drawableIndex).Color.G =\n                    partColors.at(partIndex).Color.G;\n                drawableColors.at(drawableIndex).Color.B =\n                    partColors.at(partIndex).Color.B;\n                drawableColors.at(drawableIndex).Color.A =\n                    partColors.at(partIndex).Color.A;\n            }\n        }\n    }\n    /**\n     * SDKpart\n     * @param partIndex part\n     * @param value true -> SDK\n     *              false -> \n     */\n    setOverwriteColorForPartMultiplyColors(partIndex, value) {\n        this._userPartMultiplyColors.at(partIndex).isOverwritten = value;\n        this.setOverwriteColorForPartColors(partIndex, value, this._userPartMultiplyColors, this._userMultiplyColors);\n    }\n    /**\n     * SDKpart\n     * @param partIndex part\n     * @param value true -> SDK\n     *              false -> \n     */\n    setOverwriteColorForPartScreenColors(partIndex, value) {\n        this._userPartScreenColors.at(partIndex).isOverwritten = value;\n        this.setOverwriteColorForPartColors(partIndex, value, this._userPartScreenColors, this._userScreenColors);\n    }\n    /**\n     * Drawable\n     *\n     * @param   drawableIndex   Drawable\n     * @return  Drawable\n     */\n    getDrawableCulling(drawableIndex) {\n        if (this.getOverwriteFlagForModelCullings() ||\n            this.getOverwriteFlagForDrawableCullings(drawableIndex)) {\n            return this._userCullings.at(drawableIndex).isCulling;\n        }\n        const constantFlags = this._model.drawables.constantFlags;\n        return !Live2DCubismCore.Utils.hasIsDoubleSidedBit(constantFlags[drawableIndex]);\n    }\n    /**\n     * Drawable\n     *\n     * @param drawableIndex Drawable\n     * @param isCulling \n     */\n    setDrawableCulling(drawableIndex, isCulling) {\n        this._userCullings.at(drawableIndex).isCulling = isCulling;\n    }\n    /**\n     * SDK\n     *\n     * @retval  true    ->  SDK\n     * @retval  false   ->  \n     */\n    getOverwriteFlagForModelCullings() {\n        return this._isOverwrittenCullings;\n    }\n    /**\n     * SDK\n     *\n     * @param isOverwrittenCullings SDKtruefalse\n     */\n    setOverwriteFlagForModelCullings(isOverwrittenCullings) {\n        this._isOverwrittenCullings = isOverwrittenCullings;\n    }\n    /**\n     *\n     * @param drawableIndex Drawable\n     * @retval  true    ->  SDK\n     * @retval  false   ->  \n     */\n    getOverwriteFlagForDrawableCullings(drawableIndex) {\n        return this._userCullings.at(drawableIndex).isOverwritten;\n    }\n    /**\n     *\n     * @param drawableIndex Drawable\n     * @param isOverwrittenCullings SDKtruefalse\n     */\n    setOverwriteFlagForDrawableCullings(drawableIndex, isOverwrittenCullings) {\n        this._userCullings.at(drawableIndex).isOverwritten = isOverwrittenCullings;\n    }\n    /**\n     * \n     *\n     * @returns \n     */\n    getModelOapcity() {\n        return this._modelOpacity;\n    }\n    /**\n     * \n     *\n     * @param value \n     */\n    setModelOapcity(value) {\n        this._modelOpacity = value;\n    }\n    /**\n     * \n     */\n    getModel() {\n        return this._model;\n    }\n    /**\n     * \n     * @param partId ID\n     * @return \n     */\n    getPartIndex(partId) {\n        let partIndex;\n        const partCount = this._model.parts.count;\n        for (partIndex = 0; partIndex < partCount; ++partIndex) {\n            if (partId == this._partIds.at(partIndex)) {\n                return partIndex;\n            }\n        }\n        // ID\n        if (this._notExistPartId.isExist(partId)) {\n            return this._notExistPartId.getValue(partId);\n        }\n        // ID\n        partIndex = partCount + this._notExistPartId.getSize();\n        this._notExistPartId.setValue(partId, partIndex);\n        this._notExistPartOpacities.appendKey(partIndex);\n        return partIndex;\n    }\n    /**\n     * ID\n     *\n     * @param partIndex \n     * @return ID\n     */\n    getPartId(partIndex) {\n        const partId = this._model.parts.ids[partIndex];\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(partId);\n    }\n    /**\n     * \n     * @return \n     */\n    getPartCount() {\n        const partCount = this._model.parts.count;\n        return partCount;\n    }\n    /**\n     * (Index)\n     * @param partIndex \n     * @param opacity \n     */\n    setPartOpacityByIndex(partIndex, opacity) {\n        if (this._notExistPartOpacities.isExist(partIndex)) {\n            this._notExistPartOpacities.setValue(partIndex, opacity);\n            return;\n        }\n        // \n        (0, cubismdebug_1.CSM_ASSERT)(0 <= partIndex && partIndex < this.getPartCount());\n        this._partOpacities[partIndex] = opacity;\n    }\n    /**\n     * (Id)\n     * @param partId ID\n     * @param opacity \n     */\n    setPartOpacityById(partId, opacity) {\n        // PartIndex\n        const index = this.getPartIndex(partId);\n        if (index < 0) {\n            return; // \n        }\n        this.setPartOpacityByIndex(index, opacity);\n    }\n    /**\n     * (index)\n     * @param partIndex \n     * @return \n     */\n    getPartOpacityByIndex(partIndex) {\n        if (this._notExistPartOpacities.isExist(partIndex)) {\n            // ID\n            return this._notExistPartOpacities.getValue(partIndex);\n        }\n        // \n        (0, cubismdebug_1.CSM_ASSERT)(0 <= partIndex && partIndex < this.getPartCount());\n        return this._partOpacities[partIndex];\n    }\n    /**\n     * (id)\n     * @param partId \n     * @return \n     */\n    getPartOpacityById(partId) {\n        // PartIndex\n        const index = this.getPartIndex(partId);\n        if (index < 0) {\n            return 0; // \n        }\n        return this.getPartOpacityByIndex(index);\n    }\n    /**\n     * \n     * @param ID\n     * @return \n     */\n    getParameterIndex(parameterId) {\n        let parameterIndex;\n        const idCount = this._model.parameters.count;\n        for (parameterIndex = 0; parameterIndex < idCount; ++parameterIndex) {\n            if (parameterId != this._parameterIds.at(parameterIndex)) {\n                continue;\n            }\n            return parameterIndex;\n        }\n        // ID\n        if (this._notExistParameterId.isExist(parameterId)) {\n            return this._notExistParameterId.getValue(parameterId);\n        }\n        // ID\n        parameterIndex =\n            this._model.parameters.count + this._notExistParameterId.getSize();\n        this._notExistParameterId.setValue(parameterId, parameterIndex);\n        this._notExistParameterValues.appendKey(parameterIndex);\n        return parameterIndex;\n    }\n    /**\n     * \n     * @return \n     */\n    getParameterCount() {\n        return this._model.parameters.count;\n    }\n    /**\n     * \n     * @param parameterIndex \n     * @return csmParameterType_Normal -> \n     *          csmParameterType_BlendShape -> \n     */\n    getParameterType(parameterIndex) {\n        return this._model.parameters.types[parameterIndex];\n    }\n    /**\n     * \n     * @param parameterIndex \n     * @return \n     */\n    getParameterMaximumValue(parameterIndex) {\n        return this._model.parameters.maximumValues[parameterIndex];\n    }\n    /**\n     * \n     * @param parameterIndex \n     * @return \n     */\n    getParameterMinimumValue(parameterIndex) {\n        return this._model.parameters.minimumValues[parameterIndex];\n    }\n    /**\n     * \n     * @param parameterIndex \n     * @return \n     */\n    getParameterDefaultValue(parameterIndex) {\n        return this._model.parameters.defaultValues[parameterIndex];\n    }\n    /**\n     * \n     * @param parameterIndex    \n     * @return \n     */\n    getParameterValueByIndex(parameterIndex) {\n        if (this._notExistParameterValues.isExist(parameterIndex)) {\n            return this._notExistParameterValues.getValue(parameterIndex);\n        }\n        // \n        (0, cubismdebug_1.CSM_ASSERT)(0 <= parameterIndex && parameterIndex < this.getParameterCount());\n        return this._parameterValues[parameterIndex];\n    }\n    /**\n     * \n     * @param parameterId    ID\n     * @return \n     */\n    getParameterValueById(parameterId) {\n        // parameterIndex\n        const parameterIndex = this.getParameterIndex(parameterId);\n        return this.getParameterValueByIndex(parameterIndex);\n    }\n    /**\n     * \n     * @param parameterIndex \n     * @param value \n     * @param weight \n     */\n    setParameterValueByIndex(parameterIndex, value, weight = 1.0) {\n        if (this._notExistParameterValues.isExist(parameterIndex)) {\n            this._notExistParameterValues.setValue(parameterIndex, weight == 1\n                ? value\n                : this._notExistParameterValues.getValue(parameterIndex) *\n                    (1 - weight) +\n                    value * weight);\n            return;\n        }\n        // \n        (0, cubismdebug_1.CSM_ASSERT)(0 <= parameterIndex && parameterIndex < this.getParameterCount());\n        if (this._model.parameters.maximumValues[parameterIndex] < value) {\n            value = this._model.parameters.maximumValues[parameterIndex];\n        }\n        if (this._model.parameters.minimumValues[parameterIndex] > value) {\n            value = this._model.parameters.minimumValues[parameterIndex];\n        }\n        this._parameterValues[parameterIndex] =\n            weight == 1\n                ? value\n                : (this._parameterValues[parameterIndex] =\n                    this._parameterValues[parameterIndex] * (1 - weight) +\n                        value * weight);\n    }\n    /**\n     * \n     * @param parameterId ID\n     * @param value \n     * @param weight \n     */\n    setParameterValueById(parameterId, value, weight = 1.0) {\n        const index = this.getParameterIndex(parameterId);\n        this.setParameterValueByIndex(index, value, weight);\n    }\n    /**\n     * (index)\n     * @param parameterIndex \n     * @param value \n     * @param weight \n     */\n    addParameterValueByIndex(parameterIndex, value, weight = 1.0) {\n        this.setParameterValueByIndex(parameterIndex, this.getParameterValueByIndex(parameterIndex) + value * weight);\n    }\n    /**\n     * (id)\n     * @param parameterId \n     * @param value \n     * @param weight \n     */\n    addParameterValueById(parameterId, value, weight = 1.0) {\n        const index = this.getParameterIndex(parameterId);\n        this.addParameterValueByIndex(index, value, weight);\n    }\n    /**\n     * \n     * @param parameterId ID\n     * @param value \n     * @param weight \n     */\n    multiplyParameterValueById(parameterId, value, weight = 1.0) {\n        const index = this.getParameterIndex(parameterId);\n        this.multiplyParameterValueByIndex(index, value, weight);\n    }\n    /**\n     * \n     * @param parameterIndex \n     * @param value \n     * @param weight \n     */\n    multiplyParameterValueByIndex(parameterIndex, value, weight = 1.0) {\n        this.setParameterValueByIndex(parameterIndex, this.getParameterValueByIndex(parameterIndex) *\n            (1.0 + (value - 1.0) * weight));\n    }\n    /**\n     * Drawable\n     * @param drawableId DrawableID\n     * @return Drawable\n     */\n    getDrawableIndex(drawableId) {\n        const drawableCount = this._model.drawables.count;\n        for (let drawableIndex = 0; drawableIndex < drawableCount; ++drawableIndex) {\n            if (this._drawableIds.at(drawableIndex) == drawableId) {\n                return drawableIndex;\n            }\n        }\n        return -1;\n    }\n    /**\n     * Drawable\n     * @return drawable\n     */\n    getDrawableCount() {\n        const drawableCount = this._model.drawables.count;\n        return drawableCount;\n    }\n    /**\n     * DrawableID\n     * @param drawableIndex Drawable\n     * @return drawableID\n     */\n    getDrawableId(drawableIndex) {\n        const parameterIds = this._model.drawables.ids;\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(parameterIds[drawableIndex]);\n    }\n    /**\n     * Drawable\n     * @return Drawable\n     */\n    getDrawableRenderOrders() {\n        const renderOrders = this._model.drawables.renderOrders;\n        return renderOrders;\n    }\n    /**\n     * @deprecated\n     *  getDrawableTextureIndex \n     *\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableTextureIndices(drawableIndex) {\n        return this.getDrawableTextureIndex(drawableIndex);\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableTextureIndex(drawableIndex) {\n        const textureIndices = this._model.drawables.textureIndices;\n        return textureIndices[drawableIndex];\n    }\n    /**\n     * DrawableVertexPositions\n     *\n     * CubismModel.updateDrawable\n     *\n     * @param   drawableIndex   Drawable\n     * @retval  true    DrawableCubismModel.update\n     * @retval  false   DrawableCubismModel.update\n     */\n    getDrawableDynamicFlagVertexPositionsDidChange(drawableIndex) {\n        const dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(dynamicFlags[drawableIndex]);\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableVertexIndexCount(drawableIndex) {\n        const indexCounts = this._model.drawables.indexCounts;\n        return indexCounts[drawableIndex];\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableVertexCount(drawableIndex) {\n        const vertexCounts = this._model.drawables.vertexCounts;\n        return vertexCounts[drawableIndex];\n    }\n    /**\n     * Drawable\n     * @param drawableIndex drawable\n     * @return drawable\n     */\n    getDrawableVertices(drawableIndex) {\n        return this.getDrawableVertexPositions(drawableIndex);\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableVertexIndices(drawableIndex) {\n        const indicesArray = this._model.drawables.indices;\n        return indicesArray[drawableIndex];\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableVertexPositions(drawableIndex) {\n        const verticesArray = this._model.drawables.vertexPositions;\n        return verticesArray[drawableIndex];\n    }\n    /**\n     * DrawableUV\n     * @param drawableIndex Drawable\n     * @return drawableUV\n     */\n    getDrawableVertexUvs(drawableIndex) {\n        const uvsArray = this._model.drawables.vertexUvs;\n        return uvsArray[drawableIndex];\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableOpacity(drawableIndex) {\n        const opacities = this._model.drawables.opacities;\n        return opacities[drawableIndex];\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable(RGBA)\n     * RGBAA0\n     */\n    getDrawableMultiplyColor(drawableIndex) {\n        const multiplyColors = this._model.drawables.multiplyColors;\n        const index = drawableIndex * 4;\n        const multiplyColor = new cubismrenderer_1.CubismTextureColor();\n        multiplyColor.R = multiplyColors[index];\n        multiplyColor.G = multiplyColors[index + 1];\n        multiplyColor.B = multiplyColors[index + 2];\n        multiplyColor.A = multiplyColors[index + 3];\n        return multiplyColor;\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable(RGBA)\n     * RGBAA0\n     */\n    getDrawableScreenColor(drawableIndex) {\n        const screenColors = this._model.drawables.screenColors;\n        const index = drawableIndex * 4;\n        const screenColor = new cubismrenderer_1.CubismTextureColor();\n        screenColor.R = screenColors[index];\n        screenColor.G = screenColors[index + 1];\n        screenColor.B = screenColors[index + 2];\n        screenColor.A = screenColors[index + 3];\n        return screenColor;\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableParentPartIndex(drawableIndex) {\n        return this._model.drawables.parentPartIndices[drawableIndex];\n    }\n    /**\n     * Drawable\n     * @param drawableIndex Drawable\n     * @return drawable\n     */\n    getDrawableBlendMode(drawableIndex) {\n        const constantFlags = this._model.drawables.constantFlags;\n        return Live2DCubismCore.Utils.hasBlendAdditiveBit(constantFlags[drawableIndex])\n            ? cubismrenderer_1.CubismBlendMode.CubismBlendMode_Additive\n            : Live2DCubismCore.Utils.hasBlendMultiplicativeBit(constantFlags[drawableIndex])\n                ? cubismrenderer_1.CubismBlendMode.CubismBlendMode_Multiplicative\n                : cubismrenderer_1.CubismBlendMode.CubismBlendMode_Normal;\n    }\n    /**\n     * Drawable\n     *\n     * Drawable\n     * \n     *\n     * @param drawableIndex Drawable\n     * @return Drawable\n     */\n    getDrawableInvertedMaskBit(drawableIndex) {\n        const constantFlags = this._model.drawables.constantFlags;\n        return Live2DCubismCore.Utils.hasIsInvertedMaskBit(constantFlags[drawableIndex]);\n    }\n    /**\n     * Drawable\n     * @return Drawable\n     */\n    getDrawableMasks() {\n        const masks = this._model.drawables.masks;\n        return masks;\n    }\n    /**\n     * Drawable\n     * @return Drawable\n     */\n    getDrawableMaskCounts() {\n        const maskCounts = this._model.drawables.maskCounts;\n        return maskCounts;\n    }\n    /**\n     * \n     *\n     * @return true \n     * @return false \n     */\n    isUsingMasking() {\n        for (let d = 0; d < this._model.drawables.count; ++d) {\n            if (this._model.drawables.maskCounts[d] <= 0) {\n                continue;\n            }\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Drawable\n     *\n     * @param drawableIndex Drawable\n     * @return true Drawable\n     * @return false Drawable\n     */\n    getDrawableDynamicFlagIsVisible(drawableIndex) {\n        const dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasIsVisibleBit(dynamicFlags[drawableIndex]);\n    }\n    /**\n     * DrawableDrawOrder\n     *\n     * CubismModel.updatedrawabledrawOrder\n     * drawOrderartMesh01000\n     * @param drawableIndex drawable\n     * @return true drawableCubismModel.update\n     * @return false drawableCubismModel.update\n     */\n    getDrawableDynamicFlagVisibilityDidChange(drawableIndex) {\n        const dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(dynamicFlags[drawableIndex]);\n    }\n    /**\n     * Drawable\n     *\n     * CubismModel.updatedrawable\n     *\n     * @param drawableIndex drawable\n     * @return true DrawableCubismModel.update\n     * @return false DrawableCubismModel.update\n     */\n    getDrawableDynamicFlagOpacityDidChange(drawableIndex) {\n        const dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasOpacityDidChangeBit(dynamicFlags[drawableIndex]);\n    }\n    /**\n     * Drawable\n     *\n     * CubismModel.updateDrawable\n     *\n     * @param drawableIndex Drawable\n     * @return true DrawableCubismModel.update\n     * @return false DrawableCubismModel.update\n     */\n    getDrawableDynamicFlagRenderOrderDidChange(drawableIndex) {\n        const dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(dynamicFlags[drawableIndex]);\n    }\n    /**\n     * Drawable\n     *\n     * CubismModel.updateDrawable\n     *\n     * @param drawableIndex Drawable\n     * @return true DrawableCubismModel.update\n     * @return false DrawableCubismModel.update\n     */\n    getDrawableDynamicFlagBlendColorDidChange(drawableIndex) {\n        const dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasBlendColorDidChangeBit(dynamicFlags[drawableIndex]);\n    }\n    /**\n     * \n     */\n    loadParameters() {\n        let parameterCount = this._model.parameters.count;\n        const savedParameterCount = this._savedParameters.getSize();\n        if (parameterCount > savedParameterCount) {\n            parameterCount = savedParameterCount;\n        }\n        for (let i = 0; i < parameterCount; ++i) {\n            this._parameterValues[i] = this._savedParameters.at(i);\n        }\n    }\n    /**\n     * \n     */\n    initialize() {\n        (0, cubismdebug_1.CSM_ASSERT)(this._model);\n        this._parameterValues = this._model.parameters.values;\n        this._partOpacities = this._model.parts.opacities;\n        this._parameterMaximumValues = this._model.parameters.maximumValues;\n        this._parameterMinimumValues = this._model.parameters.minimumValues;\n        {\n            const parameterIds = this._model.parameters.ids;\n            const parameterCount = this._model.parameters.count;\n            this._parameterIds.prepareCapacity(parameterCount);\n            for (let i = 0; i < parameterCount; ++i) {\n                this._parameterIds.pushBack(live2dcubismframework_1.CubismFramework.getIdManager().getId(parameterIds[i]));\n            }\n        }\n        const partCount = this._model.parts.count;\n        {\n            const partIds = this._model.parts.ids;\n            this._partIds.prepareCapacity(partCount);\n            for (let i = 0; i < partCount; ++i) {\n                this._partIds.pushBack(live2dcubismframework_1.CubismFramework.getIdManager().getId(partIds[i]));\n            }\n            this._userPartMultiplyColors.prepareCapacity(partCount);\n            this._userPartScreenColors.prepareCapacity(partCount);\n            this._partChildDrawables.prepareCapacity(partCount);\n        }\n        {\n            const drawableIds = this._model.drawables.ids;\n            const drawableCount = this._model.drawables.count;\n            this._userMultiplyColors.prepareCapacity(drawableCount);\n            this._userScreenColors.prepareCapacity(drawableCount);\n            // \n            this._userCullings.prepareCapacity(drawableCount);\n            const userCulling = new DrawableCullingData(false, false);\n            // Part\n            {\n                for (let i = 0; i < partCount; ++i) {\n                    const multiplyColor = new cubismrenderer_1.CubismTextureColor(1.0, 1.0, 1.0, 1.0);\n                    const screenColor = new cubismrenderer_1.CubismTextureColor(0.0, 0.0, 0.0, 1.0);\n                    const userMultiplyColor = new PartColorData(false, multiplyColor);\n                    const userScreenColor = new PartColorData(false, screenColor);\n                    this._userPartMultiplyColors.pushBack(userMultiplyColor);\n                    this._userPartScreenColors.pushBack(userScreenColor);\n                    this._partChildDrawables.pushBack(new csmvector_1.csmVector());\n                    this._partChildDrawables.at(i).prepareCapacity(drawableCount);\n                }\n            }\n            // Drawables\n            {\n                for (let i = 0; i < drawableCount; ++i) {\n                    const multiplyColor = new cubismrenderer_1.CubismTextureColor(1.0, 1.0, 1.0, 1.0);\n                    const screenColor = new cubismrenderer_1.CubismTextureColor(0.0, 0.0, 0.0, 1.0);\n                    const userMultiplyColor = new DrawableColorData(false, multiplyColor);\n                    const userScreenColor = new DrawableColorData(false, screenColor);\n                    this._drawableIds.pushBack(live2dcubismframework_1.CubismFramework.getIdManager().getId(drawableIds[i]));\n                    this._userMultiplyColors.pushBack(userMultiplyColor);\n                    this._userScreenColors.pushBack(userScreenColor);\n                    this._userCullings.pushBack(userCulling);\n                    const parentIndex = this.getDrawableParentPartIndex(i);\n                    if (parentIndex >= 0) {\n                        this._partChildDrawables.at(parentIndex).pushBack(i);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * \n     * @param model \n     */\n    constructor(model) {\n        this._model = model;\n        this._parameterValues = null;\n        this._parameterMaximumValues = null;\n        this._parameterMinimumValues = null;\n        this._partOpacities = null;\n        this._savedParameters = new csmvector_1.csmVector();\n        this._parameterIds = new csmvector_1.csmVector();\n        this._drawableIds = new csmvector_1.csmVector();\n        this._partIds = new csmvector_1.csmVector();\n        this._isOverwrittenModelMultiplyColors = false;\n        this._isOverwrittenModelScreenColors = false;\n        this._isOverwrittenCullings = false;\n        this._modelOpacity = 1.0;\n        this._userMultiplyColors = new csmvector_1.csmVector();\n        this._userScreenColors = new csmvector_1.csmVector();\n        this._userCullings = new csmvector_1.csmVector();\n        this._userPartMultiplyColors = new csmvector_1.csmVector();\n        this._userPartScreenColors = new csmvector_1.csmVector();\n        this._partChildDrawables = new csmvector_1.csmVector();\n        this._notExistPartId = new csmmap_1.csmMap();\n        this._notExistParameterId = new csmmap_1.csmMap();\n        this._notExistParameterValues = new csmmap_1.csmMap();\n        this._notExistPartOpacities = new csmmap_1.csmMap();\n    }\n    /**\n     * \n     */\n    release() {\n        this._model.release();\n        this._model = null;\n    }\n}\nexports.CubismModel = CubismModel;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmodel */ \"./cubism/Framework/src/model/cubismmodel.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModel = $.CubismModel;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/model/cubismmodel.ts?");

/***/ }),

/***/ "./cubism/Framework/src/model/cubismmodeluserdata.ts":
/*!***********************************************************!*\
  !*** ./cubism/Framework/src/model/cubismmodeluserdata.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModelUserData = exports.CubismModelUserDataNode = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./cubism/Framework/src/type/csmstring.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismmodeluserdatajson_1 = __webpack_require__(/*! ./cubismmodeluserdatajson */ \"./cubism/Framework/src/model/cubismmodeluserdatajson.ts\");\nconst ArtMesh = 'ArtMesh';\n/**\n * \n *\n * Json\n */\nclass CubismModelUserDataNode {\n}\nexports.CubismModelUserDataNode = CubismModelUserDataNode;\n/**\n * \n *\n * \n */\nclass CubismModelUserData {\n    /**\n     * \n     *\n     * @param buffer    userdata3.json\n     * @param size      \n     * @return \n     */\n    static create(buffer, size) {\n        const ret = new CubismModelUserData();\n        ret.parseUserData(buffer, size);\n        return ret;\n    }\n    /**\n     * \n     *\n     * @param modelUserData \n     */\n    static delete(modelUserData) {\n        if (modelUserData != null) {\n            modelUserData.release();\n            modelUserData = null;\n        }\n    }\n    /**\n     * ArtMesh\n     *\n     * @return \n     */\n    getArtMeshUserDatas() {\n        return this._artMeshUserDataNode;\n    }\n    /**\n     * userdata3.json\n     *\n     * @param buffer    userdata3.json\n     * @param size      \n     */\n    parseUserData(buffer, size) {\n        let json = new cubismmodeluserdatajson_1.CubismModelUserDataJson(buffer, size);\n        const typeOfArtMesh = live2dcubismframework_1.CubismFramework.getIdManager().getId(ArtMesh);\n        const nodeCount = json.getUserDataCount();\n        for (let i = 0; i < nodeCount; i++) {\n            const addNode = new CubismModelUserDataNode();\n            addNode.targetId = json.getUserDataId(i);\n            addNode.targetType = live2dcubismframework_1.CubismFramework.getIdManager().getId(json.getUserDataTargetType(i));\n            addNode.value = new csmstring_1.csmString(json.getUserDataValue(i));\n            this._userDataNodes.pushBack(addNode);\n            if (addNode.targetType == typeOfArtMesh) {\n                this._artMeshUserDataNode.pushBack(addNode);\n            }\n        }\n        json.release();\n        json = void 0;\n    }\n    /**\n     * \n     */\n    constructor() {\n        this._userDataNodes = new csmvector_1.csmVector();\n        this._artMeshUserDataNode = new csmvector_1.csmVector();\n    }\n    /**\n     * \n     *\n     * \n     */\n    release() {\n        for (let i = 0; i < this._userDataNodes.getSize(); ++i) {\n            this._userDataNodes.set(i, null);\n        }\n        this._userDataNodes = null;\n    }\n}\nexports.CubismModelUserData = CubismModelUserData;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmodeluserdata */ \"./cubism/Framework/src/model/cubismmodeluserdata.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModelUserData = $.CubismModelUserData;\n    Live2DCubismFramework.CubismModelUserDataNode = $.CubismModelUserDataNode;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/model/cubismmodeluserdata.ts?");

/***/ }),

/***/ "./cubism/Framework/src/model/cubismmodeluserdatajson.ts":
/*!***************************************************************!*\
  !*** ./cubism/Framework/src/model/cubismmodeluserdatajson.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModelUserDataJson = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\nconst Meta = 'Meta';\nconst UserDataCount = 'UserDataCount';\nconst TotalUserDataSize = 'TotalUserDataSize';\nconst UserData = 'UserData';\nconst Target = 'Target';\nconst Id = 'Id';\nconst Value = 'Value';\nclass CubismModelUserDataJson {\n    /**\n     * \n     * @param buffer    userdata3.json\n     * @param size      \n     */\n    constructor(buffer, size) {\n        this._json = cubismjson_1.CubismJson.create(buffer, size);\n    }\n    /**\n     * \n     */\n    release() {\n        cubismjson_1.CubismJson.delete(this._json);\n    }\n    /**\n     * \n     * @return \n     */\n    getUserDataCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(UserDataCount)\n            .toInt();\n    }\n    /**\n     * \n     *\n     * @return \n     */\n    getTotalUserDataSize() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalUserDataSize)\n            .toInt();\n    }\n    /**\n     * \n     *\n     * @return \n     */\n    getUserDataTargetType(i) {\n        return this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(i)\n            .getValueByString(Target)\n            .getRawString();\n    }\n    /**\n     * ID\n     *\n     * @param i \n     * @return ID\n     */\n    getUserDataId(i) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(i)\n            .getValueByString(Id)\n            .getRawString());\n    }\n    /**\n     * \n     *\n     * @param i \n     * @return \n     */\n    getUserDataValue(i) {\n        return this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(i)\n            .getValueByString(Value)\n            .getRawString();\n    }\n}\nexports.CubismModelUserDataJson = CubismModelUserDataJson;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmodeluserdatajson */ \"./cubism/Framework/src/model/cubismmodeluserdatajson.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModelUserDataJson = $.CubismModelUserDataJson;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/model/cubismmodeluserdatajson.ts?");

/***/ }),

/***/ "./cubism/Framework/src/model/cubismusermodel.ts":
/*!*******************************************************!*\
  !*** ./cubism/Framework/src/model/cubismusermodel.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismUserModel = void 0;\nconst cubismbreath_1 = __webpack_require__(/*! ../effect/cubismbreath */ \"./cubism/Framework/src/effect/cubismbreath.ts\");\nconst cubismeyeblink_1 = __webpack_require__(/*! ../effect/cubismeyeblink */ \"./cubism/Framework/src/effect/cubismeyeblink.ts\");\nconst cubismpose_1 = __webpack_require__(/*! ../effect/cubismpose */ \"./cubism/Framework/src/effect/cubismpose.ts\");\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst cubismmodelmatrix_1 = __webpack_require__(/*! ../math/cubismmodelmatrix */ \"./cubism/Framework/src/math/cubismmodelmatrix.ts\");\nconst cubismtargetpoint_1 = __webpack_require__(/*! ../math/cubismtargetpoint */ \"./cubism/Framework/src/math/cubismtargetpoint.ts\");\nconst cubismexpressionmotion_1 = __webpack_require__(/*! ../motion/cubismexpressionmotion */ \"./cubism/Framework/src/motion/cubismexpressionmotion.ts\");\nconst cubismmotion_1 = __webpack_require__(/*! ../motion/cubismmotion */ \"./cubism/Framework/src/motion/cubismmotion.ts\");\nconst cubismmotionmanager_1 = __webpack_require__(/*! ../motion/cubismmotionmanager */ \"./cubism/Framework/src/motion/cubismmotionmanager.ts\");\nconst cubismphysics_1 = __webpack_require__(/*! ../physics/cubismphysics */ \"./cubism/Framework/src/physics/cubismphysics.ts\");\nconst cubismrenderer_webgl_1 = __webpack_require__(/*! ../rendering/cubismrenderer_webgl */ \"./cubism/Framework/src/rendering/cubismrenderer_webgl.ts\");\nconst cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\nconst cubismmoc_1 = __webpack_require__(/*! ./cubismmoc */ \"./cubism/Framework/src/model/cubismmoc.ts\");\nconst cubismmodeluserdata_1 = __webpack_require__(/*! ./cubismmodeluserdata */ \"./cubism/Framework/src/model/cubismmodeluserdata.ts\");\n/**\n * \n *\n * \n */\nclass CubismUserModel {\n    /**\n     * \n     *\n     * \n     *\n     * @return true     \n     * @return false    \n     */\n    isInitialized() {\n        return this._initialized;\n    }\n    /**\n     * \n     *\n     * \n     *\n     * @param v \n     */\n    setInitialized(v) {\n        this._initialized = v;\n    }\n    /**\n     * \n     *\n     * \n     *\n     * @return true     \n     * @return false    \n     */\n    isUpdating() {\n        return this._updating;\n    }\n    /**\n     * \n     *\n     * \n     *\n     * @param v \n     */\n    setUpdating(v) {\n        this._updating = v;\n    }\n    /**\n     * \n     * @param X\n     * @param Y\n     */\n    setDragging(x, y) {\n        this._dragManager.set(x, y);\n    }\n    /**\n     * \n     * @param x X\n     * @param y Y\n     * @param z Z\n     */\n    setAcceleration(x, y, z) {\n        this._accelerationX = x;\n        this._accelerationY = y;\n        this._accelerationZ = z;\n    }\n    /**\n     * \n     * @return \n     */\n    getModelMatrix() {\n        return this._modelMatrix;\n    }\n    /**\n     * \n     * @param a \n     */\n    setOpacity(a) {\n        this._opacity = a;\n    }\n    /**\n     * \n     * @return \n     */\n    getOpacity() {\n        return this._opacity;\n    }\n    /**\n     * \n     *\n     * @param buffer    moc3\n     */\n    loadModel(buffer, shouldCheckMocConsistency = false) {\n        this._moc = cubismmoc_1.CubismMoc.create(buffer, shouldCheckMocConsistency);\n        if (this._moc == null) {\n            (0, cubismdebug_1.CubismLogError)('Failed to CubismMoc.create().');\n            return;\n        }\n        this._model = this._moc.createModel();\n        if (this._model == null) {\n            (0, cubismdebug_1.CubismLogError)('Failed to CreateModel().');\n            return;\n        }\n        this._model.saveParameters();\n        this._modelMatrix = new cubismmodelmatrix_1.CubismModelMatrix(this._model.getCanvasWidth(), this._model.getCanvasHeight());\n    }\n    /**\n     * \n     * @param buffer exp\n     * @param size \n     * @param name \n     */\n    loadExpression(buffer, size, name) {\n        return cubismexpressionmotion_1.CubismExpressionMotion.create(buffer, size);\n    }\n    /**\n     * \n     * @param buffer pose3.json\n     * @param size \n     */\n    loadPose(buffer, size) {\n        this._pose = cubismpose_1.CubismPose.create(buffer, size);\n    }\n    /**\n     * \n     * @param buffer userdata3.json\n     * @param size \n     */\n    loadUserData(buffer, size) {\n        this._modelUserData = cubismmodeluserdata_1.CubismModelUserData.create(buffer, size);\n    }\n    /**\n     * \n     * @param buffer  physics3.json\n     * @param size    \n     */\n    loadPhysics(buffer, size) {\n        this._physics = cubismphysics_1.CubismPhysics.create(buffer, size);\n    }\n    /**\n     * \n     * @param drawableId DrawableID\n     * @param pointX X\n     * @param pointY Y\n     * @return true \n     * @return false \n     */\n    isHit(drawableId, pointX, pointY) {\n        const drawIndex = this._model.getDrawableIndex(drawableId);\n        if (drawIndex < 0) {\n            return false; // false\n        }\n        const count = this._model.getDrawableVertexCount(drawIndex);\n        const vertices = this._model.getDrawableVertices(drawIndex);\n        let left = vertices[0];\n        let right = vertices[0];\n        let top = vertices[1];\n        let bottom = vertices[1];\n        for (let j = 1; j < count; ++j) {\n            const x = vertices[live2dcubismframework_1.Constant.vertexOffset + j * live2dcubismframework_1.Constant.vertexStep];\n            const y = vertices[live2dcubismframework_1.Constant.vertexOffset + j * live2dcubismframework_1.Constant.vertexStep + 1];\n            if (x < left) {\n                left = x; // Min x\n            }\n            if (x > right) {\n                right = x; // Max x\n            }\n            if (y < top) {\n                top = y; // Min y\n            }\n            if (y > bottom) {\n                bottom = y; // Max y\n            }\n        }\n        const tx = this._modelMatrix.invertTransformX(pointX);\n        const ty = this._modelMatrix.invertTransformY(pointY);\n        return left <= tx && tx <= right && top <= ty && ty <= bottom;\n    }\n    /**\n     * \n     * @return \n     */\n    getModel() {\n        return this._model;\n    }\n    /**\n     * \n     * @return \n     */\n    getRenderer() {\n        return this._renderer;\n    }\n    /**\n     * \n     * @param maskBufferCount \n     */\n    createRenderer(maskBufferCount = 1) {\n        if (this._renderer) {\n            this.deleteRenderer();\n        }\n        this._renderer = new cubismrenderer_webgl_1.CubismRenderer_WebGL();\n        this._renderer.initialize(this._model, maskBufferCount);\n    }\n    /**\n     * \n     */\n    deleteRenderer() {\n        if (this._renderer != null) {\n            this._renderer.release();\n            this._renderer = null;\n        }\n    }\n    /**\n     * \n     *\n     * Event\n     * \n     * \n     *\n     * @param eventValue \n     */\n    motionEventFired(eventValue) {\n        (0, cubismdebug_1.CubismLogInfo)('{0}', eventValue.s);\n    }\n    /**\n     * \n     *\n     * CubismMotionQueueManagerCallback\n     * CubismUserModelEventFired\n     *\n     * @param caller \n     * @param eventValue \n     * @param customData CubismUserModel\n     */\n    static cubismDefaultMotionEventCallback(caller, eventValue, customData) {\n        const model = customData;\n        if (model != null) {\n            model.motionEventFired(eventValue);\n        }\n    }\n    /**\n     * \n     */\n    constructor() {\n        /**\n         * \n         * @param buffer motion3.json\n         * @param size \n         * @param name \n         * @param onFinishedMotionHandler \n         * @return \n         */\n        this.loadMotion = (buffer, size, name, onFinishedMotionHandler) => cubismmotion_1.CubismMotion.create(buffer, size, onFinishedMotionHandler);\n        // \n        this._moc = null;\n        this._model = null;\n        this._motionManager = null;\n        this._expressionManager = null;\n        this._eyeBlink = null;\n        this._breath = null;\n        this._modelMatrix = null;\n        this._pose = null;\n        this._dragManager = null;\n        this._physics = null;\n        this._modelUserData = null;\n        this._initialized = false;\n        this._updating = false;\n        this._opacity = 1.0;\n        this._lipsync = true;\n        this._lastLipSyncValue = 0.0;\n        this._dragX = 0.0;\n        this._dragY = 0.0;\n        this._accelerationX = 0.0;\n        this._accelerationY = 0.0;\n        this._accelerationZ = 0.0;\n        this._mocConsistency = false;\n        this._debugMode = false;\n        this._renderer = null;\n        // \n        this._motionManager = new cubismmotionmanager_1.CubismMotionManager();\n        this._motionManager.setEventCallback(CubismUserModel.cubismDefaultMotionEventCallback, this);\n        // \n        this._expressionManager = new cubismmotionmanager_1.CubismMotionManager();\n        // \n        this._dragManager = new cubismtargetpoint_1.CubismTargetPoint();\n    }\n    /**\n     * \n     */\n    release() {\n        if (this._motionManager != null) {\n            this._motionManager.release();\n            this._motionManager = null;\n        }\n        if (this._expressionManager != null) {\n            this._expressionManager.release();\n            this._expressionManager = null;\n        }\n        if (this._moc != null) {\n            this._moc.deleteModel(this._model);\n            this._moc.release();\n            this._moc = null;\n        }\n        this._modelMatrix = null;\n        cubismpose_1.CubismPose.delete(this._pose);\n        cubismeyeblink_1.CubismEyeBlink.delete(this._eyeBlink);\n        cubismbreath_1.CubismBreath.delete(this._breath);\n        this._dragManager = null;\n        cubismphysics_1.CubismPhysics.delete(this._physics);\n        cubismmodeluserdata_1.CubismModelUserData.delete(this._modelUserData);\n        this.deleteRenderer();\n    }\n}\nexports.CubismUserModel = CubismUserModel;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismusermodel */ \"./cubism/Framework/src/model/cubismusermodel.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismUserModel = $.CubismUserModel;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/model/cubismusermodel.ts?");

/***/ }),

/***/ "./cubism/Framework/src/motion/acubismmotion.ts":
/*!******************************************************!*\
  !*** ./cubism/Framework/src/motion/acubismmotion.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.ACubismMotion = void 0;\nconst cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./cubism/Framework/src/math/cubismmath.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\n/**\n * \n *\n * MotionQueueManager\n */\nclass ACubismMotion {\n    /**\n     * \n     */\n    static delete(motion) {\n        motion.release();\n        motion = null;\n    }\n    /**\n     * \n     */\n    constructor() {\n        /**\n         * \n         *\n         * \n         * isFinished\n         * :\n         *   1. \n         *   2. \n         *\n         * @param onFinishedMotionHandler \n         */\n        this.setFinishedMotionHandler = (onFinishedMotionHandler) => (this._onFinishedMotion = onFinishedMotionHandler);\n        /**\n         * \n         *\n         * \n         *\n         * @return \n         */\n        this.getFinishedMotionHandler = () => this._onFinishedMotion;\n        this._fadeInSeconds = -1.0;\n        this._fadeOutSeconds = -1.0;\n        this._weight = 1.0;\n        this._offsetSeconds = 0.0; // \n        this._firedEventValues = new csmvector_1.csmVector();\n    }\n    /**\n     * \n     */\n    release() {\n        this._weight = 0.0;\n    }\n    /**\n     * \n     * @param model \n     * @param motionQueueEntry CubismMotionQueueManager\n     * @param userTimeSeconds []\n     */\n    updateParameters(model, motionQueueEntry, userTimeSeconds) {\n        if (!motionQueueEntry.isAvailable() || motionQueueEntry.isFinished()) {\n            return;\n        }\n        if (!motionQueueEntry.isStarted()) {\n            motionQueueEntry.setIsStarted(true);\n            motionQueueEntry.setStartTime(userTimeSeconds - this._offsetSeconds); // \n            motionQueueEntry.setFadeInStartTime(userTimeSeconds); // \n            const duration = this.getDuration();\n            if (motionQueueEntry.getEndTime() < 0) {\n                // \n                motionQueueEntry.setEndTime(duration <= 0 ? -1 : motionQueueEntry.getStartTime() + duration);\n                // duration == -1 \n            }\n        }\n        let fadeWeight = this._weight; // \n        //----  ----\n        // \n        const fadeIn = this._fadeInSeconds == 0.0\n            ? 1.0\n            : cubismmath_1.CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                this._fadeInSeconds);\n        const fadeOut = this._fadeOutSeconds == 0.0 || motionQueueEntry.getEndTime() < 0.0\n            ? 1.0\n            : cubismmath_1.CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                this._fadeOutSeconds);\n        fadeWeight = fadeWeight * fadeIn * fadeOut;\n        motionQueueEntry.setState(userTimeSeconds, fadeWeight);\n        (0, cubismdebug_1.CSM_ASSERT)(0.0 <= fadeWeight && fadeWeight <= 1.0);\n        //---- ID ----\n        this.doUpdateParameters(model, userTimeSeconds, fadeWeight, motionQueueEntry);\n        // \n        // (CubismMotionQueueManager)\n        if (motionQueueEntry.getEndTime() > 0 &&\n            motionQueueEntry.getEndTime() < userTimeSeconds) {\n            motionQueueEntry.setIsFinished(true); // \n        }\n    }\n    /**\n     * \n     * @param fadeInSeconds []\n     */\n    setFadeInTime(fadeInSeconds) {\n        this._fadeInSeconds = fadeInSeconds;\n    }\n    /**\n     * \n     * @param fadeOutSeconds []\n     */\n    setFadeOutTime(fadeOutSeconds) {\n        this._fadeOutSeconds = fadeOutSeconds;\n    }\n    /**\n     * \n     * @return []\n     */\n    getFadeOutTime() {\n        return this._fadeOutSeconds;\n    }\n    /**\n     * \n     * @return []\n     */\n    getFadeInTime() {\n        return this._fadeInSeconds;\n    }\n    /**\n     * \n     * @param weight 0.0 - 1.0\n     */\n    setWeight(weight) {\n        this._weight = weight;\n    }\n    /**\n     * \n     * @return 0.0 - 1.0\n     */\n    getWeight() {\n        return this._weight;\n    }\n    /**\n     * \n     * @return []\n     *\n     * @note -1\n     *       \n     *       \n     *       -1\n     */\n    getDuration() {\n        return -1.0;\n    }\n    /**\n     * 1\n     * @return []\n     *\n     * @note getDuration()\n     *       ()-1\n     */\n    getLoopDuration() {\n        return -1.0;\n    }\n    /**\n     * \n     * @param offsetSeconds []\n     */\n    setOffsetTime(offsetSeconds) {\n        this._offsetSeconds = offsetSeconds;\n    }\n    /**\n     * \n     *\n     * \n     * \n     *\n     * @param beforeCheckTimeSeconds []\n     * @param motionTimeSeconds []\n     */\n    getFiredEvent(beforeCheckTimeSeconds, motionTimeSeconds) {\n        return this._firedEventValues;\n    }\n    /**\n     * \n     *\n     * @returns true  -> \n     *          false -> \n     */\n    isExistModelOpacity() {\n        return false;\n    }\n    /**\n     * \n     *\n     * @returns success:\n     */\n    getModelOpacityIndex() {\n        return -1;\n    }\n    /**\n     * Id\n     *\n     * @param index \n     * @returns success:Id\n     */\n    getModelOpacityId(index) {\n        return null;\n    }\n    /**\n     * \n     *\n     * @returns success:Opacity\n     *\n     * @note  UpdateParameters() \n     */\n    getModelOpacityValue() {\n        return 1.0;\n    }\n}\nexports.ACubismMotion = ACubismMotion;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./acubismmotion */ \"./cubism/Framework/src/motion/acubismmotion.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.ACubismMotion = $.ACubismMotion;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/motion/acubismmotion.ts?");

/***/ }),

/***/ "./cubism/Framework/src/motion/cubismexpressionmotion.ts":
/*!***************************************************************!*\
  !*** ./cubism/Framework/src/motion/cubismexpressionmotion.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.ExpressionParameter = exports.ExpressionBlendType = exports.CubismExpressionMotion = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\nconst acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./cubism/Framework/src/motion/acubismmotion.ts\");\n// exp3.json\nconst ExpressionKeyFadeIn = 'FadeInTime';\nconst ExpressionKeyFadeOut = 'FadeOutTime';\nconst ExpressionKeyParameters = 'Parameters';\nconst ExpressionKeyId = 'Id';\nconst ExpressionKeyValue = 'Value';\nconst ExpressionKeyBlend = 'Blend';\nconst BlendValueAdd = 'Add';\nconst BlendValueMultiply = 'Multiply';\nconst BlendValueOverwrite = 'Overwrite';\nconst DefaultFadeTime = 1.0;\n/**\n * \n *\n * \n */\nclass CubismExpressionMotion extends acubismmotion_1.ACubismMotion {\n    /**\n     * \n     * @param buffer exp\n     * @param size \n     * @return \n     */\n    static create(buffer, size) {\n        const expression = new CubismExpressionMotion();\n        expression.parse(buffer, size);\n        return expression;\n    }\n    /**\n     * \n     * @param model \n     * @param userTimeSeconds []\n     * @param weight \n     * @param motionQueueEntry CubismMotionQueueManager\n     */\n    doUpdateParameters(model, userTimeSeconds, weight, motionQueueEntry) {\n        for (let i = 0; i < this._parameters.getSize(); ++i) {\n            const parameter = this._parameters.at(i);\n            switch (parameter.blendType) {\n                case ExpressionBlendType.ExpressionBlendType_Add: {\n                    model.addParameterValueById(parameter.parameterId, parameter.value, weight);\n                    break;\n                }\n                case ExpressionBlendType.ExpressionBlendType_Multiply: {\n                    model.multiplyParameterValueById(parameter.parameterId, parameter.value, weight);\n                    break;\n                }\n                case ExpressionBlendType.ExpressionBlendType_Overwrite: {\n                    model.setParameterValueById(parameter.parameterId, parameter.value, weight);\n                    break;\n                }\n                default:\n                    // \n                    break;\n            }\n        }\n    }\n    parse(buffer, size) {\n        const json = cubismjson_1.CubismJson.create(buffer, size);\n        const root = json.getRoot();\n        this.setFadeInTime(root.getValueByString(ExpressionKeyFadeIn).toFloat(DefaultFadeTime)); // \n        this.setFadeOutTime(root.getValueByString(ExpressionKeyFadeOut).toFloat(DefaultFadeTime)); // \n        // \n        const parameterCount = root\n            .getValueByString(ExpressionKeyParameters)\n            .getSize();\n        this._parameters.prepareCapacity(parameterCount);\n        for (let i = 0; i < parameterCount; ++i) {\n            const param = root\n                .getValueByString(ExpressionKeyParameters)\n                .getValueByIndex(i);\n            const parameterId = live2dcubismframework_1.CubismFramework.getIdManager().getId(param.getValueByString(ExpressionKeyId).getRawString()); // ID\n            const value = param\n                .getValueByString(ExpressionKeyValue)\n                .toFloat(); // \n            // \n            let blendType;\n            if (param.getValueByString(ExpressionKeyBlend).isNull() ||\n                param.getValueByString(ExpressionKeyBlend).getString() == BlendValueAdd) {\n                blendType = ExpressionBlendType.ExpressionBlendType_Add;\n            }\n            else if (param.getValueByString(ExpressionKeyBlend).getString() ==\n                BlendValueMultiply) {\n                blendType = ExpressionBlendType.ExpressionBlendType_Multiply;\n            }\n            else if (param.getValueByString(ExpressionKeyBlend).getString() ==\n                BlendValueOverwrite) {\n                blendType = ExpressionBlendType.ExpressionBlendType_Overwrite;\n            }\n            else {\n                //  \n                blendType = ExpressionBlendType.ExpressionBlendType_Add;\n            }\n            // \n            const item = new ExpressionParameter();\n            item.parameterId = parameterId;\n            item.blendType = blendType;\n            item.value = value;\n            this._parameters.pushBack(item);\n        }\n        cubismjson_1.CubismJson.delete(json); // JSON\n    }\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._parameters = new csmvector_1.csmVector();\n    }\n}\nexports.CubismExpressionMotion = CubismExpressionMotion;\n/**\n * \n */\nvar ExpressionBlendType;\n(function (ExpressionBlendType) {\n    ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Add\"] = 0] = \"ExpressionBlendType_Add\";\n    ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Multiply\"] = 1] = \"ExpressionBlendType_Multiply\";\n    ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Overwrite\"] = 2] = \"ExpressionBlendType_Overwrite\";\n})(ExpressionBlendType || (exports.ExpressionBlendType = ExpressionBlendType = {}));\n/**\n * \n */\nclass ExpressionParameter {\n}\nexports.ExpressionParameter = ExpressionParameter;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismexpressionmotion */ \"./cubism/Framework/src/motion/cubismexpressionmotion.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismExpressionMotion = $.CubismExpressionMotion;\n    Live2DCubismFramework.ExpressionBlendType = $.ExpressionBlendType;\n    Live2DCubismFramework.ExpressionParameter = $.ExpressionParameter;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/motion/cubismexpressionmotion.ts?");

/***/ }),

/***/ "./cubism/Framework/src/motion/cubismmotion.ts":
/*!*****************************************************!*\
  !*** ./cubism/Framework/src/motion/cubismmotion.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMotion = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./cubism/Framework/src/math/cubismmath.ts\");\nconst csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./cubism/Framework/src/type/csmstring.ts\");\nconst cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\nconst acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./cubism/Framework/src/motion/acubismmotion.ts\");\nconst cubismmotioninternal_1 = __webpack_require__(/*! ./cubismmotioninternal */ \"./cubism/Framework/src/motion/cubismmotioninternal.ts\");\nconst cubismmotionjson_1 = __webpack_require__(/*! ./cubismmotionjson */ \"./cubism/Framework/src/motion/cubismmotionjson.ts\");\nconst EffectNameEyeBlink = 'EyeBlink';\nconst EffectNameLipSync = 'LipSync';\nconst TargetNameModel = 'Model';\nconst TargetNameParameter = 'Parameter';\nconst TargetNamePartOpacity = 'PartOpacity';\n// Id\nconst IdNameOpacity = 'Opacity';\n/**\n * Cubism SDK R2  true  false \n */\nconst UseOldBeziersCurveMotion = false;\nfunction lerpPoints(a, b, t) {\n    const result = new cubismmotioninternal_1.CubismMotionPoint();\n    result.time = a.time + (b.time - a.time) * t;\n    result.value = a.value + (b.value - a.value) * t;\n    return result;\n}\nfunction linearEvaluate(points, time) {\n    let t = (time - points[0].time) / (points[1].time - points[0].time);\n    if (t < 0.0) {\n        t = 0.0;\n    }\n    return points[0].value + (points[1].value - points[0].value) * t;\n}\nfunction bezierEvaluate(points, time) {\n    let t = (time - points[0].time) / (points[3].time - points[0].time);\n    if (t < 0.0) {\n        t = 0.0;\n    }\n    const p01 = lerpPoints(points[0], points[1], t);\n    const p12 = lerpPoints(points[1], points[2], t);\n    const p23 = lerpPoints(points[2], points[3], t);\n    const p012 = lerpPoints(p01, p12, t);\n    const p123 = lerpPoints(p12, p23, t);\n    return lerpPoints(p012, p123, t).value;\n}\nfunction bezierEvaluateBinarySearch(points, time) {\n    const x_error = 0.01;\n    const x = time;\n    let x1 = points[0].time;\n    let x2 = points[3].time;\n    let cx1 = points[1].time;\n    let cx2 = points[2].time;\n    let ta = 0.0;\n    let tb = 1.0;\n    let t = 0.0;\n    let i = 0;\n    for (let var33 = true; i < 20; ++i) {\n        if (x < x1 + x_error) {\n            t = ta;\n            break;\n        }\n        if (x2 - x_error < x) {\n            t = tb;\n            break;\n        }\n        let centerx = (cx1 + cx2) * 0.5;\n        cx1 = (x1 + cx1) * 0.5;\n        cx2 = (x2 + cx2) * 0.5;\n        const ctrlx12 = (cx1 + centerx) * 0.5;\n        const ctrlx21 = (cx2 + centerx) * 0.5;\n        centerx = (ctrlx12 + ctrlx21) * 0.5;\n        if (x < centerx) {\n            tb = (ta + tb) * 0.5;\n            if (centerx - x_error < x) {\n                t = tb;\n                break;\n            }\n            x2 = centerx;\n            cx2 = ctrlx12;\n        }\n        else {\n            ta = (ta + tb) * 0.5;\n            if (x < centerx + x_error) {\n                t = ta;\n                break;\n            }\n            x1 = centerx;\n            cx1 = ctrlx21;\n        }\n    }\n    if (i == 20) {\n        t = (ta + tb) * 0.5;\n    }\n    if (t < 0.0) {\n        t = 0.0;\n    }\n    if (t > 1.0) {\n        t = 1.0;\n    }\n    const p01 = lerpPoints(points[0], points[1], t);\n    const p12 = lerpPoints(points[1], points[2], t);\n    const p23 = lerpPoints(points[2], points[3], t);\n    const p012 = lerpPoints(p01, p12, t);\n    const p123 = lerpPoints(p12, p23, t);\n    return lerpPoints(p012, p123, t).value;\n}\nfunction bezierEvaluateCardanoInterpretation(points, time) {\n    const x = time;\n    const x1 = points[0].time;\n    const x2 = points[3].time;\n    const cx1 = points[1].time;\n    const cx2 = points[2].time;\n    const a = x2 - 3.0 * cx2 + 3.0 * cx1 - x1;\n    const b = 3.0 * cx2 - 6.0 * cx1 + 3.0 * x1;\n    const c = 3.0 * cx1 - 3.0 * x1;\n    const d = x1 - x;\n    const t = cubismmath_1.CubismMath.cardanoAlgorithmForBezier(a, b, c, d);\n    const p01 = lerpPoints(points[0], points[1], t);\n    const p12 = lerpPoints(points[1], points[2], t);\n    const p23 = lerpPoints(points[2], points[3], t);\n    const p012 = lerpPoints(p01, p12, t);\n    const p123 = lerpPoints(p12, p23, t);\n    return lerpPoints(p012, p123, t).value;\n}\nfunction steppedEvaluate(points, time) {\n    return points[0].value;\n}\nfunction inverseSteppedEvaluate(points, time) {\n    return points[1].value;\n}\nfunction evaluateCurve(motionData, index, time) {\n    // Find segment to evaluate.\n    const curve = motionData.curves.at(index);\n    let target = -1;\n    const totalSegmentCount = curve.baseSegmentIndex + curve.segmentCount;\n    let pointPosition = 0;\n    for (let i = curve.baseSegmentIndex; i < totalSegmentCount; ++i) {\n        // Get first point of next segment.\n        pointPosition =\n            motionData.segments.at(i).basePointIndex +\n                (motionData.segments.at(i).segmentType ==\n                    cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Bezier\n                    ? 3\n                    : 1);\n        // Break if time lies within current segment.\n        if (motionData.points.at(pointPosition).time > time) {\n            target = i;\n            break;\n        }\n    }\n    if (target == -1) {\n        return motionData.points.at(pointPosition).value;\n    }\n    const segment = motionData.segments.at(target);\n    return segment.evaluate(motionData.points.get(segment.basePointIndex), time);\n}\n/**\n * \n *\n * \n */\nclass CubismMotion extends acubismmotion_1.ACubismMotion {\n    /**\n     * \n     *\n     * @param buffer motion3.json\n     * @param size \n     * @param onFinishedMotionHandler \n     * @return \n     */\n    static create(buffer, size, onFinishedMotionHandler) {\n        const ret = new CubismMotion();\n        ret.parse(buffer, size);\n        ret._sourceFrameRate = ret._motionData.fps;\n        ret._loopDurationSeconds = ret._motionData.duration;\n        ret._onFinishedMotion = onFinishedMotionHandler;\n        // NOTE: Editor\n        // ret->_loop = (ret->_motionData->Loop > 0);\n        return ret;\n    }\n    /**\n     * \n     * @param model             \n     * @param userTimeSeconds   []\n     * @param fadeWeight        \n     * @param motionQueueEntry  CubismMotionQueueManager\n     */\n    doUpdateParameters(model, userTimeSeconds, fadeWeight, motionQueueEntry) {\n        if (this._modelCurveIdEyeBlink == null) {\n            this._modelCurveIdEyeBlink =\n                live2dcubismframework_1.CubismFramework.getIdManager().getId(EffectNameEyeBlink);\n        }\n        if (this._modelCurveIdLipSync == null) {\n            this._modelCurveIdLipSync =\n                live2dcubismframework_1.CubismFramework.getIdManager().getId(EffectNameLipSync);\n        }\n        if (this._modelCurveIdOpacity == null) {\n            this._modelCurveIdOpacity =\n                live2dcubismframework_1.CubismFramework.getIdManager().getId(IdNameOpacity);\n        }\n        let timeOffsetSeconds = userTimeSeconds - motionQueueEntry.getStartTime();\n        if (timeOffsetSeconds < 0.0) {\n            timeOffsetSeconds = 0.0; // \n        }\n        let lipSyncValue = Number.MAX_VALUE;\n        let eyeBlinkValue = Number.MAX_VALUE;\n        //maxFlagCount\n        const MaxTargetSize = 64;\n        let lipSyncFlags = 0;\n        let eyeBlinkFlags = 0;\n        //\n        if (this._eyeBlinkParameterIds.getSize() > MaxTargetSize) {\n            (0, cubismdebug_1.CubismLogDebug)('too many eye blink targets : {0}', this._eyeBlinkParameterIds.getSize());\n        }\n        if (this._lipSyncParameterIds.getSize() > MaxTargetSize) {\n            (0, cubismdebug_1.CubismLogDebug)('too many lip sync targets : {0}', this._lipSyncParameterIds.getSize());\n        }\n        const tmpFadeIn = this._fadeInSeconds <= 0.0\n            ? 1.0\n            : cubismmath_1.CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                this._fadeInSeconds);\n        const tmpFadeOut = this._fadeOutSeconds <= 0.0 || motionQueueEntry.getEndTime() < 0.0\n            ? 1.0\n            : cubismmath_1.CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                this._fadeOutSeconds);\n        let value;\n        let c, parameterIndex;\n        // 'Repeat' time as necessary.\n        let time = timeOffsetSeconds;\n        if (this._isLoop) {\n            while (time > this._motionData.duration) {\n                time -= this._motionData.duration;\n            }\n        }\n        const curves = this._motionData.curves;\n        // Evaluate model curves.\n        for (c = 0; c < this._motionData.curveCount &&\n            curves.at(c).type ==\n                cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model; ++c) {\n            // Evaluate curve and call handler.\n            value = evaluateCurve(this._motionData, c, time);\n            if (curves.at(c).id == this._modelCurveIdEyeBlink) {\n                eyeBlinkValue = value;\n            }\n            else if (curves.at(c).id == this._modelCurveIdLipSync) {\n                lipSyncValue = value;\n            }\n            else if (curves.at(c).id == this._modelCurveIdOpacity) {\n                this._modelOpacity = value;\n                model.setModelOapcity(this.getModelOpacityValue());\n            }\n        }\n        let parameterMotionCurveCount = 0;\n        for (; c < this._motionData.curveCount &&\n            curves.at(c).type ==\n                cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter; ++c) {\n            parameterMotionCurveCount++;\n            // Find parameter index.\n            parameterIndex = model.getParameterIndex(curves.at(c).id);\n            // Skip curve evaluation if no value in sink.\n            if (parameterIndex == -1) {\n                continue;\n            }\n            const sourceValue = model.getParameterValueByIndex(parameterIndex);\n            // Evaluate curve and apply value.\n            value = evaluateCurve(this._motionData, c, time);\n            if (eyeBlinkValue != Number.MAX_VALUE) {\n                for (let i = 0; i < this._eyeBlinkParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                    if (this._eyeBlinkParameterIds.at(i) == curves.at(c).id) {\n                        value *= eyeBlinkValue;\n                        eyeBlinkFlags |= 1 << i;\n                        break;\n                    }\n                }\n            }\n            if (lipSyncValue != Number.MAX_VALUE) {\n                for (let i = 0; i < this._lipSyncParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                    if (this._lipSyncParameterIds.at(i) == curves.at(c).id) {\n                        value += lipSyncValue;\n                        lipSyncFlags |= 1 << i;\n                        break;\n                    }\n                }\n            }\n            let v;\n            // \n            if (curves.at(c).fadeInTime < 0.0 && curves.at(c).fadeOutTime < 0.0) {\n                // \n                v = sourceValue + (value - sourceValue) * fadeWeight;\n            }\n            else {\n                // \n                let fin;\n                let fout;\n                if (curves.at(c).fadeInTime < 0.0) {\n                    fin = tmpFadeIn;\n                }\n                else {\n                    fin =\n                        curves.at(c).fadeInTime == 0.0\n                            ? 1.0\n                            : cubismmath_1.CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                                curves.at(c).fadeInTime);\n                }\n                if (curves.at(c).fadeOutTime < 0.0) {\n                    fout = tmpFadeOut;\n                }\n                else {\n                    fout =\n                        curves.at(c).fadeOutTime == 0.0 ||\n                            motionQueueEntry.getEndTime() < 0.0\n                            ? 1.0\n                            : cubismmath_1.CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                                curves.at(c).fadeOutTime);\n                }\n                const paramWeight = this._weight * fin * fout;\n                // \n                v = sourceValue + (value - sourceValue) * paramWeight;\n            }\n            model.setParameterValueByIndex(parameterIndex, v, 1.0);\n        }\n        {\n            if (eyeBlinkValue != Number.MAX_VALUE) {\n                for (let i = 0; i < this._eyeBlinkParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                    const sourceValue = model.getParameterValueById(this._eyeBlinkParameterIds.at(i));\n                    // \n                    if ((eyeBlinkFlags >> i) & 0x01) {\n                        continue;\n                    }\n                    const v = sourceValue + (eyeBlinkValue - sourceValue) * fadeWeight;\n                    model.setParameterValueById(this._eyeBlinkParameterIds.at(i), v);\n                }\n            }\n            if (lipSyncValue != Number.MAX_VALUE) {\n                for (let i = 0; i < this._lipSyncParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                    const sourceValue = model.getParameterValueById(this._lipSyncParameterIds.at(i));\n                    // \n                    if ((lipSyncFlags >> i) & 0x01) {\n                        continue;\n                    }\n                    const v = sourceValue + (lipSyncValue - sourceValue) * fadeWeight;\n                    model.setParameterValueById(this._lipSyncParameterIds.at(i), v);\n                }\n            }\n        }\n        for (; c < this._motionData.curveCount &&\n            curves.at(c).type ==\n                cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity; ++c) {\n            // Find parameter index.\n            parameterIndex = model.getParameterIndex(curves.at(c).id);\n            // Skip curve evaluation if no value in sink.\n            if (parameterIndex == -1) {\n                continue;\n            }\n            // Evaluate curve and apply value.\n            value = evaluateCurve(this._motionData, c, time);\n            model.setParameterValueByIndex(parameterIndex, value);\n        }\n        if (timeOffsetSeconds >= this._motionData.duration) {\n            if (this._isLoop) {\n                motionQueueEntry.setStartTime(userTimeSeconds); // \n                if (this._isLoopFadeIn) {\n                    // \n                    motionQueueEntry.setFadeInStartTime(userTimeSeconds);\n                }\n            }\n            else {\n                if (this._onFinishedMotion) {\n                    this._onFinishedMotion(this);\n                }\n                motionQueueEntry.setIsFinished(true);\n            }\n        }\n        this._lastWeight = fadeWeight;\n    }\n    /**\n     * \n     * @param loop \n     */\n    setIsLoop(loop) {\n        this._isLoop = loop;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isLoop() {\n        return this._isLoop;\n    }\n    /**\n     * \n     * @param loopFadeIn  \n     */\n    setIsLoopFadeIn(loopFadeIn) {\n        this._isLoopFadeIn = loopFadeIn;\n    }\n    /**\n     * \n     *\n     * @return  true    \n     * @return  false   \n     */\n    isLoopFadeIn() {\n        return this._isLoopFadeIn;\n    }\n    /**\n     * \n     *\n     * @return  []\n     */\n    getDuration() {\n        return this._isLoop ? -1.0 : this._loopDurationSeconds;\n    }\n    /**\n     * \n     *\n     * @return  []\n     */\n    getLoopDuration() {\n        return this._loopDurationSeconds;\n    }\n    /**\n     * \n     *\n     * @param parameterId     ID\n     * @param value           []\n     */\n    setParameterFadeInTime(parameterId, value) {\n        const curves = this._motionData.curves;\n        for (let i = 0; i < this._motionData.curveCount; ++i) {\n            if (parameterId == curves.at(i).id) {\n                curves.at(i).fadeInTime = value;\n                return;\n            }\n        }\n    }\n    /**\n     * \n     * @param parameterId     ID\n     * @param value           []\n     */\n    setParameterFadeOutTime(parameterId, value) {\n        const curves = this._motionData.curves;\n        for (let i = 0; i < this._motionData.curveCount; ++i) {\n            if (parameterId == curves.at(i).id) {\n                curves.at(i).fadeOutTime = value;\n                return;\n            }\n        }\n    }\n    /**\n     * \n     * @param    parameterId     ID\n     * @return   []\n     */\n    getParameterFadeInTime(parameterId) {\n        const curves = this._motionData.curves;\n        for (let i = 0; i < this._motionData.curveCount; ++i) {\n            if (parameterId == curves.at(i).id) {\n                return curves.at(i).fadeInTime;\n            }\n        }\n        return -1;\n    }\n    /**\n     * \n     *\n     * @param   parameterId     ID\n     * @return   []\n     */\n    getParameterFadeOutTime(parameterId) {\n        const curves = this._motionData.curves;\n        for (let i = 0; i < this._motionData.curveCount; ++i) {\n            if (parameterId == curves.at(i).id) {\n                return curves.at(i).fadeOutTime;\n            }\n        }\n        return -1;\n    }\n    /**\n     * ID\n     * @param eyeBlinkParameterIds    ID\n     * @param lipSyncParameterIds     ID\n     */\n    setEffectIds(eyeBlinkParameterIds, lipSyncParameterIds) {\n        this._eyeBlinkParameterIds = eyeBlinkParameterIds;\n        this._lipSyncParameterIds = lipSyncParameterIds;\n    }\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._sourceFrameRate = 30.0;\n        this._loopDurationSeconds = -1.0;\n        this._isLoop = false; // true false \n        this._isLoopFadeIn = true; // \n        this._lastWeight = 0.0;\n        this._motionData = null;\n        this._modelCurveIdEyeBlink = null;\n        this._modelCurveIdLipSync = null;\n        this._modelCurveIdOpacity = null;\n        this._eyeBlinkParameterIds = null;\n        this._lipSyncParameterIds = null;\n        this._modelOpacity = 1.0;\n    }\n    /**\n     * \n     */\n    release() {\n        this._motionData = void 0;\n        this._motionData = null;\n    }\n    /**\n     * motion3.json\n     *\n     * @param motionJson  motion3.json\n     * @param size        \n     */\n    parse(motionJson, size) {\n        this._motionData = new cubismmotioninternal_1.CubismMotionData();\n        let json = new cubismmotionjson_1.CubismMotionJson(motionJson, size);\n        this._motionData.duration = json.getMotionDuration();\n        this._motionData.loop = json.isMotionLoop();\n        this._motionData.curveCount = json.getMotionCurveCount();\n        this._motionData.fps = json.getMotionFps();\n        this._motionData.eventCount = json.getEventCount();\n        const areBeziersRestructed = json.getEvaluationOptionFlag(cubismmotionjson_1.EvaluationOptionFlag.EvaluationOptionFlag_AreBeziersRistricted);\n        if (json.isExistMotionFadeInTime()) {\n            this._fadeInSeconds =\n                json.getMotionFadeInTime() < 0.0 ? 1.0 : json.getMotionFadeInTime();\n        }\n        else {\n            this._fadeInSeconds = 1.0;\n        }\n        if (json.isExistMotionFadeOutTime()) {\n            this._fadeOutSeconds =\n                json.getMotionFadeOutTime() < 0.0 ? 1.0 : json.getMotionFadeOutTime();\n        }\n        else {\n            this._fadeOutSeconds = 1.0;\n        }\n        this._motionData.curves.updateSize(this._motionData.curveCount, cubismmotioninternal_1.CubismMotionCurve, true);\n        this._motionData.segments.updateSize(json.getMotionTotalSegmentCount(), cubismmotioninternal_1.CubismMotionSegment, true);\n        this._motionData.points.updateSize(json.getMotionTotalPointCount(), cubismmotioninternal_1.CubismMotionPoint, true);\n        this._motionData.events.updateSize(this._motionData.eventCount, cubismmotioninternal_1.CubismMotionEvent, true);\n        let totalPointCount = 0;\n        let totalSegmentCount = 0;\n        // Curves\n        for (let curveCount = 0; curveCount < this._motionData.curveCount; ++curveCount) {\n            if (json.getMotionCurveTarget(curveCount) == TargetNameModel) {\n                this._motionData.curves.at(curveCount).type =\n                    cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n            }\n            else if (json.getMotionCurveTarget(curveCount) == TargetNameParameter) {\n                this._motionData.curves.at(curveCount).type =\n                    cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;\n            }\n            else if (json.getMotionCurveTarget(curveCount) == TargetNamePartOpacity) {\n                this._motionData.curves.at(curveCount).type =\n                    cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;\n            }\n            else {\n                (0, cubismdebug_1.CubismLogWarning)('Warning : Unable to get segment type from Curve! The number of \"CurveCount\" may be incorrect!');\n            }\n            this._motionData.curves.at(curveCount).id =\n                json.getMotionCurveId(curveCount);\n            this._motionData.curves.at(curveCount).baseSegmentIndex =\n                totalSegmentCount;\n            this._motionData.curves.at(curveCount).fadeInTime =\n                json.isExistMotionCurveFadeInTime(curveCount)\n                    ? json.getMotionCurveFadeInTime(curveCount)\n                    : -1.0;\n            this._motionData.curves.at(curveCount).fadeOutTime =\n                json.isExistMotionCurveFadeOutTime(curveCount)\n                    ? json.getMotionCurveFadeOutTime(curveCount)\n                    : -1.0;\n            // Segments\n            for (let segmentPosition = 0; segmentPosition < json.getMotionCurveSegmentCount(curveCount);) {\n                if (segmentPosition == 0) {\n                    this._motionData.segments.at(totalSegmentCount).basePointIndex =\n                        totalPointCount;\n                    this._motionData.points.at(totalPointCount).time =\n                        json.getMotionCurveSegment(curveCount, segmentPosition);\n                    this._motionData.points.at(totalPointCount).value =\n                        json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                    totalPointCount += 1;\n                    segmentPosition += 2;\n                }\n                else {\n                    this._motionData.segments.at(totalSegmentCount).basePointIndex =\n                        totalPointCount - 1;\n                }\n                const segment = json.getMotionCurveSegment(curveCount, segmentPosition);\n                switch (segment) {\n                    case cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Linear: {\n                        this._motionData.segments.at(totalSegmentCount).segmentType =\n                            cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Linear;\n                        this._motionData.segments.at(totalSegmentCount).evaluate =\n                            linearEvaluate;\n                        this._motionData.points.at(totalPointCount).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        this._motionData.points.at(totalPointCount).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                        totalPointCount += 1;\n                        segmentPosition += 3;\n                        break;\n                    }\n                    case cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Bezier: {\n                        this._motionData.segments.at(totalSegmentCount).segmentType =\n                            cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Bezier;\n                        if (areBeziersRestructed || UseOldBeziersCurveMotion) {\n                            this._motionData.segments.at(totalSegmentCount).evaluate =\n                                bezierEvaluate;\n                        }\n                        else {\n                            this._motionData.segments.at(totalSegmentCount).evaluate =\n                                bezierEvaluateCardanoInterpretation;\n                        }\n                        this._motionData.points.at(totalPointCount).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        this._motionData.points.at(totalPointCount).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                        this._motionData.points.at(totalPointCount + 1).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 3);\n                        this._motionData.points.at(totalPointCount + 1).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 4);\n                        this._motionData.points.at(totalPointCount + 2).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 5);\n                        this._motionData.points.at(totalPointCount + 2).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 6);\n                        totalPointCount += 3;\n                        segmentPosition += 7;\n                        break;\n                    }\n                    case cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Stepped: {\n                        this._motionData.segments.at(totalSegmentCount).segmentType =\n                            cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Stepped;\n                        this._motionData.segments.at(totalSegmentCount).evaluate =\n                            steppedEvaluate;\n                        this._motionData.points.at(totalPointCount).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        this._motionData.points.at(totalPointCount).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                        totalPointCount += 1;\n                        segmentPosition += 3;\n                        break;\n                    }\n                    case cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped: {\n                        this._motionData.segments.at(totalSegmentCount).segmentType =\n                            cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped;\n                        this._motionData.segments.at(totalSegmentCount).evaluate =\n                            inverseSteppedEvaluate;\n                        this._motionData.points.at(totalPointCount).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        this._motionData.points.at(totalPointCount).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                        totalPointCount += 1;\n                        segmentPosition += 3;\n                        break;\n                    }\n                    default: {\n                        (0, cubismdebug_1.CSM_ASSERT)(0);\n                        break;\n                    }\n                }\n                ++this._motionData.curves.at(curveCount).segmentCount;\n                ++totalSegmentCount;\n            }\n        }\n        for (let userdatacount = 0; userdatacount < json.getEventCount(); ++userdatacount) {\n            this._motionData.events.at(userdatacount).fireTime =\n                json.getEventTime(userdatacount);\n            this._motionData.events.at(userdatacount).value =\n                json.getEventValue(userdatacount);\n        }\n        json.release();\n        json = void 0;\n        json = null;\n    }\n    /**\n     * \n     *\n     * \n     * \n     *\n     * @param beforeCheckTimeSeconds   []\n     * @param motionTimeSeconds        []\n     */\n    getFiredEvent(beforeCheckTimeSeconds, motionTimeSeconds) {\n        this._firedEventValues.updateSize(0);\n        // \n        for (let u = 0; u < this._motionData.eventCount; ++u) {\n            if (this._motionData.events.at(u).fireTime > beforeCheckTimeSeconds &&\n                this._motionData.events.at(u).fireTime <= motionTimeSeconds) {\n                this._firedEventValues.pushBack(new csmstring_1.csmString(this._motionData.events.at(u).value.s));\n            }\n        }\n        return this._firedEventValues;\n    }\n    /**\n     * \n     *\n     * @returns true  -> \n     *          false -> \n     */\n    isExistModelOpacity() {\n        for (let i = 0; i < this._motionData.curveCount; i++) {\n            const curve = this._motionData.curves.at(i);\n            if (curve.type != cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model) {\n                continue;\n            }\n            if (curve.id.getString().s.localeCompare(IdNameOpacity) == 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * \n     *\n     * @returns success:\n     */\n    getModelOpacityIndex() {\n        if (this.isExistModelOpacity()) {\n            for (let i = 0; i < this._motionData.curveCount; i++) {\n                const curve = this._motionData.curves.at(i);\n                if (curve.type != cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model) {\n                    continue;\n                }\n                if (curve.id.getString().s.localeCompare(IdNameOpacity) == 0) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * Id\n     *\n     * @param index \n     * @returns success:\n     */\n    getModelOpacityId(index) {\n        if (index != -1) {\n            const curve = this._motionData.curves.at(index);\n            if (curve.type == cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model) {\n                if (curve.id.getString().s.localeCompare(IdNameOpacity) == 0) {\n                    return live2dcubismframework_1.CubismFramework.getIdManager().getId(curve.id.getString().s);\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * \n     *\n     * @returns success:Opacity\n     */\n    getModelOpacityValue() {\n        return this._modelOpacity;\n    }\n}\nexports.CubismMotion = CubismMotion;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmotion */ \"./cubism/Framework/src/motion/cubismmotion.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotion = $.CubismMotion;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/motion/cubismmotion.ts?");

/***/ }),

/***/ "./cubism/Framework/src/motion/cubismmotioninternal.ts":
/*!*************************************************************!*\
  !*** ./cubism/Framework/src/motion/cubismmotioninternal.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMotionData = exports.CubismMotionEvent = exports.CubismMotionCurve = exports.CubismMotionSegment = exports.CubismMotionPoint = exports.CubismMotionSegmentType = exports.CubismMotionCurveTarget = void 0;\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\n/**\n * @brief \n *\n * \n */\nvar CubismMotionCurveTarget;\n(function (CubismMotionCurveTarget) {\n    CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_Model\"] = 0] = \"CubismMotionCurveTarget_Model\";\n    CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_Parameter\"] = 1] = \"CubismMotionCurveTarget_Parameter\";\n    CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_PartOpacity\"] = 2] = \"CubismMotionCurveTarget_PartOpacity\";\n})(CubismMotionCurveTarget || (exports.CubismMotionCurveTarget = CubismMotionCurveTarget = {}));\n/**\n * @brief \n *\n * \n */\nvar CubismMotionSegmentType;\n(function (CubismMotionSegmentType) {\n    CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Linear\"] = 0] = \"CubismMotionSegmentType_Linear\";\n    CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Bezier\"] = 1] = \"CubismMotionSegmentType_Bezier\";\n    CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Stepped\"] = 2] = \"CubismMotionSegmentType_Stepped\";\n    CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_InverseStepped\"] = 3] = \"CubismMotionSegmentType_InverseStepped\";\n})(CubismMotionSegmentType || (exports.CubismMotionSegmentType = CubismMotionSegmentType = {}));\n/**\n * @brief \n *\n * \n */\nclass CubismMotionPoint {\n    constructor() {\n        this.time = 0.0; // []\n        this.value = 0.0; // \n    }\n}\nexports.CubismMotionPoint = CubismMotionPoint;\n/**\n * @brief \n *\n * \n */\nclass CubismMotionSegment {\n    /**\n     * @brief \n     *\n     * \n     */\n    constructor() {\n        this.evaluate = null;\n        this.basePointIndex = 0;\n        this.segmentType = 0;\n    }\n}\nexports.CubismMotionSegment = CubismMotionSegment;\n/**\n * @brief \n *\n * \n */\nclass CubismMotionCurve {\n    constructor() {\n        this.type = CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n        this.segmentCount = 0;\n        this.baseSegmentIndex = 0;\n        this.fadeInTime = 0.0;\n        this.fadeOutTime = 0.0;\n    }\n}\nexports.CubismMotionCurve = CubismMotionCurve;\n/**\n * \n */\nclass CubismMotionEvent {\n    constructor() {\n        this.fireTime = 0.0;\n    }\n}\nexports.CubismMotionEvent = CubismMotionEvent;\n/**\n * @brief \n *\n * \n */\nclass CubismMotionData {\n    constructor() {\n        this.duration = 0.0;\n        this.loop = false;\n        this.curveCount = 0;\n        this.eventCount = 0;\n        this.fps = 0.0;\n        this.curves = new csmvector_1.csmVector();\n        this.segments = new csmvector_1.csmVector();\n        this.points = new csmvector_1.csmVector();\n        this.events = new csmvector_1.csmVector();\n    }\n}\nexports.CubismMotionData = CubismMotionData;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmotioninternal */ \"./cubism/Framework/src/motion/cubismmotioninternal.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionCurve = $.CubismMotionCurve;\n    Live2DCubismFramework.CubismMotionCurveTarget = $.CubismMotionCurveTarget;\n    Live2DCubismFramework.CubismMotionData = $.CubismMotionData;\n    Live2DCubismFramework.CubismMotionEvent = $.CubismMotionEvent;\n    Live2DCubismFramework.CubismMotionPoint = $.CubismMotionPoint;\n    Live2DCubismFramework.CubismMotionSegment = $.CubismMotionSegment;\n    Live2DCubismFramework.CubismMotionSegmentType = $.CubismMotionSegmentType;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/motion/cubismmotioninternal.ts?");

/***/ }),

/***/ "./cubism/Framework/src/motion/cubismmotionjson.ts":
/*!*********************************************************!*\
  !*** ./cubism/Framework/src/motion/cubismmotionjson.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.EvaluationOptionFlag = exports.CubismMotionJson = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./cubism/Framework/src/type/csmstring.ts\");\nconst cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\n// JSON keys\nconst Meta = 'Meta';\nconst Duration = 'Duration';\nconst Loop = 'Loop';\nconst AreBeziersRestricted = 'AreBeziersRestricted';\nconst CurveCount = 'CurveCount';\nconst Fps = 'Fps';\nconst TotalSegmentCount = 'TotalSegmentCount';\nconst TotalPointCount = 'TotalPointCount';\nconst Curves = 'Curves';\nconst Target = 'Target';\nconst Id = 'Id';\nconst FadeInTime = 'FadeInTime';\nconst FadeOutTime = 'FadeOutTime';\nconst Segments = 'Segments';\nconst UserData = 'UserData';\nconst UserDataCount = 'UserDataCount';\nconst TotalUserDataSize = 'TotalUserDataSize';\nconst Time = 'Time';\nconst Value = 'Value';\n/**\n * motion3.json\n */\nclass CubismMotionJson {\n    /**\n     * \n     * @param buffer motion3.json\n     * @param size \n     */\n    constructor(buffer, size) {\n        this._json = cubismjson_1.CubismJson.create(buffer, size);\n    }\n    /**\n     * \n     */\n    release() {\n        cubismjson_1.CubismJson.delete(this._json);\n    }\n    /**\n     * \n     * @return []\n     */\n    getMotionDuration() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(Duration)\n            .toFloat();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isMotionLoop() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(Loop)\n            .toBoolean();\n    }\n    getEvaluationOptionFlag(flagType) {\n        if (EvaluationOptionFlag.EvaluationOptionFlag_AreBeziersRistricted == flagType) {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(AreBeziersRestricted)\n                .toBoolean();\n        }\n        return false;\n    }\n    /**\n     * \n     * @return \n     */\n    getMotionCurveCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(CurveCount)\n            .toInt();\n    }\n    /**\n     * \n     * @return [FPS]\n     */\n    getMotionFps() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(Fps)\n            .toFloat();\n    }\n    /**\n     * \n     * @return \n     */\n    getMotionTotalSegmentCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalSegmentCount)\n            .toInt();\n    }\n    /**\n     * \n     * @return \n     */\n    getMotionTotalPointCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalPointCount)\n            .toInt();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistMotionFadeInTime() {\n        return !this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(FadeInTime)\n            .isNull();\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isExistMotionFadeOutTime() {\n        return !this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(FadeOutTime)\n            .isNull();\n    }\n    /**\n     * \n     * @return []\n     */\n    getMotionFadeInTime() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(FadeInTime)\n            .toFloat();\n    }\n    /**\n     * \n     * @return []\n     */\n    getMotionFadeOutTime() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(FadeOutTime)\n            .toFloat();\n    }\n    /**\n     * \n     * @param curveIndex \n     * @return \n     */\n    getMotionCurveTarget(curveIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(Target)\n            .getRawString();\n    }\n    /**\n     * ID\n     * @param curveIndex \n     * @return ID\n     */\n    getMotionCurveId(curveIndex) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(Id)\n            .getRawString());\n    }\n    /**\n     * \n     * @param curveIndex \n     * @return true \n     * @return false \n     */\n    isExistMotionCurveFadeInTime(curveIndex) {\n        return !this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(FadeInTime)\n            .isNull();\n    }\n    /**\n     * \n     * @param curveIndex \n     * @return true \n     * @return false \n     */\n    isExistMotionCurveFadeOutTime(curveIndex) {\n        return !this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(FadeOutTime)\n            .isNull();\n    }\n    /**\n     * \n     * @param curveIndex \n     * @return []\n     */\n    getMotionCurveFadeInTime(curveIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(FadeInTime)\n            .toFloat();\n    }\n    /**\n     * \n     * @param curveIndex \n     * @return []\n     */\n    getMotionCurveFadeOutTime(curveIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(FadeOutTime)\n            .toFloat();\n    }\n    /**\n     * \n     * @param curveIndex \n     * @return \n     */\n    getMotionCurveSegmentCount(curveIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(Segments)\n            .getVector()\n            .getSize();\n    }\n    /**\n     * \n     * @param curveIndex \n     * @param segmentIndex \n     * @return \n     */\n    getMotionCurveSegment(curveIndex, segmentIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(Segments)\n            .getValueByIndex(segmentIndex)\n            .toFloat();\n    }\n    /**\n     * \n     * @return \n     */\n    getEventCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(UserDataCount)\n            .toInt();\n    }\n    /**\n     *  \n     * @return \n     */\n    getTotalEventValueSize() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalUserDataSize)\n            .toInt();\n    }\n    /**\n     * \n     * @param userDataIndex \n     * @return []\n     */\n    getEventTime(userDataIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(userDataIndex)\n            .getValueByString(Time)\n            .toFloat();\n    }\n    /**\n     * \n     * @param userDataIndex \n     * @return \n     */\n    getEventValue(userDataIndex) {\n        return new csmstring_1.csmString(this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(userDataIndex)\n            .getValueByString(Value)\n            .getRawString());\n    }\n}\nexports.CubismMotionJson = CubismMotionJson;\n/**\n * @brief \n */\nvar EvaluationOptionFlag;\n(function (EvaluationOptionFlag) {\n    EvaluationOptionFlag[EvaluationOptionFlag[\"EvaluationOptionFlag_AreBeziersRistricted\"] = 0] = \"EvaluationOptionFlag_AreBeziersRistricted\";\n})(EvaluationOptionFlag || (exports.EvaluationOptionFlag = EvaluationOptionFlag = {}));\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmotionjson */ \"./cubism/Framework/src/motion/cubismmotionjson.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionJson = $.CubismMotionJson;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/motion/cubismmotionjson.ts?");

/***/ }),

/***/ "./cubism/Framework/src/motion/cubismmotionmanager.ts":
/*!************************************************************!*\
  !*** ./cubism/Framework/src/motion/cubismmotionmanager.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMotionManager = void 0;\nconst cubismmotionqueuemanager_1 = __webpack_require__(/*! ./cubismmotionqueuemanager */ \"./cubism/Framework/src/motion/cubismmotionqueuemanager.ts\");\n/**\n * \n *\n * \n */\nclass CubismMotionManager extends cubismmotionqueuemanager_1.CubismMotionQueueManager {\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._currentPriority = 0;\n        this._reservePriority = 0;\n    }\n    /**\n     * \n     * @return  \n     */\n    getCurrentPriority() {\n        return this._currentPriority;\n    }\n    /**\n     * \n     * @return  \n     */\n    getReservePriority() {\n        return this._reservePriority;\n    }\n    /**\n     * \n     * @param   val     \n     */\n    setReservePriority(val) {\n        this._reservePriority = val;\n    }\n    /**\n     * \n     *\n     * @param motion          \n     * @param autoDelete      true\n     * @param priority        \n     * @return                IsFinished()-1\n     */\n    startMotionPriority(motion, autoDelete, priority) {\n        if (priority == this._reservePriority) {\n            this._reservePriority = 0; // \n        }\n        this._currentPriority = priority; // \n        return super.startMotion(motion, autoDelete, this._userTimeSeconds);\n    }\n    /**\n     * \n     *\n     * @param model   \n     * @param deltaTimeSeconds    []\n     * @return  true    \n     * @return  false   \n     */\n    updateMotion(model, deltaTimeSeconds) {\n        this._userTimeSeconds += deltaTimeSeconds;\n        const updated = super.doUpdateMotion(model, this._userTimeSeconds);\n        if (this.isFinished()) {\n            this._currentPriority = 0; // \n        }\n        return updated;\n    }\n    /**\n     * \n     *\n     * @param   priority    \n     * @return  true    \n     * @return  false   \n     */\n    reserveMotion(priority) {\n        if (priority <= this._reservePriority ||\n            priority <= this._currentPriority) {\n            return false;\n        }\n        this._reservePriority = priority;\n        return true;\n    }\n}\nexports.CubismMotionManager = CubismMotionManager;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmotionmanager */ \"./cubism/Framework/src/motion/cubismmotionmanager.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionManager = $.CubismMotionManager;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/motion/cubismmotionmanager.ts?");

/***/ }),

/***/ "./cubism/Framework/src/motion/cubismmotionqueueentry.ts":
/*!***************************************************************!*\
  !*** ./cubism/Framework/src/motion/cubismmotionqueueentry.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMotionQueueEntry = void 0;\nconst acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./cubism/Framework/src/motion/acubismmotion.ts\");\n/**\n * CubismMotionQueueManager\n */\nclass CubismMotionQueueEntry {\n    /**\n     * \n     */\n    constructor() {\n        this._autoDelete = false;\n        this._motion = null;\n        this._available = true;\n        this._finished = false;\n        this._started = false;\n        this._startTimeSeconds = -1.0;\n        this._fadeInStartTimeSeconds = 0.0;\n        this._endTimeSeconds = -1.0;\n        this._stateTimeSeconds = 0.0;\n        this._stateWeight = 0.0;\n        this._lastEventCheckSeconds = 0.0;\n        this._motionQueueEntryHandle = this;\n        this._fadeOutSeconds = 0.0;\n        this._isTriggeredFadeOut = false;\n    }\n    /**\n     * \n     */\n    release() {\n        if (this._autoDelete && this._motion) {\n            acubismmotion_1.ACubismMotion.delete(this._motion); //\n        }\n    }\n    /**\n     * \n     * @param fadeOutSeconds []\n     */\n    setFadeOut(fadeOutSeconds) {\n        this._fadeOutSeconds = fadeOutSeconds;\n        this._isTriggeredFadeOut = true;\n    }\n    /**\n     * \n     * @param fadeOutSeconds []\n     * @param userTimeSeconds []\n     */\n    startFadeOut(fadeOutSeconds, userTimeSeconds) {\n        const newEndTimeSeconds = userTimeSeconds + fadeOutSeconds;\n        this._isTriggeredFadeOut = true;\n        if (this._endTimeSeconds < 0.0 ||\n            newEndTimeSeconds < this._endTimeSeconds) {\n            this._endTimeSeconds = newEndTimeSeconds;\n        }\n    }\n    /**\n     * \n     *\n     * @return true \n     * @return false \n     */\n    isFinished() {\n        return this._finished;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isStarted() {\n        return this._started;\n    }\n    /**\n     * \n     * @return []\n     */\n    getStartTime() {\n        return this._startTimeSeconds;\n    }\n    /**\n     * \n     * @return []\n     */\n    getFadeInStartTime() {\n        return this._fadeInStartTimeSeconds;\n    }\n    /**\n     * \n     * @return \n     */\n    getEndTime() {\n        return this._endTimeSeconds;\n    }\n    /**\n     * \n     * @param startTime \n     */\n    setStartTime(startTime) {\n        this._startTimeSeconds = startTime;\n    }\n    /**\n     * \n     * @param startTime []\n     */\n    setFadeInStartTime(startTime) {\n        this._fadeInStartTimeSeconds = startTime;\n    }\n    /**\n     * \n     * @param endTime []\n     */\n    setEndTime(endTime) {\n        this._endTimeSeconds = endTime;\n    }\n    /**\n     * \n     * @param f true\n     */\n    setIsFinished(f) {\n        this._finished = f;\n    }\n    /**\n     * \n     * @param f true\n     */\n    setIsStarted(f) {\n        this._started = f;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isAvailable() {\n        return this._available;\n    }\n    /**\n     * \n     * @param v true\n     */\n    setIsAvailable(v) {\n        this._available = v;\n    }\n    /**\n     * \n     * @param timeSeconds []\n     * @param weight \n     */\n    setState(timeSeconds, weight) {\n        this._stateTimeSeconds = timeSeconds;\n        this._stateWeight = weight;\n    }\n    /**\n     * \n     * @return []\n     */\n    getStateTime() {\n        return this._stateTimeSeconds;\n    }\n    /**\n     * \n     * @return \n     */\n    getStateWeight() {\n        return this._stateWeight;\n    }\n    /**\n     * \n     *\n     * @return []\n     */\n    getLastCheckEventSeconds() {\n        return this._lastEventCheckSeconds;\n    }\n    /**\n     * \n     * @param checkSeconds []\n     */\n    setLastCheckEventSeconds(checkSeconds) {\n        this._lastEventCheckSeconds = checkSeconds;\n    }\n    /**\n     * \n     * @return \n     */\n    isTriggeredFadeOut() {\n        return this._isTriggeredFadeOut;\n    }\n    /**\n     * \n     * @return []\n     */\n    getFadeOutSeconds() {\n        return this._fadeOutSeconds;\n    }\n}\nexports.CubismMotionQueueEntry = CubismMotionQueueEntry;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmotionqueueentry */ \"./cubism/Framework/src/motion/cubismmotionqueueentry.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionQueueEntry = $.CubismMotionQueueEntry;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/motion/cubismmotionqueueentry.ts?");

/***/ }),

/***/ "./cubism/Framework/src/motion/cubismmotionqueuemanager.ts":
/*!*****************************************************************!*\
  !*** ./cubism/Framework/src/motion/cubismmotionqueuemanager.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.InvalidMotionQueueEntryHandleValue = exports.CubismMotionQueueManager = void 0;\nconst cubismmotionqueueentry_1 = __webpack_require__(/*! ./cubismmotionqueueentry */ \"./cubism/Framework/src/motion/cubismmotionqueueentry.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\n/**\n * \n *\n * CubismMotionACubismMotion\n *\n * @note  StartMotion()\n *       \n *       CubismMotionQueueManager\n */\nclass CubismMotionQueueManager {\n    /**\n     * \n     */\n    constructor() {\n        this._userTimeSeconds = 0.0;\n        this._eventCallBack = null;\n        this._eventCustomData = null;\n        this._motions = new csmvector_1.csmVector();\n    }\n    /**\n     * \n     */\n    release() {\n        for (let i = 0; i < this._motions.getSize(); ++i) {\n            if (this._motions.at(i)) {\n                this._motions.at(i).release();\n                this._motions.set(i, null);\n            }\n        }\n        this._motions = null;\n    }\n    /**\n     * \n     *\n     * \n     *\n     * @param   motion          \n     * @param   autoDelete       true\n     * @param   userTimeSeconds []\n     * @return                      IsFinished()-1\n     */\n    startMotion(motion, autoDelete, userTimeSeconds) {\n        if (motion == null) {\n            return exports.InvalidMotionQueueEntryHandleValue;\n        }\n        let motionQueueEntry = null;\n        // \n        for (let i = 0; i < this._motions.getSize(); ++i) {\n            motionQueueEntry = this._motions.at(i);\n            if (motionQueueEntry == null) {\n                continue;\n            }\n            motionQueueEntry.setFadeOut(motionQueueEntry._motion.getFadeOutTime()); // \n        }\n        motionQueueEntry = new cubismmotionqueueentry_1.CubismMotionQueueEntry(); // \n        motionQueueEntry._autoDelete = autoDelete;\n        motionQueueEntry._motion = motion;\n        this._motions.pushBack(motionQueueEntry);\n        return motionQueueEntry._motionQueueEntryHandle;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isFinished() {\n        // -------  -------\n        // \n        for (let ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n            let motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                ite = this._motions.erase(ite); // \n                continue;\n            }\n            const motion = motionQueueEntry._motion;\n            if (motion == null) {\n                motionQueueEntry.release();\n                motionQueueEntry = null;\n                ite = this._motions.erase(ite); // \n                continue;\n            }\n            // -----  ------\n            if (!motionQueueEntry.isFinished()) {\n                return false;\n            }\n            else {\n                ite.preIncrement();\n            }\n        }\n        return true;\n    }\n    /**\n     * \n     * @param motionQueueEntryNumber \n     * @return true \n     * @return false \n     */\n    isFinishedByHandle(motionQueueEntryNumber) {\n        for (let ite = this._motions.begin(); ite.notEqual(this._motions.end()); ite.increment()) {\n            const motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                continue;\n            }\n            if (motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber &&\n                !motionQueueEntry.isFinished()) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * \n     */\n    stopAllMotions() {\n        // -------  -------\n        // \n        for (let ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n            let motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                ite = this._motions.erase(ite);\n                continue;\n            }\n            // -----  ------\n            motionQueueEntry.release();\n            motionQueueEntry = null;\n            ite = this._motions.erase(ite); // \n        }\n    }\n    /**\n         * CubismMotionQueueEntry\n  \n          * @param   motionQueueEntryNumber  \n          * @return  CubismMotionQueueEntry\n          * @return  null   \n          */\n    getCubismMotionQueueEntry(motionQueueEntryNumber) {\n        //-------  -------\n        for (let ite = this._motions.begin(); ite.notEqual(this._motions.end()); ite.preIncrement()) {\n            const motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                continue;\n            }\n            if (motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber) {\n                return motionQueueEntry;\n            }\n        }\n        return null;\n    }\n    /**\n     * Callback\n     *\n     * @param callback \n     * @param customData \n     */\n    setEventCallback(callback, customData = null) {\n        this._eventCallBack = callback;\n        this._eventCustomData = customData;\n    }\n    /**\n     * \n     *\n     * @param   model   \n     * @param   userTimeSeconds   []\n     * @return  true    \n     * @return  false   ()\n     */\n    doUpdateMotion(model, userTimeSeconds) {\n        let updated = false;\n        // -------  --------\n        // \n        for (let ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n            let motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                ite = this._motions.erase(ite); // \n                continue;\n            }\n            const motion = motionQueueEntry._motion;\n            if (motion == null) {\n                motionQueueEntry.release();\n                motionQueueEntry = null;\n                ite = this._motions.erase(ite); // \n                continue;\n            }\n            // ------  ------\n            motion.updateParameters(model, motionQueueEntry, userTimeSeconds);\n            updated = true;\n            // ------  ----\n            const firedList = motion.getFiredEvent(motionQueueEntry.getLastCheckEventSeconds() -\n                motionQueueEntry.getStartTime(), userTimeSeconds - motionQueueEntry.getStartTime());\n            for (let i = 0; i < firedList.getSize(); ++i) {\n                this._eventCallBack(this, firedList.at(i), this._eventCustomData);\n            }\n            motionQueueEntry.setLastCheckEventSeconds(userTimeSeconds);\n            // ------  ------\n            if (motionQueueEntry.isFinished()) {\n                motionQueueEntry.release();\n                motionQueueEntry = null;\n                ite = this._motions.erase(ite); // \n            }\n            else {\n                if (motionQueueEntry.isTriggeredFadeOut()) {\n                    motionQueueEntry.startFadeOut(motionQueueEntry.getFadeOutSeconds(), userTimeSeconds);\n                }\n                ite.preIncrement();\n            }\n        }\n        return updated;\n    }\n}\nexports.CubismMotionQueueManager = CubismMotionQueueManager;\nexports.InvalidMotionQueueEntryHandleValue = -1;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismmotionqueuemanager */ \"./cubism/Framework/src/motion/cubismmotionqueuemanager.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionQueueManager = $.CubismMotionQueueManager;\n    Live2DCubismFramework.InvalidMotionQueueEntryHandleValue = $.InvalidMotionQueueEntryHandleValue;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/motion/cubismmotionqueuemanager.ts?");

/***/ }),

/***/ "./cubism/Framework/src/physics/cubismphysics.ts":
/*!*******************************************************!*\
  !*** ./cubism/Framework/src/physics/cubismphysics.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.PhysicsOutput = exports.Options = exports.CubismPhysics = void 0;\nconst cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./cubism/Framework/src/math/cubismmath.ts\");\nconst cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./cubism/Framework/src/math/cubismvector2.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismphysicsinternal_1 = __webpack_require__(/*! ./cubismphysicsinternal */ \"./cubism/Framework/src/physics/cubismphysicsinternal.ts\");\nconst cubismphysicsjson_1 = __webpack_require__(/*! ./cubismphysicsjson */ \"./cubism/Framework/src/physics/cubismphysicsjson.ts\");\n// physics types tags.\nconst PhysicsTypeTagX = 'X';\nconst PhysicsTypeTagY = 'Y';\nconst PhysicsTypeTagAngle = 'Angle';\n// Constant of air resistance.\nconst AirResistance = 5.0;\n// Constant of maximum weight of input and output ratio.\nconst MaximumWeight = 100.0;\n// Constant of threshold of movement.\nconst MovementThreshold = 0.001;\n// Constant of maximum allowed delta time\nconst MaxDeltaTime = 5.0;\n/**\n * \n */\nclass CubismPhysics {\n    /**\n     * \n     * @param buffer    physics3.json\n     * @param size      \n     * @return \n     */\n    static create(buffer, size) {\n        const ret = new CubismPhysics();\n        ret.parse(buffer, size);\n        ret._physicsRig.gravity.y = 0;\n        return ret;\n    }\n    /**\n     * \n     * @param physics \n     */\n    static delete(physics) {\n        if (physics != null) {\n            physics.release();\n            physics = null;\n        }\n    }\n    /**\n     * physics3.json\n     * @param physicsJson physics3.json\n     * @param size \n     */\n    parse(physicsJson, size) {\n        this._physicsRig = new cubismphysicsinternal_1.CubismPhysicsRig();\n        let json = new cubismphysicsjson_1.CubismPhysicsJson(physicsJson, size);\n        this._physicsRig.gravity = json.getGravity();\n        this._physicsRig.wind = json.getWind();\n        this._physicsRig.subRigCount = json.getSubRigCount();\n        this._physicsRig.fps = json.getFps();\n        this._physicsRig.settings.updateSize(this._physicsRig.subRigCount, cubismphysicsinternal_1.CubismPhysicsSubRig, true);\n        this._physicsRig.inputs.updateSize(json.getTotalInputCount(), cubismphysicsinternal_1.CubismPhysicsInput, true);\n        this._physicsRig.outputs.updateSize(json.getTotalOutputCount(), cubismphysicsinternal_1.CubismPhysicsOutput, true);\n        this._physicsRig.particles.updateSize(json.getVertexCount(), cubismphysicsinternal_1.CubismPhysicsParticle, true);\n        this._currentRigOutputs.clear();\n        this._previousRigOutputs.clear();\n        let inputIndex = 0, outputIndex = 0, particleIndex = 0;\n        for (let i = 0; i < this._physicsRig.settings.getSize(); ++i) {\n            this._physicsRig.settings.at(i).normalizationPosition.minimum =\n                json.getNormalizationPositionMinimumValue(i);\n            this._physicsRig.settings.at(i).normalizationPosition.maximum =\n                json.getNormalizationPositionMaximumValue(i);\n            this._physicsRig.settings.at(i).normalizationPosition.defalut =\n                json.getNormalizationPositionDefaultValue(i);\n            this._physicsRig.settings.at(i).normalizationAngle.minimum =\n                json.getNormalizationAngleMinimumValue(i);\n            this._physicsRig.settings.at(i).normalizationAngle.maximum =\n                json.getNormalizationAngleMaximumValue(i);\n            this._physicsRig.settings.at(i).normalizationAngle.defalut =\n                json.getNormalizationAngleDefaultValue(i);\n            // Input\n            this._physicsRig.settings.at(i).inputCount = json.getInputCount(i);\n            this._physicsRig.settings.at(i).baseInputIndex = inputIndex;\n            for (let j = 0; j < this._physicsRig.settings.at(i).inputCount; ++j) {\n                this._physicsRig.inputs.at(inputIndex + j).sourceParameterIndex = -1;\n                this._physicsRig.inputs.at(inputIndex + j).weight = json.getInputWeight(i, j);\n                this._physicsRig.inputs.at(inputIndex + j).reflect =\n                    json.getInputReflect(i, j);\n                if (json.getInputType(i, j) == PhysicsTypeTagX) {\n                    this._physicsRig.inputs.at(inputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_X;\n                    this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue =\n                        getInputTranslationXFromNormalizedParameterValue;\n                }\n                else if (json.getInputType(i, j) == PhysicsTypeTagY) {\n                    this._physicsRig.inputs.at(inputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_Y;\n                    this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue =\n                        getInputTranslationYFromNormalizedParamterValue;\n                }\n                else if (json.getInputType(i, j) == PhysicsTypeTagAngle) {\n                    this._physicsRig.inputs.at(inputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_Angle;\n                    this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue =\n                        getInputAngleFromNormalizedParameterValue;\n                }\n                this._physicsRig.inputs.at(inputIndex + j).source.targetType =\n                    cubismphysicsinternal_1.CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\n                this._physicsRig.inputs.at(inputIndex + j).source.id =\n                    json.getInputSourceId(i, j);\n            }\n            inputIndex += this._physicsRig.settings.at(i).inputCount;\n            // Output\n            this._physicsRig.settings.at(i).outputCount = json.getOutputCount(i);\n            this._physicsRig.settings.at(i).baseOutputIndex = outputIndex;\n            const currentRigOutput = new PhysicsOutput();\n            currentRigOutput.outputs.resize(this._physicsRig.settings.at(i).outputCount);\n            const previousRigOutput = new PhysicsOutput();\n            previousRigOutput.outputs.resize(this._physicsRig.settings.at(i).outputCount);\n            for (let j = 0; j < this._physicsRig.settings.at(i).outputCount; ++j) {\n                // initialize\n                currentRigOutput.outputs.set(j, 0.0);\n                previousRigOutput.outputs.set(j, 0.0);\n                this._physicsRig.outputs.at(outputIndex + j).destinationParameterIndex =\n                    -1;\n                this._physicsRig.outputs.at(outputIndex + j).vertexIndex =\n                    json.getOutputVertexIndex(i, j);\n                this._physicsRig.outputs.at(outputIndex + j).angleScale =\n                    json.getOutputAngleScale(i, j);\n                this._physicsRig.outputs.at(outputIndex + j).weight =\n                    json.getOutputWeight(i, j);\n                this._physicsRig.outputs.at(outputIndex + j).destination.targetType =\n                    cubismphysicsinternal_1.CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\n                this._physicsRig.outputs.at(outputIndex + j).destination.id =\n                    json.getOutputDestinationId(i, j);\n                if (json.getOutputType(i, j) == PhysicsTypeTagX) {\n                    this._physicsRig.outputs.at(outputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_X;\n                    this._physicsRig.outputs.at(outputIndex + j).getValue =\n                        getOutputTranslationX;\n                    this._physicsRig.outputs.at(outputIndex + j).getScale =\n                        getOutputScaleTranslationX;\n                }\n                else if (json.getOutputType(i, j) == PhysicsTypeTagY) {\n                    this._physicsRig.outputs.at(outputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_Y;\n                    this._physicsRig.outputs.at(outputIndex + j).getValue =\n                        getOutputTranslationY;\n                    this._physicsRig.outputs.at(outputIndex + j).getScale =\n                        getOutputScaleTranslationY;\n                }\n                else if (json.getOutputType(i, j) == PhysicsTypeTagAngle) {\n                    this._physicsRig.outputs.at(outputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_Angle;\n                    this._physicsRig.outputs.at(outputIndex + j).getValue =\n                        getOutputAngle;\n                    this._physicsRig.outputs.at(outputIndex + j).getScale =\n                        getOutputScaleAngle;\n                }\n                this._physicsRig.outputs.at(outputIndex + j).reflect =\n                    json.getOutputReflect(i, j);\n            }\n            this._currentRigOutputs.pushBack(currentRigOutput);\n            this._previousRigOutputs.pushBack(previousRigOutput);\n            outputIndex += this._physicsRig.settings.at(i).outputCount;\n            // Particle\n            this._physicsRig.settings.at(i).particleCount = json.getParticleCount(i);\n            this._physicsRig.settings.at(i).baseParticleIndex = particleIndex;\n            for (let j = 0; j < this._physicsRig.settings.at(i).particleCount; ++j) {\n                this._physicsRig.particles.at(particleIndex + j).mobility =\n                    json.getParticleMobility(i, j);\n                this._physicsRig.particles.at(particleIndex + j).delay =\n                    json.getParticleDelay(i, j);\n                this._physicsRig.particles.at(particleIndex + j).acceleration =\n                    json.getParticleAcceleration(i, j);\n                this._physicsRig.particles.at(particleIndex + j).radius =\n                    json.getParticleRadius(i, j);\n                this._physicsRig.particles.at(particleIndex + j).position =\n                    json.getParticlePosition(i, j);\n            }\n            particleIndex += this._physicsRig.settings.at(i).particleCount;\n        }\n        this.initialize();\n        json.release();\n        json = void 0;\n        json = null;\n    }\n    /**\n     * \n     * @param model \n     */\n    stabilization(model) {\n        var _a, _b, _c, _d;\n        let totalAngle;\n        let weight;\n        let radAngle;\n        let outputValue;\n        const totalTranslation = new cubismvector2_1.CubismVector2();\n        let currentSetting;\n        let currentInputs;\n        let currentOutputs;\n        let currentParticles;\n        let parameterValues;\n        let parameterMaximumValues;\n        let parameterMinimumValues;\n        let parameterDefaultValues;\n        parameterValues = model.getModel().parameters.values;\n        parameterMaximumValues = model.getModel().parameters.maximumValues;\n        parameterMinimumValues = model.getModel().parameters.minimumValues;\n        parameterDefaultValues = model.getModel().parameters.defaultValues;\n        if (((_b = (_a = this._parameterCaches) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) < model.getParameterCount()) {\n            this._parameterCaches = new Float32Array(model.getParameterCount());\n        }\n        if (((_d = (_c = this._parameterInputCaches) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) < model.getParameterCount()) {\n            this._parameterInputCaches = new Float32Array(model.getParameterCount());\n        }\n        for (let j = 0; j < model.getParameterCount(); ++j) {\n            this._parameterCaches[j] = parameterValues[j];\n            this._parameterInputCaches[j] = parameterValues[j];\n        }\n        for (let settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n            totalAngle = { angle: 0.0 };\n            totalTranslation.x = 0.0;\n            totalTranslation.y = 0.0;\n            currentSetting = this._physicsRig.settings.at(settingIndex);\n            currentInputs = this._physicsRig.inputs.get(currentSetting.baseInputIndex);\n            currentOutputs = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n            currentParticles = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\n            // Load input parameters\n            for (let i = 0; i < currentSetting.inputCount; ++i) {\n                weight = currentInputs[i].weight / MaximumWeight;\n                if (currentInputs[i].sourceParameterIndex == -1) {\n                    currentInputs[i].sourceParameterIndex = model.getParameterIndex(currentInputs[i].source.id);\n                }\n                currentInputs[i].getNormalizedParameterValue(totalTranslation, totalAngle, parameterValues[currentInputs[i].sourceParameterIndex], parameterMinimumValues[currentInputs[i].sourceParameterIndex], parameterMaximumValues[currentInputs[i].sourceParameterIndex], parameterDefaultValues[currentInputs[i].sourceParameterIndex], currentSetting.normalizationPosition, currentSetting.normalizationAngle, currentInputs[i].reflect, weight);\n                this._parameterCaches[currentInputs[i].sourceParameterIndex] =\n                    parameterValues[currentInputs[i].sourceParameterIndex];\n            }\n            radAngle = cubismmath_1.CubismMath.degreesToRadian(-totalAngle.angle);\n            totalTranslation.x =\n                totalTranslation.x * cubismmath_1.CubismMath.cos(radAngle) -\n                    totalTranslation.y * cubismmath_1.CubismMath.sin(radAngle);\n            totalTranslation.y =\n                totalTranslation.x * cubismmath_1.CubismMath.sin(radAngle) +\n                    totalTranslation.y * cubismmath_1.CubismMath.cos(radAngle);\n            // Calculate particles position.\n            updateParticlesForStabilization(currentParticles, currentSetting.particleCount, totalTranslation, totalAngle.angle, this._options.wind, MovementThreshold * currentSetting.normalizationPosition.maximum);\n            // Update output parameters.\n            for (let i = 0; i < currentSetting.outputCount; ++i) {\n                const particleIndex = currentOutputs[i].vertexIndex;\n                if (currentOutputs[i].destinationParameterIndex == -1) {\n                    currentOutputs[i].destinationParameterIndex = model.getParameterIndex(currentOutputs[i].destination.id);\n                }\n                if (particleIndex < 1 ||\n                    particleIndex >= currentSetting.particleCount) {\n                    continue;\n                }\n                let translation = new cubismvector2_1.CubismVector2();\n                translation = currentParticles[particleIndex].position.substract(currentParticles[particleIndex - 1].position);\n                outputValue = currentOutputs[i].getValue(translation, currentParticles, particleIndex, currentOutputs[i].reflect, this._options.gravity);\n                this._currentRigOutputs.at(settingIndex).outputs.set(i, outputValue);\n                this._previousRigOutputs.at(settingIndex).outputs.set(i, outputValue);\n                const destinationParameterIndex = currentOutputs[i].destinationParameterIndex;\n                const outParameterCaches = !Float32Array.prototype.slice && 'subarray' in Float32Array.prototype\n                    ? JSON.parse(JSON.stringify(parameterValues.subarray(destinationParameterIndex))) // JSON.parse, JSON.stringify\n                    : parameterValues.slice(destinationParameterIndex);\n                updateOutputParameterValue(outParameterCaches, parameterMinimumValues[destinationParameterIndex], parameterMaximumValues[destinationParameterIndex], outputValue, currentOutputs[i]);\n                // \n                for (let offset = destinationParameterIndex, outParamIndex = 0; offset < this._parameterCaches.length; offset++, outParamIndex++) {\n                    parameterValues[offset] = this._parameterCaches[offset] =\n                        outParameterCaches[outParamIndex];\n                }\n            }\n        }\n    }\n    /**\n     * \n     *\n     * Pendulum interpolation weights\n     *\n     * \n     * The result of the pendulum calculation is saved and\n     * the output to the parameters is interpolated with the saved previous result of the pendulum calculation.\n     *\n     * [1][2]\n     * The figure shows the interpolation between [1] and [2].\n     *\n     * \n     * The weight of the interpolation are determined by the current time seen between\n     * the latest pendulum calculation timing and the next timing.\n     *\n     * [2][4](3)\n     * Figure shows the weight of position (3) as seen between [2] and [4].\n     *\n     * \n     * As an interpretation, the pendulum calculation and weights are misaligned.\n     *\n     * physics3.jsonFPS\n     * If there is no FPS information in physics3.json, it is always set in the previous pendulum state.\n     *\n     * \n     * The purpose of this specification is to avoid the quivering appearance caused by deviations from the interpolation range.\n     *\n     * ------------ time -------------->\n     *\n     *                 |+++++|------| <- weight\n     * ==[1]====#=====[2]---(3)----(4)\n     *          ^ output contents\n     *\n     * 1:_previousRigOutputs\n     * 2:_currentRigOutputs\n     * 3:_currentRemainTime (now rendering)\n     * 4:next particles timing\n     * @param model \n     * @param deltaTimeSeconds []\n     */\n    evaluate(model, deltaTimeSeconds) {\n        var _a, _b, _c, _d;\n        let totalAngle;\n        let weight;\n        let radAngle;\n        let outputValue;\n        const totalTranslation = new cubismvector2_1.CubismVector2();\n        let currentSetting;\n        let currentInputs;\n        let currentOutputs;\n        let currentParticles;\n        if (0.0 >= deltaTimeSeconds) {\n            return;\n        }\n        let parameterValues;\n        let parameterMaximumValues;\n        let parameterMinimumValues;\n        let parameterDefaultValues;\n        let physicsDeltaTime;\n        this._currentRemainTime += deltaTimeSeconds;\n        if (this._currentRemainTime > MaxDeltaTime) {\n            this._currentRemainTime = 0.0;\n        }\n        parameterValues = model.getModel().parameters.values;\n        parameterMaximumValues = model.getModel().parameters.maximumValues;\n        parameterMinimumValues = model.getModel().parameters.minimumValues;\n        parameterDefaultValues = model.getModel().parameters.defaultValues;\n        if (((_b = (_a = this._parameterCaches) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) < model.getParameterCount()) {\n            this._parameterCaches = new Float32Array(model.getParameterCount());\n        }\n        if (((_d = (_c = this._parameterInputCaches) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) < model.getParameterCount()) {\n            this._parameterInputCaches = new Float32Array(model.getParameterCount());\n            for (let j = 0; j < model.getParameterCount(); ++j) {\n                this._parameterInputCaches[j] = parameterValues[j];\n            }\n        }\n        if (this._physicsRig.fps > 0.0) {\n            physicsDeltaTime = 1.0 / this._physicsRig.fps;\n        }\n        else {\n            physicsDeltaTime = deltaTimeSeconds;\n        }\n        while (this._currentRemainTime >= physicsDeltaTime) {\n            // copyRigOutputs _currentRigOutputs to _previousRigOutputs\n            for (let settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n                currentSetting = this._physicsRig.settings.at(settingIndex);\n                currentOutputs = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n                for (let i = 0; i < currentSetting.outputCount; ++i) {\n                    this._previousRigOutputs\n                        .at(settingIndex)\n                        .outputs.set(i, this._currentRigOutputs.at(settingIndex).outputs.at(i));\n                }\n            }\n            // UpdateParticles\n            // Calculate the input at the timing to UpdateParticles by linear interpolation with the _parameterInputCache and parameterValue.\n            // _parameterCache_parameterInputCache\n            // _parameterCache needs to be separated from _parameterInputCache because of its role in propagating values between groups.\n            const inputWeight = physicsDeltaTime / this._currentRemainTime;\n            for (let j = 0; j < model.getParameterCount(); ++j) {\n                this._parameterCaches[j] =\n                    this._parameterInputCaches[j] * (1.0 - inputWeight) +\n                        parameterValues[j] * inputWeight;\n                this._parameterInputCaches[j] = this._parameterCaches[j];\n            }\n            for (let settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n                totalAngle = { angle: 0.0 };\n                totalTranslation.x = 0.0;\n                totalTranslation.y = 0.0;\n                currentSetting = this._physicsRig.settings.at(settingIndex);\n                currentInputs = this._physicsRig.inputs.get(currentSetting.baseInputIndex);\n                currentOutputs = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n                currentParticles = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\n                // Load input parameters\n                for (let i = 0; i < currentSetting.inputCount; ++i) {\n                    weight = currentInputs[i].weight / MaximumWeight;\n                    if (currentInputs[i].sourceParameterIndex == -1) {\n                        currentInputs[i].sourceParameterIndex = model.getParameterIndex(currentInputs[i].source.id);\n                    }\n                    currentInputs[i].getNormalizedParameterValue(totalTranslation, totalAngle, this._parameterCaches[currentInputs[i].sourceParameterIndex], parameterMinimumValues[currentInputs[i].sourceParameterIndex], parameterMaximumValues[currentInputs[i].sourceParameterIndex], parameterDefaultValues[currentInputs[i].sourceParameterIndex], currentSetting.normalizationPosition, currentSetting.normalizationAngle, currentInputs[i].reflect, weight);\n                }\n                radAngle = cubismmath_1.CubismMath.degreesToRadian(-totalAngle.angle);\n                totalTranslation.x =\n                    totalTranslation.x * cubismmath_1.CubismMath.cos(radAngle) -\n                        totalTranslation.y * cubismmath_1.CubismMath.sin(radAngle);\n                totalTranslation.y =\n                    totalTranslation.x * cubismmath_1.CubismMath.sin(radAngle) +\n                        totalTranslation.y * cubismmath_1.CubismMath.cos(radAngle);\n                // Calculate particles position.\n                updateParticles(currentParticles, currentSetting.particleCount, totalTranslation, totalAngle.angle, this._options.wind, MovementThreshold * currentSetting.normalizationPosition.maximum, physicsDeltaTime, AirResistance);\n                // Update output parameters.\n                for (let i = 0; i < currentSetting.outputCount; ++i) {\n                    const particleIndex = currentOutputs[i].vertexIndex;\n                    if (currentOutputs[i].destinationParameterIndex == -1) {\n                        currentOutputs[i].destinationParameterIndex =\n                            model.getParameterIndex(currentOutputs[i].destination.id);\n                    }\n                    if (particleIndex < 1 ||\n                        particleIndex >= currentSetting.particleCount) {\n                        continue;\n                    }\n                    const translation = new cubismvector2_1.CubismVector2();\n                    translation.x =\n                        currentParticles[particleIndex].position.x -\n                            currentParticles[particleIndex - 1].position.x;\n                    translation.y =\n                        currentParticles[particleIndex].position.y -\n                            currentParticles[particleIndex - 1].position.y;\n                    outputValue = currentOutputs[i].getValue(translation, currentParticles, particleIndex, currentOutputs[i].reflect, this._options.gravity);\n                    this._currentRigOutputs.at(settingIndex).outputs.set(i, outputValue);\n                    const destinationParameterIndex = currentOutputs[i].destinationParameterIndex;\n                    const outParameterCaches = !Float32Array.prototype.slice &&\n                        'subarray' in Float32Array.prototype\n                        ? JSON.parse(JSON.stringify(this._parameterCaches.subarray(destinationParameterIndex))) // JSON.parse, JSON.stringify\n                        : this._parameterCaches.slice(destinationParameterIndex);\n                    updateOutputParameterValue(outParameterCaches, parameterMinimumValues[destinationParameterIndex], parameterMaximumValues[destinationParameterIndex], outputValue, currentOutputs[i]);\n                    // \n                    for (let offset = destinationParameterIndex, outParamIndex = 0; offset < this._parameterCaches.length; offset++, outParamIndex++) {\n                        this._parameterCaches[offset] = outParameterCaches[outParamIndex];\n                    }\n                }\n            }\n            this._currentRemainTime -= physicsDeltaTime;\n        }\n        const alpha = this._currentRemainTime / physicsDeltaTime;\n        this.interpolate(model, alpha);\n    }\n    /**\n     * \n     * \n     * @param model \n     * @param weight \n     */\n    interpolate(model, weight) {\n        let currentOutputs;\n        let currentSetting;\n        let parameterValues;\n        let parameterMaximumValues;\n        let parameterMinimumValues;\n        parameterValues = model.getModel().parameters.values;\n        parameterMaximumValues = model.getModel().parameters.maximumValues;\n        parameterMinimumValues = model.getModel().parameters.minimumValues;\n        for (let settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n            currentSetting = this._physicsRig.settings.at(settingIndex);\n            currentOutputs = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n            // Load input parameters.\n            for (let i = 0; i < currentSetting.outputCount; ++i) {\n                if (currentOutputs[i].destinationParameterIndex == -1) {\n                    continue;\n                }\n                const destinationParameterIndex = currentOutputs[i].destinationParameterIndex;\n                const outParameterValues = !Float32Array.prototype.slice && 'subarray' in Float32Array.prototype\n                    ? JSON.parse(JSON.stringify(parameterValues.subarray(destinationParameterIndex))) // JSON.parse, JSON.stringify\n                    : parameterValues.slice(destinationParameterIndex);\n                updateOutputParameterValue(outParameterValues, parameterMinimumValues[destinationParameterIndex], parameterMaximumValues[destinationParameterIndex], this._previousRigOutputs.at(settingIndex).outputs.at(i) *\n                    (1 - weight) +\n                    this._currentRigOutputs.at(settingIndex).outputs.at(i) * weight, currentOutputs[i]);\n                // \n                for (let offset = destinationParameterIndex, outParamIndex = 0; offset < parameterValues.length; offset++, outParamIndex++) {\n                    parameterValues[offset] = outParameterValues[outParamIndex];\n                }\n            }\n        }\n    }\n    /**\n     * \n     * @param options \n     */\n    setOptions(options) {\n        this._options = options;\n    }\n    /**\n     * \n     * @return \n     */\n    getOption() {\n        return this._options;\n    }\n    /**\n     * \n     */\n    constructor() {\n        this._physicsRig = null;\n        // set default options\n        this._options = new Options();\n        this._options.gravity.y = -1.0;\n        this._options.gravity.x = 0.0;\n        this._options.wind.x = 0.0;\n        this._options.wind.y = 0.0;\n        this._currentRigOutputs = new csmvector_1.csmVector();\n        this._previousRigOutputs = new csmvector_1.csmVector();\n        this._currentRemainTime = 0.0;\n        this._parameterCaches = null;\n        this._parameterInputCaches = null;\n    }\n    /**\n     * \n     */\n    release() {\n        this._physicsRig = void 0;\n        this._physicsRig = null;\n    }\n    /**\n     * \n     */\n    initialize() {\n        let strand;\n        let currentSetting;\n        let radius;\n        for (let settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n            currentSetting = this._physicsRig.settings.at(settingIndex);\n            strand = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\n            // Initialize the top of particle.\n            strand[0].initialPosition = new cubismvector2_1.CubismVector2(0.0, 0.0);\n            strand[0].lastPosition = new cubismvector2_1.CubismVector2(strand[0].initialPosition.x, strand[0].initialPosition.y);\n            strand[0].lastGravity = new cubismvector2_1.CubismVector2(0.0, -1.0);\n            strand[0].lastGravity.y *= -1.0;\n            strand[0].velocity = new cubismvector2_1.CubismVector2(0.0, 0.0);\n            strand[0].force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n            // Initialize particles.\n            for (let i = 1; i < currentSetting.particleCount; ++i) {\n                radius = new cubismvector2_1.CubismVector2(0.0, 0.0);\n                radius.y = strand[i].radius;\n                strand[i].initialPosition = new cubismvector2_1.CubismVector2(strand[i - 1].initialPosition.x + radius.x, strand[i - 1].initialPosition.y + radius.y);\n                strand[i].position = new cubismvector2_1.CubismVector2(strand[i].initialPosition.x, strand[i].initialPosition.y);\n                strand[i].lastPosition = new cubismvector2_1.CubismVector2(strand[i].initialPosition.x, strand[i].initialPosition.y);\n                strand[i].lastGravity = new cubismvector2_1.CubismVector2(0.0, -1.0);\n                strand[i].lastGravity.y *= -1.0;\n                strand[i].velocity = new cubismvector2_1.CubismVector2(0.0, 0.0);\n                strand[i].force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n            }\n        }\n    }\n}\nexports.CubismPhysics = CubismPhysics;\n/**\n * \n */\nclass Options {\n    constructor() {\n        this.gravity = new cubismvector2_1.CubismVector2(0, 0);\n        this.wind = new cubismvector2_1.CubismVector2(0, 0);\n    }\n}\nexports.Options = Options;\n/**\n * \n */\nclass PhysicsOutput {\n    constructor() {\n        this.outputs = new csmvector_1.csmVector(0);\n    }\n}\nexports.PhysicsOutput = PhysicsOutput;\n/**\n * Gets sign.\n *\n * @param value Evaluation target value.\n *\n * @return Sign of value.\n */\nfunction sign(value) {\n    let ret = 0;\n    if (value > 0.0) {\n        ret = 1;\n    }\n    else if (value < 0.0) {\n        ret = -1;\n    }\n    return ret;\n}\nfunction getInputTranslationXFromNormalizedParameterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition, normalizationAngle, isInverted, weight) {\n    targetTranslation.x +=\n        normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition.minimum, normalizationPosition.maximum, normalizationPosition.defalut, isInverted) * weight;\n}\nfunction getInputTranslationYFromNormalizedParamterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition, normalizationAngle, isInverted, weight) {\n    targetTranslation.y +=\n        normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition.minimum, normalizationPosition.maximum, normalizationPosition.defalut, isInverted) * weight;\n}\nfunction getInputAngleFromNormalizedParameterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizaitionPosition, normalizationAngle, isInverted, weight) {\n    targetAngle.angle +=\n        normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationAngle.minimum, normalizationAngle.maximum, normalizationAngle.defalut, isInverted) * weight;\n}\nfunction getOutputTranslationX(translation, particles, particleIndex, isInverted, parentGravity) {\n    let outputValue = translation.x;\n    if (isInverted) {\n        outputValue *= -1.0;\n    }\n    return outputValue;\n}\nfunction getOutputTranslationY(translation, particles, particleIndex, isInverted, parentGravity) {\n    let outputValue = translation.y;\n    if (isInverted) {\n        outputValue *= -1.0;\n    }\n    return outputValue;\n}\nfunction getOutputAngle(translation, particles, particleIndex, isInverted, parentGravity) {\n    let outputValue;\n    if (particleIndex >= 2) {\n        parentGravity = particles[particleIndex - 1].position.substract(particles[particleIndex - 2].position);\n    }\n    else {\n        parentGravity = parentGravity.multiplyByScaler(-1.0);\n    }\n    outputValue = cubismmath_1.CubismMath.directionToRadian(parentGravity, translation);\n    if (isInverted) {\n        outputValue *= -1.0;\n    }\n    return outputValue;\n}\nfunction getRangeValue(min, max) {\n    const maxValue = cubismmath_1.CubismMath.max(min, max);\n    const minValue = cubismmath_1.CubismMath.min(min, max);\n    return cubismmath_1.CubismMath.abs(maxValue - minValue);\n}\nfunction getDefaultValue(min, max) {\n    const minValue = cubismmath_1.CubismMath.min(min, max);\n    return minValue + getRangeValue(min, max) / 2.0;\n}\nfunction getOutputScaleTranslationX(translationScale, angleScale) {\n    return JSON.parse(JSON.stringify(translationScale.x));\n}\nfunction getOutputScaleTranslationY(translationScale, angleScale) {\n    return JSON.parse(JSON.stringify(translationScale.y));\n}\nfunction getOutputScaleAngle(translationScale, angleScale) {\n    return JSON.parse(JSON.stringify(angleScale));\n}\n/**\n * Updates particles.\n *\n * @param strand                Target array of particle.\n * @param strandCount           Count of particle.\n * @param totalTranslation      Total translation value.\n * @param totalAngle            Total angle.\n * @param windDirection         Direction of Wind.\n * @param thresholdValue        Threshold of movement.\n * @param deltaTimeSeconds      Delta time.\n * @param airResistance         Air resistance.\n */\nfunction updateParticles(strand, strandCount, totalTranslation, totalAngle, windDirection, thresholdValue, deltaTimeSeconds, airResistance) {\n    let totalRadian;\n    let delay;\n    let radian;\n    let currentGravity;\n    let direction = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    let velocity = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    let force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    let newDirection = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    strand[0].position = new cubismvector2_1.CubismVector2(totalTranslation.x, totalTranslation.y);\n    totalRadian = cubismmath_1.CubismMath.degreesToRadian(totalAngle);\n    currentGravity = cubismmath_1.CubismMath.radianToDirection(totalRadian);\n    currentGravity.normalize();\n    for (let i = 1; i < strandCount; ++i) {\n        strand[i].force = currentGravity\n            .multiplyByScaler(strand[i].acceleration)\n            .add(windDirection);\n        strand[i].lastPosition = new cubismvector2_1.CubismVector2(strand[i].position.x, strand[i].position.y);\n        delay = strand[i].delay * deltaTimeSeconds * 30.0;\n        direction = strand[i].position.substract(strand[i - 1].position);\n        radian =\n            cubismmath_1.CubismMath.directionToRadian(strand[i].lastGravity, currentGravity) /\n                airResistance;\n        direction.x =\n            cubismmath_1.CubismMath.cos(radian) * direction.x -\n                direction.y * cubismmath_1.CubismMath.sin(radian);\n        direction.y =\n            cubismmath_1.CubismMath.sin(radian) * direction.x +\n                direction.y * cubismmath_1.CubismMath.cos(radian);\n        strand[i].position = strand[i - 1].position.add(direction);\n        velocity = strand[i].velocity.multiplyByScaler(delay);\n        force = strand[i].force.multiplyByScaler(delay).multiplyByScaler(delay);\n        strand[i].position = strand[i].position.add(velocity).add(force);\n        newDirection = strand[i].position.substract(strand[i - 1].position);\n        newDirection.normalize();\n        strand[i].position = strand[i - 1].position.add(newDirection.multiplyByScaler(strand[i].radius));\n        if (cubismmath_1.CubismMath.abs(strand[i].position.x) < thresholdValue) {\n            strand[i].position.x = 0.0;\n        }\n        if (delay != 0.0) {\n            strand[i].velocity = strand[i].position.substract(strand[i].lastPosition);\n            strand[i].velocity = strand[i].velocity.divisionByScalar(delay);\n            strand[i].velocity = strand[i].velocity.multiplyByScaler(strand[i].mobility);\n        }\n        strand[i].force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n        strand[i].lastGravity = new cubismvector2_1.CubismVector2(currentGravity.x, currentGravity.y);\n    }\n}\n/**\n * Updates particles for stabilization.\n *\n * @param strand                Target array of particle.\n * @param strandCount           Count of particle.\n * @param totalTranslation      Total translation value.\n * @param totalAngle            Total angle.\n * @param windDirection         Direction of Wind.\n * @param thresholdValue        Threshold of movement.\n */\nfunction updateParticlesForStabilization(strand, strandCount, totalTranslation, totalAngle, windDirection, thresholdValue) {\n    let totalRadian;\n    let currentGravity;\n    let force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    strand[0].position = new cubismvector2_1.CubismVector2(totalTranslation.x, totalTranslation.y);\n    totalRadian = cubismmath_1.CubismMath.degreesToRadian(totalAngle);\n    currentGravity = cubismmath_1.CubismMath.radianToDirection(totalRadian);\n    currentGravity.normalize();\n    for (let i = 1; i < strandCount; ++i) {\n        strand[i].force = currentGravity\n            .multiplyByScaler(strand[i].acceleration)\n            .add(windDirection);\n        strand[i].lastPosition = new cubismvector2_1.CubismVector2(strand[i].position.x, strand[i].position.y);\n        strand[i].velocity = new cubismvector2_1.CubismVector2(0.0, 0.0);\n        force = strand[i].force;\n        force.normalize();\n        force = force.multiplyByScaler(strand[i].radius);\n        strand[i].position = strand[i - 1].position.add(force);\n        if (cubismmath_1.CubismMath.abs(strand[i].position.x) < thresholdValue) {\n            strand[i].position.x = 0.0;\n        }\n        strand[i].force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n        strand[i].lastGravity = new cubismvector2_1.CubismVector2(currentGravity.x, currentGravity.y);\n    }\n}\n/**\n * Updates output parameter value.\n * @param parameterValue            Target parameter value.\n * @param parameterValueMinimum     Minimum of parameter value.\n * @param parameterValueMaximum     Maximum of parameter value.\n * @param translation               Translation value.\n */\nfunction updateOutputParameterValue(parameterValue, parameterValueMinimum, parameterValueMaximum, translation, output) {\n    let outputScale;\n    let value;\n    let weight;\n    outputScale = output.getScale(output.translationScale, output.angleScale);\n    value = translation * outputScale;\n    if (value < parameterValueMinimum) {\n        if (value < output.valueBelowMinimum) {\n            output.valueBelowMinimum = value;\n        }\n        value = parameterValueMinimum;\n    }\n    else if (value > parameterValueMaximum) {\n        if (value > output.valueExceededMaximum) {\n            output.valueExceededMaximum = value;\n        }\n        value = parameterValueMaximum;\n    }\n    weight = output.weight / MaximumWeight;\n    if (weight >= 1.0) {\n        parameterValue[0] = value;\n    }\n    else {\n        value = parameterValue[0] * (1.0 - weight) + value * weight;\n        parameterValue[0] = value;\n    }\n}\nfunction normalizeParameterValue(value, parameterMinimum, parameterMaximum, parameterDefault, normalizedMinimum, normalizedMaximum, normalizedDefault, isInverted) {\n    let result = 0.0;\n    const maxValue = cubismmath_1.CubismMath.max(parameterMaximum, parameterMinimum);\n    if (maxValue < value) {\n        value = maxValue;\n    }\n    const minValue = cubismmath_1.CubismMath.min(parameterMaximum, parameterMinimum);\n    if (minValue > value) {\n        value = minValue;\n    }\n    const minNormValue = cubismmath_1.CubismMath.min(normalizedMinimum, normalizedMaximum);\n    const maxNormValue = cubismmath_1.CubismMath.max(normalizedMinimum, normalizedMaximum);\n    const middleNormValue = normalizedDefault;\n    const middleValue = getDefaultValue(minValue, maxValue);\n    const paramValue = value - middleValue;\n    switch (sign(paramValue)) {\n        case 1: {\n            const nLength = maxNormValue - middleNormValue;\n            const pLength = maxValue - middleValue;\n            if (pLength != 0.0) {\n                result = paramValue * (nLength / pLength);\n                result += middleNormValue;\n            }\n            break;\n        }\n        case -1: {\n            const nLength = minNormValue - middleNormValue;\n            const pLength = minValue - middleValue;\n            if (pLength != 0.0) {\n                result = paramValue * (nLength / pLength);\n                result += middleNormValue;\n            }\n            break;\n        }\n        case 0: {\n            result = middleNormValue;\n            break;\n        }\n        default: {\n            break;\n        }\n    }\n    return isInverted ? result : result * -1.0;\n}\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismphysics */ \"./cubism/Framework/src/physics/cubismphysics.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismPhysics = $.CubismPhysics;\n    Live2DCubismFramework.Options = $.Options;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/physics/cubismphysics.ts?");

/***/ }),

/***/ "./cubism/Framework/src/physics/cubismphysicsinternal.ts":
/*!***************************************************************!*\
  !*** ./cubism/Framework/src/physics/cubismphysicsinternal.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismPhysicsRig = exports.CubismPhysicsOutput = exports.CubismPhysicsInput = exports.CubismPhysicsSubRig = exports.CubismPhysicsParticle = exports.CubismPhysicsNormalization = exports.CubismPhysicsParameter = exports.PhysicsJsonEffectiveForces = exports.CubismPhysicsSource = exports.CubismPhysicsTargetType = void 0;\nconst cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./cubism/Framework/src/math/cubismvector2.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\n/**\n * \n */\nvar CubismPhysicsTargetType;\n(function (CubismPhysicsTargetType) {\n    CubismPhysicsTargetType[CubismPhysicsTargetType[\"CubismPhysicsTargetType_Parameter\"] = 0] = \"CubismPhysicsTargetType_Parameter\";\n})(CubismPhysicsTargetType || (exports.CubismPhysicsTargetType = CubismPhysicsTargetType = {}));\n/**\n * \n */\nvar CubismPhysicsSource;\n(function (CubismPhysicsSource) {\n    CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_X\"] = 0] = \"CubismPhysicsSource_X\";\n    CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_Y\"] = 1] = \"CubismPhysicsSource_Y\";\n    CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_Angle\"] = 2] = \"CubismPhysicsSource_Angle\";\n})(CubismPhysicsSource || (exports.CubismPhysicsSource = CubismPhysicsSource = {}));\n/**\n * @brief \n *\n * \n */\nclass PhysicsJsonEffectiveForces {\n    constructor() {\n        this.gravity = new cubismvector2_1.CubismVector2(0, 0);\n        this.wind = new cubismvector2_1.CubismVector2(0, 0);\n    }\n}\nexports.PhysicsJsonEffectiveForces = PhysicsJsonEffectiveForces;\n/**\n * \n */\nclass CubismPhysicsParameter {\n}\nexports.CubismPhysicsParameter = CubismPhysicsParameter;\n/**\n * \n */\nclass CubismPhysicsNormalization {\n}\nexports.CubismPhysicsNormalization = CubismPhysicsNormalization;\n/**\n * \n */\nclass CubismPhysicsParticle {\n    constructor() {\n        this.initialPosition = new cubismvector2_1.CubismVector2(0, 0);\n        this.position = new cubismvector2_1.CubismVector2(0, 0);\n        this.lastPosition = new cubismvector2_1.CubismVector2(0, 0);\n        this.lastGravity = new cubismvector2_1.CubismVector2(0, 0);\n        this.force = new cubismvector2_1.CubismVector2(0, 0);\n        this.velocity = new cubismvector2_1.CubismVector2(0, 0);\n    }\n}\nexports.CubismPhysicsParticle = CubismPhysicsParticle;\n/**\n * \n */\nclass CubismPhysicsSubRig {\n    constructor() {\n        this.normalizationPosition = new CubismPhysicsNormalization();\n        this.normalizationAngle = new CubismPhysicsNormalization();\n    }\n}\nexports.CubismPhysicsSubRig = CubismPhysicsSubRig;\n/**\n * \n */\nclass CubismPhysicsInput {\n    constructor() {\n        this.source = new CubismPhysicsParameter();\n    }\n}\nexports.CubismPhysicsInput = CubismPhysicsInput;\n/**\n * @brief \n *\n * \n */\nclass CubismPhysicsOutput {\n    constructor() {\n        this.destination = new CubismPhysicsParameter();\n        this.translationScale = new cubismvector2_1.CubismVector2(0, 0);\n    }\n}\nexports.CubismPhysicsOutput = CubismPhysicsOutput;\n/**\n * @brief \n *\n * \n */\nclass CubismPhysicsRig {\n    constructor() {\n        this.settings = new csmvector_1.csmVector();\n        this.inputs = new csmvector_1.csmVector();\n        this.outputs = new csmvector_1.csmVector();\n        this.particles = new csmvector_1.csmVector();\n        this.gravity = new cubismvector2_1.CubismVector2(0, 0);\n        this.wind = new cubismvector2_1.CubismVector2(0, 0);\n        this.fps = 0.0;\n    }\n}\nexports.CubismPhysicsRig = CubismPhysicsRig;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismphysicsinternal */ \"./cubism/Framework/src/physics/cubismphysicsinternal.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismPhysicsInput = $.CubismPhysicsInput;\n    Live2DCubismFramework.CubismPhysicsNormalization = $.CubismPhysicsNormalization;\n    Live2DCubismFramework.CubismPhysicsOutput = $.CubismPhysicsOutput;\n    Live2DCubismFramework.CubismPhysicsParameter = $.CubismPhysicsParameter;\n    Live2DCubismFramework.CubismPhysicsParticle = $.CubismPhysicsParticle;\n    Live2DCubismFramework.CubismPhysicsRig = $.CubismPhysicsRig;\n    Live2DCubismFramework.CubismPhysicsSource = $.CubismPhysicsSource;\n    Live2DCubismFramework.CubismPhysicsSubRig = $.CubismPhysicsSubRig;\n    Live2DCubismFramework.CubismPhysicsTargetType = $.CubismPhysicsTargetType;\n    Live2DCubismFramework.PhysicsJsonEffectiveForces = $.PhysicsJsonEffectiveForces;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/physics/cubismphysicsinternal.ts?");

/***/ }),

/***/ "./cubism/Framework/src/physics/cubismphysicsjson.ts":
/*!***********************************************************!*\
  !*** ./cubism/Framework/src/physics/cubismphysicsjson.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismPhysicsJson = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./cubism/Framework/src/math/cubismvector2.ts\");\nconst cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\n// JSON keys\nconst Position = 'Position';\nconst X = 'X';\nconst Y = 'Y';\nconst Angle = 'Angle';\nconst Type = 'Type';\nconst Id = 'Id';\n// Meta\nconst Meta = 'Meta';\nconst EffectiveForces = 'EffectiveForces';\nconst TotalInputCount = 'TotalInputCount';\nconst TotalOutputCount = 'TotalOutputCount';\nconst PhysicsSettingCount = 'PhysicsSettingCount';\nconst Gravity = 'Gravity';\nconst Wind = 'Wind';\nconst VertexCount = 'VertexCount';\nconst Fps = 'Fps';\n// PhysicsSettings\nconst PhysicsSettings = 'PhysicsSettings';\nconst Normalization = 'Normalization';\nconst Minimum = 'Minimum';\nconst Maximum = 'Maximum';\nconst Default = 'Default';\nconst Reflect = 'Reflect';\nconst Weight = 'Weight';\n// Input\nconst Input = 'Input';\nconst Source = 'Source';\n// Output\nconst Output = 'Output';\nconst Scale = 'Scale';\nconst VertexIndex = 'VertexIndex';\nconst Destination = 'Destination';\n// Particle\nconst Vertices = 'Vertices';\nconst Mobility = 'Mobility';\nconst Delay = 'Delay';\nconst Radius = 'Radius';\nconst Acceleration = 'Acceleration';\n/**\n * physics3.json\n */\nclass CubismPhysicsJson {\n    /**\n     * \n     * @param buffer physics3.json\n     * @param size \n     */\n    constructor(buffer, size) {\n        this._json = cubismjson_1.CubismJson.create(buffer, size);\n    }\n    /**\n     * \n     */\n    release() {\n        cubismjson_1.CubismJson.delete(this._json);\n    }\n    /**\n     * \n     * @return \n     */\n    getGravity() {\n        const ret = new cubismvector2_1.CubismVector2(0, 0);\n        ret.x = this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(EffectiveForces)\n            .getValueByString(Gravity)\n            .getValueByString(X)\n            .toFloat();\n        ret.y = this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(EffectiveForces)\n            .getValueByString(Gravity)\n            .getValueByString(Y)\n            .toFloat();\n        return ret;\n    }\n    /**\n     * \n     * @return \n     */\n    getWind() {\n        const ret = new cubismvector2_1.CubismVector2(0, 0);\n        ret.x = this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(EffectiveForces)\n            .getValueByString(Wind)\n            .getValueByString(X)\n            .toFloat();\n        ret.y = this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(EffectiveForces)\n            .getValueByString(Wind)\n            .getValueByString(Y)\n            .toFloat();\n        return ret;\n    }\n    /**\n     * FPS\n     * @return FPS\n     */\n    getFps() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(Fps)\n            .toFloat(0.0);\n    }\n    /**\n     * \n     * @return \n     */\n    getSubRigCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(PhysicsSettingCount)\n            .toInt();\n    }\n    /**\n     * \n     * @return \n     */\n    getTotalInputCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalInputCount)\n            .toInt();\n    }\n    /**\n     * \n     * @return \n     */\n    getTotalOutputCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalOutputCount)\n            .toInt();\n    }\n    /**\n     * \n     * @return \n     */\n    getVertexCount() {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(VertexCount)\n            .toInt();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @return \n     */\n    getNormalizationPositionMinimumValue(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Position)\n            .getValueByString(Minimum)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @return \n     */\n    getNormalizationPositionMaximumValue(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Position)\n            .getValueByString(Maximum)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @return \n     */\n    getNormalizationPositionDefaultValue(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Position)\n            .getValueByString(Default)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @return \n     */\n    getNormalizationAngleMinimumValue(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Angle)\n            .getValueByString(Minimum)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex\n     * @return \n     */\n    getNormalizationAngleMaximumValue(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Angle)\n            .getValueByString(Maximum)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @return \n     */\n    getNormalizationAngleDefaultValue(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Angle)\n            .getValueByString(Default)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @return \n     */\n    getInputCount(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getVector()\n            .getSize();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param inputIndex \n     * @return \n     */\n    getInputWeight(physicsSettingIndex, inputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getValueByIndex(inputIndex)\n            .getValueByString(Weight)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param inputIndex \n     * @return \n     */\n    getInputReflect(physicsSettingIndex, inputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getValueByIndex(inputIndex)\n            .getValueByString(Reflect)\n            .toBoolean();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param inputIndex \n     * @return \n     */\n    getInputType(physicsSettingIndex, inputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getValueByIndex(inputIndex)\n            .getValueByString(Type)\n            .getRawString();\n    }\n    /**\n     * ID\n     * @param physicsSettingIndex \n     * @param inputIndex \n     * @return ID\n     */\n    getInputSourceId(physicsSettingIndex, inputIndex) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getValueByIndex(inputIndex)\n            .getValueByString(Source)\n            .getValueByString(Id)\n            .getRawString());\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @return \n     */\n    getOutputCount(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getVector()\n            .getSize();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param outputIndex \n     * @return \n     */\n    getOutputVertexIndex(physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(VertexIndex)\n            .toInt();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param outputIndex \n     * @return \n     */\n    getOutputAngleScale(physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Scale)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param outputIndex \n     * @return \n     */\n    getOutputWeight(physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Weight)\n            .toFloat();\n    }\n    /**\n     * ID\n     * @param physicsSettingIndex \n     * @param outputIndex \n     * @return ID\n     */\n    getOutputDestinationId(physicsSettingIndex, outputIndex) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Destination)\n            .getValueByString(Id)\n            .getRawString());\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param outputIndex \n     * @return \n     */\n    getOutputType(physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Type)\n            .getRawString();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param outputIndex \n     * @return \n     */\n    getOutputReflect(physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Reflect)\n            .toBoolean();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @return \n     */\n    getParticleCount(physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getVector()\n            .getSize();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param vertexIndex \n     * @return \n     */\n    getParticleMobility(physicsSettingIndex, vertexIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Mobility)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param vertexIndex \n     * @return \n     */\n    getParticleDelay(physicsSettingIndex, vertexIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Delay)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param vertexIndex \n     * @return \n     */\n    getParticleAcceleration(physicsSettingIndex, vertexIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Acceleration)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param vertexIndex \n     * @return \n     */\n    getParticleRadius(physicsSettingIndex, vertexIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Radius)\n            .toFloat();\n    }\n    /**\n     * \n     * @param physicsSettingIndex \n     * @param vertexInde \n     * @return \n     */\n    getParticlePosition(physicsSettingIndex, vertexIndex) {\n        const ret = new cubismvector2_1.CubismVector2(0, 0);\n        ret.x = this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Position)\n            .getValueByString(X)\n            .toFloat();\n        ret.y = this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Position)\n            .getValueByString(Y)\n            .toFloat();\n        return ret;\n    }\n}\nexports.CubismPhysicsJson = CubismPhysicsJson;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismphysicsjson */ \"./cubism/Framework/src/physics/cubismphysicsjson.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismPhysicsJson = $.CubismPhysicsJson;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/physics/cubismphysicsjson.ts?");

/***/ }),

/***/ "./cubism/Framework/src/rendering/cubismrenderer.ts":
/*!**********************************************************!*\
  !*** ./cubism/Framework/src/rendering/cubismrenderer.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismTextureColor = exports.CubismBlendMode = exports.CubismRenderer = void 0;\nconst cubismmatrix44_1 = __webpack_require__(/*! ../math/cubismmatrix44 */ \"./cubism/Framework/src/math/cubismmatrix44.ts\");\n/**\n * \n *\n * \n */\nclass CubismRenderer {\n    /**\n     * \n     *\n     * @return \n     */\n    static create() {\n        return null;\n    }\n    /**\n     * \n     */\n    static delete(renderer) {\n        renderer = null;\n    }\n    /**\n     * \n     * \n     * @param model \n     */\n    initialize(model) {\n        this._model = model;\n    }\n    /**\n     * \n     */\n    drawModel() {\n        if (this.getModel() == null)\n            return;\n        this.saveProfile();\n        this.doDrawModel();\n        this.restoreProfile();\n    }\n    /**\n     * Model-View-Projection \n     * \n     * @param matrix44 Model-View-Projection \n     */\n    setMvpMatrix(matrix44) {\n        this._mvpMatrix4x4.setMatrix(matrix44.getArray());\n    }\n    /**\n     * Model-View-Projection \n     * @return Model-View-Projection \n     */\n    getMvpMatrix() {\n        return this._mvpMatrix4x4;\n    }\n    /**\n     * \n     * 0.0~1.01.0\n     * @param red \n     * @param green \n     * @param blue \n     * @param alpha \n     */\n    setModelColor(red, green, blue, alpha) {\n        if (red < 0.0) {\n            red = 0.0;\n        }\n        else if (red > 1.0) {\n            red = 1.0;\n        }\n        if (green < 0.0) {\n            green = 0.0;\n        }\n        else if (green > 1.0) {\n            green = 1.0;\n        }\n        if (blue < 0.0) {\n            blue = 0.0;\n        }\n        else if (blue > 1.0) {\n            blue = 1.0;\n        }\n        if (alpha < 0.0) {\n            alpha = 0.0;\n        }\n        else if (alpha > 1.0) {\n            alpha = 1.0;\n        }\n        this._modelColor.R = red;\n        this._modelColor.G = green;\n        this._modelColor.B = blue;\n        this._modelColor.A = alpha;\n    }\n    /**\n     * \n     * 0.0~1.0(1.0)\n     *\n     * @return RGBA\n     */\n    getModelColor() {\n        return JSON.parse(JSON.stringify(this._modelColor));\n    }\n    /**\n     * \n     * truefalse\n     */\n    setIsPremultipliedAlpha(enable) {\n        this._isPremultipliedAlpha = enable;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isPremultipliedAlpha() {\n        return this._isPremultipliedAlpha;\n    }\n    /**\n     * \n     * truefalse\n     */\n    setIsCulling(culling) {\n        this._isCulling = culling;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isCulling() {\n        return this._isCulling;\n    }\n    /**\n     * \n     * \n     * @param n \n     */\n    setAnisotropy(n) {\n        this._anisotropy = n;\n    }\n    /**\n     * \n     * @return \n     */\n    getAnisotropy() {\n        return this._anisotropy;\n    }\n    /**\n     * \n     * @return \n     */\n    getModel() {\n        return this._model;\n    }\n    /**\n     * \n     * false1\n     * 36\n     * true\n     * \n     * @param high \n     */\n    useHighPrecisionMask(high) {\n        this._useHighPrecisionMask = high;\n    }\n    /**\n     * \n     * @return true \n     * @return false \n     */\n    isUsingHighPrecisionMask() {\n        return this._useHighPrecisionMask;\n    }\n    /**\n     * \n     */\n    constructor() {\n        this._isCulling = false;\n        this._isPremultipliedAlpha = false;\n        this._anisotropy = 0.0;\n        this._model = null;\n        this._modelColor = new CubismTextureColor();\n        this._useHighPrecisionMask = false;\n        // \n        this._mvpMatrix4x4 = new cubismmatrix44_1.CubismMatrix44();\n        this._mvpMatrix4x4.loadIdentity();\n    }\n}\nexports.CubismRenderer = CubismRenderer;\nvar CubismBlendMode;\n(function (CubismBlendMode) {\n    CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Normal\"] = 0] = \"CubismBlendMode_Normal\";\n    CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Additive\"] = 1] = \"CubismBlendMode_Additive\";\n    CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Multiplicative\"] = 2] = \"CubismBlendMode_Multiplicative\";\n})(CubismBlendMode || (exports.CubismBlendMode = CubismBlendMode = {}));\n/**\n * RGBA\n */\nclass CubismTextureColor {\n    /**\n     * \n     */\n    constructor(r = 1.0, g = 1.0, b = 1.0, a = 1.0) {\n        this.R = r;\n        this.G = g;\n        this.B = b;\n        this.A = a;\n    }\n}\nexports.CubismTextureColor = CubismTextureColor;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismrenderer */ \"./cubism/Framework/src/rendering/cubismrenderer.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismBlendMode = $.CubismBlendMode;\n    Live2DCubismFramework.CubismRenderer = $.CubismRenderer;\n    Live2DCubismFramework.CubismTextureColor = $.CubismTextureColor;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/rendering/cubismrenderer.ts?");

/***/ }),

/***/ "./cubism/Framework/src/rendering/cubismrenderer_webgl.ts":
/*!****************************************************************!*\
  !*** ./cubism/Framework/src/rendering/cubismrenderer_webgl.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismRenderer_WebGL = exports.fragmentShaderSrcMaskInvertedPremultipliedAlpha = exports.fragmentShaderSrcMaskPremultipliedAlpha = exports.fragmentShaderSrcPremultipliedAlpha = exports.vertexShaderSrcMasked = exports.vertexShaderSrc = exports.fragmentShaderSrcsetupMask = exports.vertexShaderSrcSetupMask = exports.ShaderNames = exports.CubismShaderSet = exports.CubismShader_WebGL = exports.CubismRendererProfile_WebGL = exports.CubismClippingContext = exports.CubismRenderTextureResource = exports.CubismClippingManager_WebGL = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst cubismmatrix44_1 = __webpack_require__(/*! ../math/cubismmatrix44 */ \"./cubism/Framework/src/math/cubismmatrix44.ts\");\nconst csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./cubism/Framework/src/type/csmmap.ts\");\nconst csmrectf_1 = __webpack_require__(/*! ../type/csmrectf */ \"./cubism/Framework/src/type/csmrectf.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\nconst cubismrenderer_1 = __webpack_require__(/*! ./cubismrenderer */ \"./cubism/Framework/src/rendering/cubismrenderer.ts\");\nconst ColorChannelCount = 4; // 11RGB34\nconst ClippingMaskMaxCountOnDefault = 36; // \nconst ClippingMaskMaxCountOnMultiRenderTexture = 32; // 2\nconst ShaderCount = 10; //  =  + ( +  + ) * ( +  + )\nlet s_instance;\nlet s_viewport;\nlet s_fbo;\n/**\n * \n */\nclass CubismClippingManager_WebGL {\n    /**\n     * RGBA\n     * @param channelNo RGBA0:R, 1:G, 2:B, 3:A\n     */\n    getChannelFlagAsColor(channelNo) {\n        return this._channelColors.at(channelNo);\n    }\n    /**\n     * \n     * FrameBufferObject\n     *\n     * @return \n     */\n    getMaskRenderTexture() {\n        // RenderTexture\n        if (this._maskTexture && this._maskTexture.textures != null) {\n            // \n            this._maskTexture.frameNo = this._currentFrameNo;\n        }\n        else {\n            // FrameBufferObject\n            if (this._maskRenderTextures != null) {\n                this._maskRenderTextures.clear();\n            }\n            this._maskRenderTextures = new csmvector_1.csmVector();\n            // ColorBufferObject\n            if (this._maskColorBuffers != null) {\n                this._maskColorBuffers.clear();\n            }\n            this._maskColorBuffers = new csmvector_1.csmVector();\n            // \n            const size = this._clippingMaskBufferSize;\n            for (let index = 0; index < this._renderTextureCount; index++) {\n                this._maskColorBuffers.pushBack(this.gl.createTexture()); // \n                this.gl.bindTexture(this.gl.TEXTURE_2D, this._maskColorBuffers.at(index));\n                this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, size, size, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n                this.gl.bindTexture(this.gl.TEXTURE_2D, null);\n                this._maskRenderTextures.pushBack(this.gl.createFramebuffer());\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._maskRenderTextures.at(index));\n                this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this._maskColorBuffers.at(index), 0);\n            }\n            this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\n            this._maskTexture = new CubismRenderTextureResource(this._currentFrameNo, this._maskRenderTextures);\n        }\n        return this._maskTexture.textures;\n    }\n    /**\n     * WebGL\n     * @param gl WebGL\n     */\n    setGL(gl) {\n        this.gl = gl;\n    }\n    /**\n     * \n     * @param model \n     * @param clippingContext \n     */\n    calcClippedDrawTotalBounds(model, clippingContext) {\n        // \n        let clippedDrawTotalMinX = Number.MAX_VALUE;\n        let clippedDrawTotalMinY = Number.MAX_VALUE;\n        let clippedDrawTotalMaxX = Number.MIN_VALUE;\n        let clippedDrawTotalMaxY = Number.MIN_VALUE;\n        // \n        // \n        const clippedDrawCount = clippingContext._clippedDrawableIndexList.length;\n        for (let clippedDrawableIndex = 0; clippedDrawableIndex < clippedDrawCount; clippedDrawableIndex++) {\n            // \n            const drawableIndex = clippingContext._clippedDrawableIndexList[clippedDrawableIndex];\n            const drawableVertexCount = model.getDrawableVertexCount(drawableIndex);\n            const drawableVertexes = model.getDrawableVertices(drawableIndex);\n            let minX = Number.MAX_VALUE;\n            let minY = Number.MAX_VALUE;\n            let maxX = -Number.MAX_VALUE;\n            let maxY = -Number.MAX_VALUE;\n            const loop = drawableVertexCount * live2dcubismframework_1.Constant.vertexStep;\n            for (let pi = live2dcubismframework_1.Constant.vertexOffset; pi < loop; pi += live2dcubismframework_1.Constant.vertexStep) {\n                const x = drawableVertexes[pi];\n                const y = drawableVertexes[pi + 1];\n                if (x < minX) {\n                    minX = x;\n                }\n                if (x > maxX) {\n                    maxX = x;\n                }\n                if (y < minY) {\n                    minY = y;\n                }\n                if (y > maxY) {\n                    maxY = y;\n                }\n            }\n            // \n            if (minX == Number.MAX_VALUE) {\n                continue;\n            }\n            // \n            if (minX < clippedDrawTotalMinX) {\n                clippedDrawTotalMinX = minX;\n            }\n            if (minY < clippedDrawTotalMinY) {\n                clippedDrawTotalMinY = minY;\n            }\n            if (maxX > clippedDrawTotalMaxX) {\n                clippedDrawTotalMaxX = maxX;\n            }\n            if (maxY > clippedDrawTotalMaxY) {\n                clippedDrawTotalMaxY = maxY;\n            }\n            if (clippedDrawTotalMinX == Number.MAX_VALUE) {\n                clippingContext._allClippedDrawRect.x = 0.0;\n                clippingContext._allClippedDrawRect.y = 0.0;\n                clippingContext._allClippedDrawRect.width = 0.0;\n                clippingContext._allClippedDrawRect.height = 0.0;\n                clippingContext._isUsing = false;\n            }\n            else {\n                clippingContext._isUsing = true;\n                const w = clippedDrawTotalMaxX - clippedDrawTotalMinX;\n                const h = clippedDrawTotalMaxY - clippedDrawTotalMinY;\n                clippingContext._allClippedDrawRect.x = clippedDrawTotalMinX;\n                clippingContext._allClippedDrawRect.y = clippedDrawTotalMinY;\n                clippingContext._allClippedDrawRect.width = w;\n                clippingContext._allClippedDrawRect.height = h;\n            }\n        }\n    }\n    /**\n     * \n     */\n    constructor() {\n        this._currentMaskRenderTexture = null;\n        this._maskColorBuffers = null;\n        this._currentFrameNo = 0;\n        this._renderTextureCount = 0;\n        this._clippingMaskBufferSize = 256;\n        this._clippingContextListForMask = new csmvector_1.csmVector();\n        this._clippingContextListForDraw = new csmvector_1.csmVector();\n        this._channelColors = new csmvector_1.csmVector();\n        this._tmpBoundsOnModel = new csmrectf_1.csmRect();\n        this._tmpMatrix = new cubismmatrix44_1.CubismMatrix44();\n        this._tmpMatrixForMask = new cubismmatrix44_1.CubismMatrix44();\n        this._tmpMatrixForDraw = new cubismmatrix44_1.CubismMatrix44();\n        this._maskTexture = null;\n        let tmp = new cubismrenderer_1.CubismTextureColor();\n        tmp.R = 1.0;\n        tmp.G = 0.0;\n        tmp.B = 0.0;\n        tmp.A = 0.0;\n        this._channelColors.pushBack(tmp);\n        tmp = new cubismrenderer_1.CubismTextureColor();\n        tmp.R = 0.0;\n        tmp.G = 1.0;\n        tmp.B = 0.0;\n        tmp.A = 0.0;\n        this._channelColors.pushBack(tmp);\n        tmp = new cubismrenderer_1.CubismTextureColor();\n        tmp.R = 0.0;\n        tmp.G = 0.0;\n        tmp.B = 1.0;\n        tmp.A = 0.0;\n        this._channelColors.pushBack(tmp);\n        tmp = new cubismrenderer_1.CubismTextureColor();\n        tmp.R = 0.0;\n        tmp.G = 0.0;\n        tmp.B = 0.0;\n        tmp.A = 1.0;\n        this._channelColors.pushBack(tmp);\n    }\n    /**\n     * \n     */\n    release() {\n        for (let i = 0; i < this._clippingContextListForMask.getSize(); i++) {\n            if (this._clippingContextListForMask.at(i)) {\n                this._clippingContextListForMask.at(i).release();\n                this._clippingContextListForMask.set(i, void 0);\n            }\n            this._clippingContextListForMask.set(i, null);\n        }\n        this._clippingContextListForMask = null;\n        // _clippingContextListForDraw_clippingContextListForMaskDELETE\n        for (let i = 0; i < this._clippingContextListForDraw.getSize(); i++) {\n            this._clippingContextListForDraw.set(i, null);\n        }\n        this._clippingContextListForDraw = null;\n        if (this._maskTexture) {\n            for (let i = 0; i < this._maskTexture.textures.getSize(); i++) {\n                this.gl.deleteFramebuffer(this._maskTexture.textures.at(i));\n            }\n            this._maskTexture.textures.clear();\n            this._maskTexture.textures = null;\n            this._maskTexture = null;\n        }\n        for (let i = 0; i < this._channelColors.getSize(); i++) {\n            this._channelColors.set(i, null);\n        }\n        this._channelColors = null;\n        // \n        if (this._maskColorBuffers != null) {\n            for (let index = 0; index < this._maskColorBuffers.getSize(); index++) {\n                this.gl.deleteTexture(this._maskColorBuffers.at(index));\n            }\n            this._maskColorBuffers.clear();\n        }\n        this._maskColorBuffers = null;\n        if (this._maskRenderTextures != null) {\n            this._maskRenderTextures.clear();\n        }\n        this._maskRenderTextures = null;\n        if (this._clearedFrameBufferflags != null) {\n            this._clearedFrameBufferflags.clear();\n        }\n        this._clearedFrameBufferflags = null;\n    }\n    /**\n     * \n     * \n     * @param model \n     * @param drawableCount \n     * @param drawableMasks \n     * @param drawableMaskCounts \n     * @param renderTextureCount \n     */\n    initialize(model, drawableCount, drawableMasks, drawableMaskCounts, renderTextureCount) {\n        // \n        // 1\n        if (renderTextureCount % 1 != 0) {\n            (0, cubismdebug_1.CubismLogWarning)('The number of render textures must be specified as an integer. The decimal point is rounded down and corrected to an integer.');\n            // \n            renderTextureCount = ~~renderTextureCount;\n        }\n        if (renderTextureCount < 1) {\n            (0, cubismdebug_1.CubismLogWarning)('The number of render textures must be an integer greater than or equal to 1. Set the number of render textures to 1.');\n        }\n        // 1\n        this._renderTextureCount = renderTextureCount < 1 ? 1 : renderTextureCount;\n        this._clearedFrameBufferflags = new csmvector_1.csmVector(this._renderTextureCount);\n        // \n        // \n        for (let i = 0; i < drawableCount; i++) {\n            if (drawableMaskCounts[i] <= 0) {\n                // \n                this._clippingContextListForDraw.pushBack(null);\n                continue;\n            }\n            // ClipContext\n            let clippingContext = this.findSameClip(drawableMasks[i], drawableMaskCounts[i]);\n            if (clippingContext == null) {\n                // \n                clippingContext = new CubismClippingContext(this, drawableMasks[i], drawableMaskCounts[i]);\n                this._clippingContextListForMask.pushBack(clippingContext);\n            }\n            clippingContext.addClippedDrawable(i);\n            this._clippingContextListForDraw.pushBack(clippingContext);\n        }\n    }\n    /**\n     * \n     * @param model \n     * @param renderer \n     */\n    setupClippingContext(model, renderer) {\n        this._currentFrameNo++;\n        // \n        // 1\n        let usingClipCount = 0;\n        for (let clipIndex = 0; clipIndex < this._clippingContextListForMask.getSize(); clipIndex++) {\n            // 1\n            const cc = this._clippingContextListForMask.at(clipIndex);\n            // \n            this.calcClippedDrawTotalBounds(model, cc);\n            if (cc._isUsing) {\n                usingClipCount++; // \n            }\n        }\n        // \n        if (usingClipCount > 0) {\n            // \n            this.setupLayoutBounds(renderer.isUsingHighPrecisionMask() ? 0 : usingClipCount);\n            if (!renderer.isUsingHighPrecisionMask()) {\n                // FrameBuffer\n                this.gl.viewport(0, 0, this._clippingMaskBufferSize, this._clippingMaskBufferSize);\n                // \n                this._currentMaskRenderTexture = this.getMaskRenderTexture().at(0);\n                renderer.preDraw(); // \n                // ----------  ----------\n                // RenderTextureactive\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._currentMaskRenderTexture);\n            }\n            // \n            if (this._clearedFrameBufferflags.getSize() != this._renderTextureCount) {\n                this._clearedFrameBufferflags.clear();\n                this._clearedFrameBufferflags = new csmvector_1.csmVector(this._renderTextureCount);\n            }\n            // \n            for (let index = 0; index < this._clearedFrameBufferflags.getSize(); index++) {\n                this._clearedFrameBufferflags.set(index, false);\n            }\n            // \n            // ClipContext, ClippedDrawContext\n            for (let clipIndex = 0; clipIndex < this._clippingContextListForMask.getSize(); clipIndex++) {\n                // --- 1 ---\n                const clipContext = this._clippingContextListForMask.at(clipIndex);\n                const allClipedDrawRect = clipContext._allClippedDrawRect; // \n                const layoutBoundsOnTex01 = clipContext._layoutBounds; // \n                const MARGIN = 0.05; // \n                let scaleX = 0;\n                let scaleY = 0;\n                // clipContext\n                const clipContextRenderTexture = this.getMaskRenderTexture().at(clipContext._bufferIndex);\n                // clipContext\n                if (this._currentMaskRenderTexture != clipContextRenderTexture &&\n                    !renderer.isUsingHighPrecisionMask()) {\n                    this._currentMaskRenderTexture = clipContextRenderTexture;\n                    renderer.preDraw(); // \n                    // RenderTextureactive\n                    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._currentMaskRenderTexture);\n                }\n                if (renderer.isUsingHighPrecisionMask()) {\n                    const ppu = model.getPixelsPerUnit();\n                    const maskPixelSize = clipContext.getClippingManager()._clippingMaskBufferSize;\n                    const physicalMaskWidth = layoutBoundsOnTex01.width * maskPixelSize;\n                    const physicalMaskHeight = layoutBoundsOnTex01.height * maskPixelSize;\n                    this._tmpBoundsOnModel.setRect(allClipedDrawRect);\n                    if (this._tmpBoundsOnModel.width * ppu > physicalMaskWidth) {\n                        this._tmpBoundsOnModel.expand(allClipedDrawRect.width * MARGIN, 0.0);\n                        scaleX = layoutBoundsOnTex01.width / this._tmpBoundsOnModel.width;\n                    }\n                    else {\n                        scaleX = ppu / physicalMaskWidth;\n                    }\n                    if (this._tmpBoundsOnModel.height * ppu > physicalMaskHeight) {\n                        this._tmpBoundsOnModel.expand(0.0, allClipedDrawRect.height * MARGIN);\n                        scaleY = layoutBoundsOnTex01.height / this._tmpBoundsOnModel.height;\n                    }\n                    else {\n                        scaleY = ppu / physicalMaskHeight;\n                    }\n                }\n                else {\n                    this._tmpBoundsOnModel.setRect(allClipedDrawRect);\n                    this._tmpBoundsOnModel.expand(allClipedDrawRect.width * MARGIN, allClipedDrawRect.height * MARGIN);\n                    //########## \n                    // \n                    // movePeriod' = movePeriod * scaleX + offX\t\t  [[ movePeriod' = (movePeriod - tmpBoundsOnModel.movePeriod)*scale + layoutBoundsOnTex01.movePeriod ]]\n                    scaleX = layoutBoundsOnTex01.width / this._tmpBoundsOnModel.width;\n                    scaleY = layoutBoundsOnTex01.height / this._tmpBoundsOnModel.height;\n                }\n                // \n                {\n                    //  <<<<<<<<<<<<<<<<<<<<<<<< \n                    this._tmpMatrix.loadIdentity();\n                    {\n                        // layout0..1  -1..1\n                        this._tmpMatrix.translateRelative(-1.0, -1.0);\n                        this._tmpMatrix.scaleRelative(2.0, 2.0);\n                    }\n                    {\n                        // view to layout0..1\n                        this._tmpMatrix.translateRelative(layoutBoundsOnTex01.x, layoutBoundsOnTex01.y);\n                        this._tmpMatrix.scaleRelative(scaleX, scaleY); // new = [translate][scale]\n                        this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x, -this._tmpBoundsOnModel.y);\n                        // new = [translate][scale][translate]\n                    }\n                    // tmpMatrixForMask\n                    this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray());\n                }\n                //--------- draw mask \n                {\n                    //  <<<<<<<<<<<<<<<<<<<<<<<< \n                    this._tmpMatrix.loadIdentity();\n                    {\n                        this._tmpMatrix.translateRelative(layoutBoundsOnTex01.x, layoutBoundsOnTex01.y);\n                        this._tmpMatrix.scaleRelative(scaleX, scaleY); // new = [translate][scale]\n                        this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x, -this._tmpBoundsOnModel.y);\n                        // new = [translate][scale][translate]\n                    }\n                    this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray());\n                }\n                clipContext._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray());\n                clipContext._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());\n                if (!renderer.isUsingHighPrecisionMask()) {\n                    const clipDrawCount = clipContext._clippingIdCount;\n                    for (let i = 0; i < clipDrawCount; i++) {\n                        const clipDrawIndex = clipContext._clippingIdList[i];\n                        // \n                        if (!model.getDrawableDynamicFlagVertexPositionsDidChange(clipDrawIndex)) {\n                            continue;\n                        }\n                        renderer.setIsCulling(model.getDrawableCulling(clipDrawIndex) != false);\n                        // \n                        if (!this._clearedFrameBufferflags.at(clipContext._bufferIndex)) {\n                            // \n                            // () 10Cd*Cs01\n                            this.gl.clearColor(1.0, 1.0, 1.0, 1.0);\n                            this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n                            this._clearedFrameBufferflags.set(clipContext._bufferIndex, true);\n                        }\n                        // \n                        // (A,R,G,B)\n                        renderer.setClippingContextBufferForMask(clipContext);\n                        renderer.drawMesh(model.getDrawableTextureIndex(clipDrawIndex), model.getDrawableVertexIndexCount(clipDrawIndex), model.getDrawableVertexCount(clipDrawIndex), model.getDrawableVertexIndices(clipDrawIndex), model.getDrawableVertices(clipDrawIndex), model.getDrawableVertexUvs(clipDrawIndex), model.getMultiplyColor(clipDrawIndex), model.getScreenColor(clipDrawIndex), model.getDrawableOpacity(clipDrawIndex), cubismrenderer_1.CubismBlendMode.CubismBlendMode_Normal, // \n                        false // \n                        );\n                    }\n                }\n            }\n            if (!renderer.isUsingHighPrecisionMask()) {\n                // ---  ---\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo); // \n                renderer.setClippingContextBufferForMask(null);\n                this.gl.viewport(s_viewport[0], s_viewport[1], s_viewport[2], s_viewport[3]);\n            }\n        }\n    }\n    /**\n     * \n     * \n     * NULL\n     * @param drawableMasks \n     * @param drawableMaskCounts \n     * @return NULL\n     */\n    findSameClip(drawableMasks, drawableMaskCounts) {\n        // ClippingContext\n        for (let i = 0; i < this._clippingContextListForMask.getSize(); i++) {\n            const clippingContext = this._clippingContextListForMask.at(i);\n            const count = clippingContext._clippingIdCount;\n            // \n            if (count != drawableMaskCounts) {\n                continue;\n            }\n            let sameCount = 0;\n            // ID\n            for (let j = 0; j < count; j++) {\n                const clipId = clippingContext._clippingIdList[j];\n                for (let k = 0; k < count; k++) {\n                    if (drawableMasks[k] == clipId) {\n                        sameCount++;\n                        break;\n                    }\n                }\n            }\n            if (sameCount == count) {\n                return clippingContext;\n            }\n        }\n        return null; // \n    }\n    /**\n     * \n     * \n     * 4RGBA56RGBA2,2,1,1\n     *\n     * @param usingClipCount \n     */\n    setupLayoutBounds(usingClipCount) {\n        const useClippingMaskMaxCount = this._renderTextureCount <= 1\n            ? ClippingMaskMaxCountOnDefault\n            : ClippingMaskMaxCountOnMultiRenderTexture * this._renderTextureCount;\n        if (usingClipCount <= 0 || usingClipCount > useClippingMaskMaxCount) {\n            if (usingClipCount > useClippingMaskMaxCount) {\n                // \n                (0, cubismdebug_1.CubismLogError)('not supported mask count : {0}\\n[Details] render texture count : {1}, mask count : {2}', usingClipCount - useClippingMaskMaxCount, this._renderTextureCount, usingClipCount);\n            }\n            // \n            for (let index = 0; index < this._clippingContextListForMask.getSize(); index++) {\n                const clipContext = this._clippingContextListForMask.at(index);\n                clipContext._layoutChannelNo = 0; // \n                clipContext._layoutBounds.x = 0.0;\n                clipContext._layoutBounds.y = 0.0;\n                clipContext._layoutBounds.width = 1.0;\n                clipContext._layoutBounds.height = 1.0;\n                clipContext._bufferIndex = 0;\n            }\n            return;\n        }\n        // 1936\n        const layoutCountMaxValue = this._renderTextureCount <= 1 ? 9 : 8;\n        // 1\n        // 4RGBA156RGBA2,2,1,1\n        let countPerSheetDiv = usingClipCount / this._renderTextureCount; // 1\n        let countPerSheetMod = usingClipCount % this._renderTextureCount; // \n        // \n        countPerSheetDiv = ~~countPerSheetDiv;\n        countPerSheetMod = ~~countPerSheetMod;\n        // RGBA\n        let div = countPerSheetDiv / ColorChannelCount; // 1\n        let mod = countPerSheetDiv % ColorChannelCount; // \n        // \n        div = ~~div;\n        mod = ~~mod;\n        // RGBA0:R, 1:G, 2:B, 3:A\n        let curClipIndex = 0; // \n        for (let renderTextureNo = 0; renderTextureNo < this._renderTextureCount; renderTextureNo++) {\n            for (let channelNo = 0; channelNo < ColorChannelCount; channelNo++) {\n                // \n                let layoutCount = div + (channelNo < mod ? 1 : 0);\n                // \n                const checkChannelNo = mod + 1 >= ColorChannelCount ? 0 : mod + 1;\n                if (layoutCount < layoutCountMaxValue && channelNo == checkChannelNo) {\n                    layoutCount += renderTextureNo < countPerSheetMod ? 1 : 0;\n                }\n                // \n                if (layoutCount == 0) {\n                    // \n                }\n                else if (layoutCount == 1) {\n                    // \n                    const clipContext = this._clippingContextListForMask.at(curClipIndex++);\n                    clipContext._layoutChannelNo = channelNo;\n                    clipContext._layoutBounds.x = 0.0;\n                    clipContext._layoutBounds.y = 0.0;\n                    clipContext._layoutBounds.width = 1.0;\n                    clipContext._layoutBounds.height = 1.0;\n                    clipContext._bufferIndex = renderTextureNo;\n                }\n                else if (layoutCount == 2) {\n                    for (let i = 0; i < layoutCount; i++) {\n                        let xpos = i % 2;\n                        // \n                        xpos = ~~xpos;\n                        const cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        // UV2\n                        cc._layoutBounds.x = xpos * 0.5;\n                        cc._layoutBounds.y = 0.0;\n                        cc._layoutBounds.width = 0.5;\n                        cc._layoutBounds.height = 1.0;\n                        cc._bufferIndex = renderTextureNo;\n                    }\n                }\n                else if (layoutCount <= 4) {\n                    // 4\n                    for (let i = 0; i < layoutCount; i++) {\n                        let xpos = i % 2;\n                        let ypos = i / 2;\n                        // \n                        xpos = ~~xpos;\n                        ypos = ~~ypos;\n                        const cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        cc._layoutBounds.x = xpos * 0.5;\n                        cc._layoutBounds.y = ypos * 0.5;\n                        cc._layoutBounds.width = 0.5;\n                        cc._layoutBounds.height = 0.5;\n                        cc._bufferIndex = renderTextureNo;\n                    }\n                }\n                else if (layoutCount <= layoutCountMaxValue) {\n                    // 9\n                    for (let i = 0; i < layoutCount; i++) {\n                        let xpos = i % 3;\n                        let ypos = i / 3;\n                        // \n                        xpos = ~~xpos;\n                        ypos = ~~ypos;\n                        const cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        cc._layoutBounds.x = xpos / 3.0;\n                        cc._layoutBounds.y = ypos / 3.0;\n                        cc._layoutBounds.width = 1.0 / 3.0;\n                        cc._layoutBounds.height = 1.0 / 3.0;\n                        cc._bufferIndex = renderTextureNo;\n                    }\n                }\n                else {\n                    // \n                    (0, cubismdebug_1.CubismLogError)('not supported mask count : {0}\\n[Details] render texture count : {1}, mask count : {2}', usingClipCount - useClippingMaskMaxCount, this._renderTextureCount, usingClipCount);\n                    // SetupShaderProgram\n                    // \n                    for (let index = 0; index < layoutCount; index++) {\n                        const cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = 0;\n                        cc._layoutBounds.x = 0.0;\n                        cc._layoutBounds.y = 0.0;\n                        cc._layoutBounds.width = 1.0;\n                        cc._layoutBounds.height = 1.0;\n                        cc._bufferIndex = 0;\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * \n     * @return \n     */\n    getColorBuffer() {\n        return this._maskColorBuffers;\n    }\n    /**\n     * \n     * @return \n     */\n    getClippingContextListForDraw() {\n        return this._clippingContextListForDraw;\n    }\n    /**\n     * \n     * @returns\n     */\n    getClippingMaskCount() {\n        return this._clippingContextListForMask.getSize();\n    }\n    /**\n     * \n     * @param size \n     */\n    setClippingMaskBufferSize(size) {\n        this._clippingMaskBufferSize = size;\n    }\n    /**\n     * \n     * @return \n     */\n    getClippingMaskBufferSize() {\n        return this._clippingMaskBufferSize;\n    }\n    /**\n     * \n     * @return \n     */\n    getRenderTextureCount() {\n        return this._renderTextureCount;\n    }\n}\nexports.CubismClippingManager_WebGL = CubismClippingManager_WebGL;\n/**\n * \n * \n */\nclass CubismRenderTextureResource {\n    /**\n     * \n     * @param frameNo \n     * @param texture \n     */\n    constructor(frameNo, texture) {\n        this.frameNo = frameNo;\n        this.textures = texture;\n    }\n}\nexports.CubismRenderTextureResource = CubismRenderTextureResource;\n/**\n * \n */\nclass CubismClippingContext {\n    /**\n     * \n     */\n    constructor(manager, clippingDrawableIndices, clipCount) {\n        this._owner = manager;\n        // Drawable\n        this._clippingIdList = clippingDrawableIndices;\n        // \n        this._clippingIdCount = clipCount;\n        this._allClippedDrawRect = new csmrectf_1.csmRect();\n        this._layoutBounds = new csmrectf_1.csmRect();\n        this._clippedDrawableIndexList = [];\n        this._matrixForMask = new cubismmatrix44_1.CubismMatrix44();\n        this._matrixForDraw = new cubismmatrix44_1.CubismMatrix44();\n        this._bufferIndex = 0;\n    }\n    /**\n     * \n     */\n    release() {\n        if (this._layoutBounds != null) {\n            this._layoutBounds = null;\n        }\n        if (this._allClippedDrawRect != null) {\n            this._allClippedDrawRect = null;\n        }\n        if (this._clippedDrawableIndexList != null) {\n            this._clippedDrawableIndexList = null;\n        }\n    }\n    /**\n     * \n     *\n     * @param drawableIndex \n     */\n    addClippedDrawable(drawableIndex) {\n        this._clippedDrawableIndexList.push(drawableIndex);\n    }\n    /**\n     * \n     * @return \n     */\n    getClippingManager() {\n        return this._owner;\n    }\n    setGl(gl) {\n        this._owner.setGL(gl);\n    }\n}\nexports.CubismClippingContext = CubismClippingContext;\nclass CubismRendererProfile_WebGL {\n    setGlEnable(index, enabled) {\n        if (enabled)\n            this.gl.enable(index);\n        else\n            this.gl.disable(index);\n    }\n    setGlEnableVertexAttribArray(index, enabled) {\n        if (enabled)\n            this.gl.enableVertexAttribArray(index);\n        else\n            this.gl.disableVertexAttribArray(index);\n    }\n    save() {\n        if (this.gl == null) {\n            (0, cubismdebug_1.CubismLogError)(\"'gl' is null. WebGLRenderingContext is required.\\nPlease call 'CubimRenderer_WebGL.startUp' function.\");\n            return;\n        }\n        //-- push state --\n        this._lastArrayBufferBinding = this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING);\n        this._lastArrayBufferBinding = this.gl.getParameter(this.gl.ELEMENT_ARRAY_BUFFER_BINDING);\n        this._lastProgram = this.gl.getParameter(this.gl.CURRENT_PROGRAM);\n        this._lastActiveTexture = this.gl.getParameter(this.gl.ACTIVE_TEXTURE);\n        this.gl.activeTexture(this.gl.TEXTURE1); //1\n        this._lastTexture1Binding2D = this.gl.getParameter(this.gl.TEXTURE_BINDING_2D);\n        this.gl.activeTexture(this.gl.TEXTURE0); //0\n        this._lastTexture0Binding2D = this.gl.getParameter(this.gl.TEXTURE_BINDING_2D);\n        this._lastVertexAttribArrayEnabled[0] = this.gl.getVertexAttrib(0, this.gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        this._lastVertexAttribArrayEnabled[1] = this.gl.getVertexAttrib(1, this.gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        this._lastVertexAttribArrayEnabled[2] = this.gl.getVertexAttrib(2, this.gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        this._lastVertexAttribArrayEnabled[3] = this.gl.getVertexAttrib(3, this.gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        this._lastScissorTest = this.gl.isEnabled(this.gl.SCISSOR_TEST);\n        this._lastStencilTest = this.gl.isEnabled(this.gl.STENCIL_TEST);\n        this._lastDepthTest = this.gl.isEnabled(this.gl.DEPTH_TEST);\n        this._lastCullFace = this.gl.isEnabled(this.gl.CULL_FACE);\n        this._lastBlend = this.gl.isEnabled(this.gl.BLEND);\n        this._lastFrontFace = this.gl.getParameter(this.gl.FRONT_FACE);\n        this._lastColorMask = this.gl.getParameter(this.gl.COLOR_WRITEMASK);\n        // backup blending\n        this._lastBlending[0] = this.gl.getParameter(this.gl.BLEND_SRC_RGB);\n        this._lastBlending[1] = this.gl.getParameter(this.gl.BLEND_DST_RGB);\n        this._lastBlending[2] = this.gl.getParameter(this.gl.BLEND_SRC_ALPHA);\n        this._lastBlending[3] = this.gl.getParameter(this.gl.BLEND_DST_ALPHA);\n        // FBO\n        this._lastFBO = this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING);\n        this._lastViewport = this.gl.getParameter(this.gl.VIEWPORT);\n    }\n    restore() {\n        if (this.gl == null) {\n            (0, cubismdebug_1.CubismLogError)(\"'gl' is null. WebGLRenderingContext is required.\\nPlease call 'CubimRenderer_WebGL.startUp' function.\");\n            return;\n        }\n        this.gl.useProgram(this._lastProgram);\n        this.setGlEnableVertexAttribArray(0, this._lastVertexAttribArrayEnabled[0]);\n        this.setGlEnableVertexAttribArray(1, this._lastVertexAttribArrayEnabled[1]);\n        this.setGlEnableVertexAttribArray(2, this._lastVertexAttribArrayEnabled[2]);\n        this.setGlEnableVertexAttribArray(3, this._lastVertexAttribArrayEnabled[3]);\n        this.setGlEnable(this.gl.SCISSOR_TEST, this._lastScissorTest);\n        this.setGlEnable(this.gl.STENCIL_TEST, this._lastStencilTest);\n        this.setGlEnable(this.gl.DEPTH_TEST, this._lastDepthTest);\n        this.setGlEnable(this.gl.CULL_FACE, this._lastCullFace);\n        this.setGlEnable(this.gl.BLEND, this._lastBlend);\n        this.gl.frontFace(this._lastFrontFace);\n        this.gl.colorMask(this._lastColorMask[0], this._lastColorMask[1], this._lastColorMask[2], this._lastColorMask[3]);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this._lastArrayBufferBinding); //\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this._lastElementArrayBufferBinding);\n        this.gl.activeTexture(this.gl.TEXTURE1); //1\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this._lastTexture1Binding2D);\n        this.gl.activeTexture(this.gl.TEXTURE0); //0\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this._lastTexture0Binding2D);\n        this.gl.activeTexture(this._lastActiveTexture);\n        this.gl.blendFuncSeparate(this._lastBlending[0], this._lastBlending[1], this._lastBlending[2], this._lastBlending[3]);\n    }\n    setGl(gl) {\n        this.gl = gl;\n    }\n    constructor() {\n        this._lastVertexAttribArrayEnabled = new Array(4);\n        this._lastColorMask = new Array(4);\n        this._lastBlending = new Array(4);\n        this._lastViewport = new Array(4);\n    }\n}\nexports.CubismRendererProfile_WebGL = CubismRendererProfile_WebGL;\n/**\n * WebGL\n * CubismShader_WebGL.getInstance\n */\nclass CubismShader_WebGL {\n    /**\n     * \n     * @return \n     */\n    static getInstance() {\n        if (s_instance == null) {\n            s_instance = new CubismShader_WebGL();\n            return s_instance;\n        }\n        return s_instance;\n    }\n    /**\n     * \n     */\n    static deleteInstance() {\n        if (s_instance) {\n            s_instance.release();\n            s_instance = null;\n        }\n    }\n    /**\n     * private\n     */\n    constructor() {\n        this._shaderSets = new csmvector_1.csmVector();\n    }\n    /**\n     * \n     */\n    release() {\n        this.releaseShaderProgram();\n    }\n    /**\n     * \n     * @param renderer \n     * @param textureId GPUID\n     * @param vertexCount \n     * @param vertexArray \n     * @param indexArray \n     * @param uvArray uv\n     * @param opacity \n     * @param colorBlendMode \n     * @param baseColor \n     * @param isPremultipliedAlpha \n     * @param matrix4x4 Model-View-Projection\n     * @param invertedMask \n     */\n    setupShaderProgram(renderer, textureId, vertexCount, vertexArray, indexArray, uvArray, bufferData, opacity, colorBlendMode, baseColor, multiplyColor, screenColor, isPremultipliedAlpha, matrix4x4, invertedMask) {\n        if (!isPremultipliedAlpha) {\n            (0, cubismdebug_1.CubismLogError)('NoPremultipliedAlpha is not allowed');\n        }\n        if (this._shaderSets.getSize() == 0) {\n            this.generateShaders();\n        }\n        // Blending\n        let SRC_COLOR;\n        let DST_COLOR;\n        let SRC_ALPHA;\n        let DST_ALPHA;\n        if (renderer.getClippingContextBufferForMask() != null) {\n            // \n            const shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_SetupMask);\n            this.gl.useProgram(shaderSet.shaderProgram);\n            // \n            this.gl.activeTexture(this.gl.TEXTURE0);\n            this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\n            this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\n            // (VBO)\n            if (bufferData.vertex == null) {\n                bufferData.vertex = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.DYNAMIC_DRAW);\n            this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\n            this.gl.vertexAttribPointer(shaderSet.attributePositionLocation, 2, this.gl.FLOAT, false, 0, 0);\n            // \n            if (bufferData.uv == null) {\n                bufferData.uv = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\n            this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\n            this.gl.vertexAttribPointer(shaderSet.attributeTexCoordLocation, 2, this.gl.FLOAT, false, 0, 0);\n            // \n            const channelNo = renderer.getClippingContextBufferForMask()._layoutChannelNo;\n            const colorChannel = renderer\n                .getClippingContextBufferForMask()\n                .getClippingManager()\n                .getChannelFlagAsColor(channelNo);\n            this.gl.uniform4f(shaderSet.uniformChannelFlagLocation, colorChannel.R, colorChannel.G, colorChannel.B, colorChannel.A);\n            this.gl.uniformMatrix4fv(shaderSet.uniformClipMatrixLocation, false, renderer.getClippingContextBufferForMask()._matrixForMask.getArray());\n            const rect = renderer.getClippingContextBufferForMask()._layoutBounds;\n            this.gl.uniform4f(shaderSet.uniformBaseColorLocation, rect.x * 2.0 - 1.0, rect.y * 2.0 - 1.0, rect.getRight() * 2.0 - 1.0, rect.getBottom() * 2.0 - 1.0);\n            this.gl.uniform4f(shaderSet.uniformMultiplyColorLocation, multiplyColor.R, multiplyColor.G, multiplyColor.B, multiplyColor.A);\n            this.gl.uniform4f(shaderSet.uniformScreenColorLocation, screenColor.R, screenColor.G, screenColor.B, screenColor.A);\n            SRC_COLOR = this.gl.ZERO;\n            DST_COLOR = this.gl.ONE_MINUS_SRC_COLOR;\n            SRC_ALPHA = this.gl.ZERO;\n            DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\n        } // \n        else {\n            const masked = renderer.getClippingContextBufferForDraw() != null; // \n            const offset = masked ? (invertedMask ? 2 : 1) : 0;\n            let shaderSet = new CubismShaderSet();\n            switch (colorBlendMode) {\n                case cubismrenderer_1.CubismBlendMode.CubismBlendMode_Normal:\n                default:\n                    shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_NormalPremultipliedAlpha + offset);\n                    SRC_COLOR = this.gl.ONE;\n                    DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\n                    SRC_ALPHA = this.gl.ONE;\n                    DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\n                    break;\n                case cubismrenderer_1.CubismBlendMode.CubismBlendMode_Additive:\n                    shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_AddPremultipliedAlpha + offset);\n                    SRC_COLOR = this.gl.ONE;\n                    DST_COLOR = this.gl.ONE;\n                    SRC_ALPHA = this.gl.ZERO;\n                    DST_ALPHA = this.gl.ONE;\n                    break;\n                case cubismrenderer_1.CubismBlendMode.CubismBlendMode_Multiplicative:\n                    shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_MultPremultipliedAlpha + offset);\n                    SRC_COLOR = this.gl.DST_COLOR;\n                    DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\n                    SRC_ALPHA = this.gl.ZERO;\n                    DST_ALPHA = this.gl.ONE;\n                    break;\n            }\n            this.gl.useProgram(shaderSet.shaderProgram);\n            // \n            if (bufferData.vertex == null) {\n                bufferData.vertex = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.DYNAMIC_DRAW);\n            this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\n            this.gl.vertexAttribPointer(shaderSet.attributePositionLocation, 2, this.gl.FLOAT, false, 0, 0);\n            // \n            if (bufferData.uv == null) {\n                bufferData.uv = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\n            this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\n            this.gl.vertexAttribPointer(shaderSet.attributeTexCoordLocation, 2, this.gl.FLOAT, false, 0, 0);\n            if (masked) {\n                this.gl.activeTexture(this.gl.TEXTURE1);\n                const tex = renderer\n                    .getClippingContextBufferForDraw()\n                    .getClippingManager()\n                    .getColorBuffer()\n                    .at(renderer.getClippingContextBufferForDraw()._bufferIndex);\n                this.gl.bindTexture(this.gl.TEXTURE_2D, tex);\n                this.gl.uniform1i(shaderSet.samplerTexture1Location, 1);\n                // viewClippingContext\n                this.gl.uniformMatrix4fv(shaderSet.uniformClipMatrixLocation, false, renderer.getClippingContextBufferForDraw()._matrixForDraw.getArray());\n                // \n                const channelNo = renderer.getClippingContextBufferForDraw()._layoutChannelNo;\n                const colorChannel = renderer\n                    .getClippingContextBufferForDraw()\n                    .getClippingManager()\n                    .getChannelFlagAsColor(channelNo);\n                this.gl.uniform4f(shaderSet.uniformChannelFlagLocation, colorChannel.R, colorChannel.G, colorChannel.B, colorChannel.A);\n            }\n            // \n            this.gl.activeTexture(this.gl.TEXTURE0);\n            this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\n            this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\n            // \n            this.gl.uniformMatrix4fv(shaderSet.uniformMatrixLocation, false, matrix4x4.getArray());\n            this.gl.uniform4f(shaderSet.uniformBaseColorLocation, baseColor.R, baseColor.G, baseColor.B, baseColor.A);\n            this.gl.uniform4f(shaderSet.uniformMultiplyColorLocation, multiplyColor.R, multiplyColor.G, multiplyColor.B, multiplyColor.A);\n            this.gl.uniform4f(shaderSet.uniformScreenColorLocation, screenColor.R, screenColor.G, screenColor.B, screenColor.A);\n        }\n        // IBO\n        if (bufferData.index == null) {\n            bufferData.index = this.gl.createBuffer();\n        }\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, bufferData.index);\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, indexArray, this.gl.DYNAMIC_DRAW);\n        this.gl.blendFuncSeparate(SRC_COLOR, DST_COLOR, SRC_ALPHA, DST_ALPHA);\n    }\n    /**\n     * \n     */\n    releaseShaderProgram() {\n        for (let i = 0; i < this._shaderSets.getSize(); i++) {\n            this.gl.deleteProgram(this._shaderSets.at(i).shaderProgram);\n            this._shaderSets.at(i).shaderProgram = 0;\n            this._shaderSets.set(i, void 0);\n            this._shaderSets.set(i, null);\n        }\n    }\n    /**\n     * \n     * @param vertShaderSrc \n     * @param fragShaderSrc \n     */\n    generateShaders() {\n        for (let i = 0; i < ShaderCount; i++) {\n            this._shaderSets.pushBack(new CubismShaderSet());\n        }\n        this._shaderSets.at(0).shaderProgram = this.loadShaderProgram(exports.vertexShaderSrcSetupMask, exports.fragmentShaderSrcsetupMask);\n        this._shaderSets.at(1).shaderProgram = this.loadShaderProgram(exports.vertexShaderSrc, exports.fragmentShaderSrcPremultipliedAlpha);\n        this._shaderSets.at(2).shaderProgram = this.loadShaderProgram(exports.vertexShaderSrcMasked, exports.fragmentShaderSrcMaskPremultipliedAlpha);\n        this._shaderSets.at(3).shaderProgram = this.loadShaderProgram(exports.vertexShaderSrcMasked, exports.fragmentShaderSrcMaskInvertedPremultipliedAlpha);\n        // \n        this._shaderSets.at(4).shaderProgram = this._shaderSets.at(1).shaderProgram;\n        this._shaderSets.at(5).shaderProgram = this._shaderSets.at(2).shaderProgram;\n        this._shaderSets.at(6).shaderProgram = this._shaderSets.at(3).shaderProgram;\n        // \n        this._shaderSets.at(7).shaderProgram = this._shaderSets.at(1).shaderProgram;\n        this._shaderSets.at(8).shaderProgram = this._shaderSets.at(2).shaderProgram;\n        this._shaderSets.at(9).shaderProgram = this._shaderSets.at(3).shaderProgram;\n        // SetupMask\n        this._shaderSets.at(0).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram, 'a_position');\n        this._shaderSets.at(0).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(0).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 's_texture0');\n        this._shaderSets.at(0).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(0).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(0).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(0).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(0).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_screenColor');\n        // PremultipliedAlpha\n        this._shaderSets.at(1).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram, 'a_position');\n        this._shaderSets.at(1).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(1).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 's_texture0');\n        this._shaderSets.at(1).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_matrix');\n        this._shaderSets.at(1).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(1).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(1).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_screenColor');\n        // PremultipliedAlpha\n        this._shaderSets.at(2).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram, 'a_position');\n        this._shaderSets.at(2).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(2).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 's_texture0');\n        this._shaderSets.at(2).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 's_texture1');\n        this._shaderSets.at(2).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_matrix');\n        this._shaderSets.at(2).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(2).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(2).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(2).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(2).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_screenColor');\n        // , PremultipliedAlpha\n        this._shaderSets.at(3).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram, 'a_position');\n        this._shaderSets.at(3).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(3).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 's_texture0');\n        this._shaderSets.at(3).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 's_texture1');\n        this._shaderSets.at(3).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_matrix');\n        this._shaderSets.at(3).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(3).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(3).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(3).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(3).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_screenColor');\n        // PremultipliedAlpha\n        this._shaderSets.at(4).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram, 'a_position');\n        this._shaderSets.at(4).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(4).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 's_texture0');\n        this._shaderSets.at(4).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_matrix');\n        this._shaderSets.at(4).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(4).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(4).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_screenColor');\n        // PremultipliedAlpha\n        this._shaderSets.at(5).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram, 'a_position');\n        this._shaderSets.at(5).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(5).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 's_texture0');\n        this._shaderSets.at(5).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 's_texture1');\n        this._shaderSets.at(5).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_matrix');\n        this._shaderSets.at(5).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(5).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(5).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(5).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(5).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_screenColor');\n        // PremultipliedAlpha\n        this._shaderSets.at(6).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram, 'a_position');\n        this._shaderSets.at(6).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(6).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 's_texture0');\n        this._shaderSets.at(6).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 's_texture1');\n        this._shaderSets.at(6).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_matrix');\n        this._shaderSets.at(6).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(6).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(6).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(6).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(6).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_screenColor');\n        // PremultipliedAlpha\n        this._shaderSets.at(7).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram, 'a_position');\n        this._shaderSets.at(7).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(7).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 's_texture0');\n        this._shaderSets.at(7).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_matrix');\n        this._shaderSets.at(7).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(7).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(7).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_screenColor');\n        // PremultipliedAlpha\n        this._shaderSets.at(8).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram, 'a_position');\n        this._shaderSets.at(8).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(8).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 's_texture0');\n        this._shaderSets.at(8).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 's_texture1');\n        this._shaderSets.at(8).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_matrix');\n        this._shaderSets.at(8).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(8).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(8).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(8).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(8).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_screenColor');\n        // PremultipliedAlpha\n        this._shaderSets.at(9).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram, 'a_position');\n        this._shaderSets.at(9).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(9).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 's_texture0');\n        this._shaderSets.at(9).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 's_texture1');\n        this._shaderSets.at(9).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_matrix');\n        this._shaderSets.at(9).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(9).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(9).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(9).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(9).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_screenColor');\n    }\n    /**\n     * \n     * @param vertexShaderSource    \n     * @param fragmentShaderSource  \n     * @return \n     */\n    loadShaderProgram(vertexShaderSource, fragmentShaderSource) {\n        // Create Shader Program\n        let shaderProgram = this.gl.createProgram();\n        let vertShader = this.compileShaderSource(this.gl.VERTEX_SHADER, vertexShaderSource);\n        if (!vertShader) {\n            (0, cubismdebug_1.CubismLogError)('Vertex shader compile error!');\n            return 0;\n        }\n        let fragShader = this.compileShaderSource(this.gl.FRAGMENT_SHADER, fragmentShaderSource);\n        if (!fragShader) {\n            (0, cubismdebug_1.CubismLogError)('Vertex shader compile error!');\n            return 0;\n        }\n        // Attach vertex shader to program\n        this.gl.attachShader(shaderProgram, vertShader);\n        // Attach fragment shader to program\n        this.gl.attachShader(shaderProgram, fragShader);\n        // link program\n        this.gl.linkProgram(shaderProgram);\n        const linkStatus = this.gl.getProgramParameter(shaderProgram, this.gl.LINK_STATUS);\n        // \n        if (!linkStatus) {\n            (0, cubismdebug_1.CubismLogError)('Failed to link program: {0}', shaderProgram);\n            this.gl.deleteShader(vertShader);\n            vertShader = 0;\n            this.gl.deleteShader(fragShader);\n            fragShader = 0;\n            if (shaderProgram) {\n                this.gl.deleteProgram(shaderProgram);\n                shaderProgram = 0;\n            }\n            return 0;\n        }\n        // Release vertex and fragment shaders.\n        this.gl.deleteShader(vertShader);\n        this.gl.deleteShader(fragShader);\n        return shaderProgram;\n    }\n    /**\n     * \n     * @param shaderType (Vertex/Fragment)\n     * @param shaderSource \n     *\n     * @return \n     */\n    compileShaderSource(shaderType, shaderSource) {\n        const source = shaderSource;\n        const shader = this.gl.createShader(shaderType);\n        this.gl.shaderSource(shader, source);\n        this.gl.compileShader(shader);\n        if (!shader) {\n            const log = this.gl.getShaderInfoLog(shader);\n            (0, cubismdebug_1.CubismLogError)('Shader compile log: {0} ', log);\n        }\n        const status = this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS);\n        if (!status) {\n            this.gl.deleteShader(shader);\n            return null;\n        }\n        return shader;\n    }\n    setGl(gl) {\n        this.gl = gl;\n    }\n}\nexports.CubismShader_WebGL = CubismShader_WebGL;\n/**\n * CubismShader_WebGL\n */\nclass CubismShaderSet {\n}\nexports.CubismShaderSet = CubismShaderSet;\nvar ShaderNames;\n(function (ShaderNames) {\n    // SetupMask\n    ShaderNames[ShaderNames[\"ShaderNames_SetupMask\"] = 0] = \"ShaderNames_SetupMask\";\n    // Normal\n    ShaderNames[ShaderNames[\"ShaderNames_NormalPremultipliedAlpha\"] = 1] = \"ShaderNames_NormalPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_NormalMaskedPremultipliedAlpha\"] = 2] = \"ShaderNames_NormalMaskedPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_NomralMaskedInvertedPremultipliedAlpha\"] = 3] = \"ShaderNames_NomralMaskedInvertedPremultipliedAlpha\";\n    // Add\n    ShaderNames[ShaderNames[\"ShaderNames_AddPremultipliedAlpha\"] = 4] = \"ShaderNames_AddPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_AddMaskedPremultipliedAlpha\"] = 5] = \"ShaderNames_AddMaskedPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_AddMaskedPremultipliedAlphaInverted\"] = 6] = \"ShaderNames_AddMaskedPremultipliedAlphaInverted\";\n    // Mult\n    ShaderNames[ShaderNames[\"ShaderNames_MultPremultipliedAlpha\"] = 7] = \"ShaderNames_MultPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_MultMaskedPremultipliedAlpha\"] = 8] = \"ShaderNames_MultMaskedPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_MultMaskedPremultipliedAlphaInverted\"] = 9] = \"ShaderNames_MultMaskedPremultipliedAlphaInverted\";\n})(ShaderNames || (exports.ShaderNames = ShaderNames = {}));\nexports.vertexShaderSrcSetupMask = 'attribute vec4     a_position;' +\n    'attribute vec2     a_texCoord;' +\n    'varying vec2       v_texCoord;' +\n    'varying vec4       v_myPos;' +\n    'uniform mat4       u_clipMatrix;' +\n    'void main()' +\n    '{' +\n    '   gl_Position = u_clipMatrix * a_position;' +\n    '   v_myPos = u_clipMatrix * a_position;' +\n    '   v_texCoord = a_texCoord;' +\n    '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n    '}';\nexports.fragmentShaderSrcsetupMask = 'precision mediump float;' +\n    'varying vec2       v_texCoord;' +\n    'varying vec4       v_myPos;' +\n    'uniform vec4       u_baseColor;' +\n    'uniform vec4       u_channelFlag;' +\n    'uniform sampler2D  s_texture0;' +\n    'void main()' +\n    '{' +\n    '   float isInside = ' +\n    '       step(u_baseColor.x, v_myPos.x/v_myPos.w)' +\n    '       * step(u_baseColor.y, v_myPos.y/v_myPos.w)' +\n    '       * step(v_myPos.x/v_myPos.w, u_baseColor.z)' +\n    '       * step(v_myPos.y/v_myPos.w, u_baseColor.w);' +\n    '   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;' +\n    '}';\n//-----  -----\n// Normal & Add & Mult \nexports.vertexShaderSrc = 'attribute vec4     a_position;' + //v.vertex\n    'attribute vec2     a_texCoord;' + //v.texcoord\n    'varying vec2       v_texCoord;' + //v2f.texcoord\n    'uniform mat4       u_matrix;' +\n    'void main()' +\n    '{' +\n    '   gl_Position = u_matrix * a_position;' +\n    '   v_texCoord = a_texCoord;' +\n    '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n    '}';\n// Normal & Add & Mult \nexports.vertexShaderSrcMasked = 'attribute vec4     a_position;' +\n    'attribute vec2     a_texCoord;' +\n    'varying vec2       v_texCoord;' +\n    'varying vec4       v_clipPos;' +\n    'uniform mat4       u_matrix;' +\n    'uniform mat4       u_clipMatrix;' +\n    'void main()' +\n    '{' +\n    '   gl_Position = u_matrix * a_position;' +\n    '   v_clipPos = u_clipMatrix * a_position;' +\n    '   v_texCoord = a_texCoord;' +\n    '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n    '}';\n//-----  -----\n// Normal & Add & Mult  PremultipliedAlpha\nexports.fragmentShaderSrcPremultipliedAlpha = 'precision mediump float;' +\n    'varying vec2       v_texCoord;' + //v2f.texcoord\n    'uniform vec4       u_baseColor;' +\n    'uniform sampler2D  s_texture0;' + //_MainTex\n    'uniform vec4       u_multiplyColor;' +\n    'uniform vec4       u_screenColor;' +\n    'void main()' +\n    '{' +\n    '   vec4 texColor = texture2D(s_texture0, v_texCoord);' +\n    '   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;' +\n    '   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);' +\n    '   vec4 color = texColor * u_baseColor;' +\n    '   gl_FragColor = vec4(color.rgb, color.a);' +\n    '}';\n// Normal PremultipliedAlpha\nexports.fragmentShaderSrcMaskPremultipliedAlpha = 'precision mediump float;' +\n    'varying vec2       v_texCoord;' +\n    'varying vec4       v_clipPos;' +\n    'uniform vec4       u_baseColor;' +\n    'uniform vec4       u_channelFlag;' +\n    'uniform sampler2D  s_texture0;' +\n    'uniform sampler2D  s_texture1;' +\n    'uniform vec4       u_multiplyColor;' +\n    'uniform vec4       u_screenColor;' +\n    'void main()' +\n    '{' +\n    '   vec4 texColor = texture2D(s_texture0, v_texCoord);' +\n    '   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;' +\n    '   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);' +\n    '   vec4 col_formask = texColor * u_baseColor;' +\n    '   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\n    '   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\n    '   col_formask = col_formask * maskVal;' +\n    '   gl_FragColor = col_formask;' +\n    '}';\n// Normal & Add & Mult PremultipliedAlpha\nexports.fragmentShaderSrcMaskInvertedPremultipliedAlpha = 'precision mediump float;' +\n    'varying vec2      v_texCoord;' +\n    'varying vec4      v_clipPos;' +\n    'uniform sampler2D s_texture0;' +\n    'uniform sampler2D s_texture1;' +\n    'uniform vec4      u_channelFlag;' +\n    'uniform vec4      u_baseColor;' +\n    'uniform vec4      u_multiplyColor;' +\n    'uniform vec4      u_screenColor;' +\n    'void main()' +\n    '{' +\n    '   vec4 texColor = texture2D(s_texture0, v_texCoord);' +\n    '   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;' +\n    '   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);' +\n    '   vec4 col_formask = texColor * u_baseColor;' +\n    '   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\n    '   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\n    '   col_formask = col_formask * (1.0 - maskVal);' +\n    '   gl_FragColor = col_formask;' +\n    '}';\n/**\n * WebGL\n */\nclass CubismRenderer_WebGL extends cubismrenderer_1.CubismRenderer {\n    /**\n     * \n     * \n     *\n     * @param model \n     * @param maskBufferCount \n     */\n    initialize(model, maskBufferCount = 1) {\n        if (model.isUsingMasking()) {\n            this._clippingManager = new CubismClippingManager_WebGL(); // \n            this._clippingManager.initialize(model, model.getDrawableCount(), model.getDrawableMasks(), model.getDrawableMaskCounts(), maskBufferCount);\n        }\n        this._sortedDrawableIndexList.resize(model.getDrawableCount(), 0);\n        super.initialize(model); // \n    }\n    /**\n     * WebGL\n     * CubismRendererCubismRendererIndex\n     * @param modelTextureNo \n     * @param glTextureNo WebGL\n     */\n    bindTexture(modelTextureNo, glTexture) {\n        this._textures.setValue(modelTextureNo, glTexture);\n    }\n    /**\n     * WebGL\n     * @return \n     */\n    getBindedTextures() {\n        return this._textures;\n    }\n    /**\n     * \n     * FrameBuffer\n     * @param size \n     */\n    setClippingMaskBufferSize(size) {\n        // \n        if (!this._model.isUsingMasking()) {\n            return;\n        }\n        // \n        const renderTextureCount = this._clippingManager.getRenderTextureCount();\n        // FrameBuffer\n        this._clippingManager.release();\n        this._clippingManager = void 0;\n        this._clippingManager = null;\n        this._clippingManager = new CubismClippingManager_WebGL();\n        this._clippingManager.setClippingMaskBufferSize(size);\n        this._clippingManager.initialize(this.getModel(), this.getModel().getDrawableCount(), this.getModel().getDrawableMasks(), this.getModel().getDrawableMaskCounts(), renderTextureCount // \n        );\n    }\n    /**\n     * \n     * @return \n     */\n    getClippingMaskBufferSize() {\n        return this._model.isUsingMasking()\n            ? this._clippingManager.getClippingMaskBufferSize()\n            : -1;\n    }\n    /**\n     * \n     * @return \n     */\n    getRenderTextureCount() {\n        return this._model.isUsingMasking()\n            ? this._clippingManager.getRenderTextureCount()\n            : -1;\n    }\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._clippingContextBufferForMask = null;\n        this._clippingContextBufferForDraw = null;\n        this._rendererProfile = new CubismRendererProfile_WebGL();\n        this.firstDraw = true;\n        this._textures = new csmmap_1.csmMap();\n        this._sortedDrawableIndexList = new csmvector_1.csmVector();\n        this._bufferData = {\n            vertex: (WebGLBuffer = null),\n            uv: (WebGLBuffer = null),\n            index: (WebGLBuffer = null),\n        };\n        // \n        this._textures.prepareCapacity(32, true);\n    }\n    /**\n     * \n     */\n    release() {\n        if (this._clippingManager) {\n            this._clippingManager.release();\n            this._clippingManager = void 0;\n            this._clippingManager = null;\n        }\n        if (this.gl == null) {\n            return;\n        }\n        this.gl.deleteBuffer(this._bufferData.vertex);\n        this._bufferData.vertex = null;\n        this.gl.deleteBuffer(this._bufferData.uv);\n        this._bufferData.uv = null;\n        this.gl.deleteBuffer(this._bufferData.index);\n        this._bufferData.index = null;\n        this._bufferData = null;\n        this._textures = null;\n    }\n    /**\n     * \n     */\n    doDrawModel() {\n        if (this.gl == null) {\n            (0, cubismdebug_1.CubismLogError)(\"'gl' is null. WebGLRenderingContext is required.\\nPlease call 'CubimRenderer_WebGL.startUp' function.\");\n            return;\n        }\n        //------------  ------------\n        if (this._clippingManager != null) {\n            this.preDraw();\n            this._clippingManager.setupClippingContext(this.getModel(), this);\n        }\n        // PreDraw!!\n        this.preDraw();\n        const drawableCount = this.getModel().getDrawableCount();\n        const renderOrder = this.getModel().getDrawableRenderOrders();\n        // \n        for (let i = 0; i < drawableCount; ++i) {\n            const order = renderOrder[i];\n            this._sortedDrawableIndexList.set(order, i);\n        }\n        // \n        for (let i = 0; i < drawableCount; ++i) {\n            const drawableIndex = this._sortedDrawableIndexList.at(i);\n            // Drawable\n            if (!this.getModel().getDrawableDynamicFlagIsVisible(drawableIndex)) {\n                continue;\n            }\n            const clipContext = this._clippingManager != null\n                ? this._clippingManager\n                    .getClippingContextListForDraw()\n                    .at(drawableIndex)\n                : null;\n            if (clipContext != null && this.isUsingHighPrecisionMask()) {\n                // \n                if (clipContext._isUsing) {\n                    // FrameBuffer\n                    this.gl.viewport(0, 0, this._clippingManager.getClippingMaskBufferSize(), this._clippingManager.getClippingMaskBufferSize());\n                    this.preDraw(); // \n                    // ----------  ----------\n                    // RenderTextureactive\n                    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, clipContext\n                        .getClippingManager()\n                        .getMaskRenderTexture()\n                        .at(clipContext._bufferIndex));\n                    // \n                    // () 10Cd*Cs01\n                    this.gl.clearColor(1.0, 1.0, 1.0, 1.0);\n                    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n                }\n                {\n                    const clipDrawCount = clipContext._clippingIdCount;\n                    for (let index = 0; index < clipDrawCount; index++) {\n                        const clipDrawIndex = clipContext._clippingIdList[index];\n                        // \n                        if (!this._model.getDrawableDynamicFlagVertexPositionsDidChange(clipDrawIndex)) {\n                            continue;\n                        }\n                        this.setIsCulling(this._model.getDrawableCulling(clipDrawIndex) != false);\n                        // \n                        // (A,R,G,B)\n                        this.setClippingContextBufferForMask(clipContext);\n                        this.drawMesh(this.getModel().getDrawableTextureIndex(clipDrawIndex), this.getModel().getDrawableVertexIndexCount(clipDrawIndex), this.getModel().getDrawableVertexCount(clipDrawIndex), this.getModel().getDrawableVertexIndices(clipDrawIndex), this.getModel().getDrawableVertices(clipDrawIndex), this.getModel().getDrawableVertexUvs(clipDrawIndex), this.getModel().getMultiplyColor(clipDrawIndex), this.getModel().getScreenColor(clipDrawIndex), this.getModel().getDrawableOpacity(clipDrawIndex), cubismrenderer_1.CubismBlendMode.CubismBlendMode_Normal, // \n                        false // \n                        );\n                    }\n                }\n                {\n                    // ---  ---\n                    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo); // \n                    this.setClippingContextBufferForMask(null);\n                    this.gl.viewport(s_viewport[0], s_viewport[1], s_viewport[2], s_viewport[3]);\n                    this.preDraw(); // \n                }\n            }\n            // \n            this.setClippingContextBufferForDraw(clipContext);\n            this.setIsCulling(this.getModel().getDrawableCulling(drawableIndex));\n            this.drawMesh(this.getModel().getDrawableTextureIndex(drawableIndex), this.getModel().getDrawableVertexIndexCount(drawableIndex), this.getModel().getDrawableVertexCount(drawableIndex), this.getModel().getDrawableVertexIndices(drawableIndex), this.getModel().getDrawableVertices(drawableIndex), this.getModel().getDrawableVertexUvs(drawableIndex), this.getModel().getMultiplyColor(drawableIndex), this.getModel().getScreenColor(drawableIndex), this.getModel().getDrawableOpacity(drawableIndex), this.getModel().getDrawableBlendMode(drawableIndex), this.getModel().getDrawableInvertedMaskBit(drawableIndex));\n        }\n    }\n    /**\n     * []\n     * \n     * \n     * @param textureNo \n     * @param indexCount \n     * @param vertexCount \n     * @param indexArray \n     * @param vertexArray \n     * @param uvArray uv\n     * @param opacity \n     * @param colorBlendMode \n     * @param invertedMask \n     */\n    drawMesh(textureNo, indexCount, vertexCount, indexArray, vertexArray, uvArray, multiplyColor, screenColor, opacity, colorBlendMode, invertedMask) {\n        // \n        if (this.isCulling()) {\n            this.gl.enable(this.gl.CULL_FACE);\n        }\n        else {\n            this.gl.disable(this.gl.CULL_FACE);\n        }\n        this.gl.frontFace(this.gl.CCW); // Cubism SDK OpenGLCCW\n        const modelColorRGBA = this.getModelColor();\n        if (this.getClippingContextBufferForMask() == null) {\n            // \n            modelColorRGBA.A *= opacity;\n            if (this.isPremultipliedAlpha()) {\n                modelColorRGBA.R *= modelColorRGBA.A;\n                modelColorRGBA.G *= modelColorRGBA.A;\n                modelColorRGBA.B *= modelColorRGBA.A;\n            }\n        }\n        let drawtexture; // \n        // \n        // ID\n        if (this._textures.getValue(textureNo) != null) {\n            drawtexture = this._textures.getValue(textureNo);\n        }\n        else {\n            drawtexture = null;\n        }\n        CubismShader_WebGL.getInstance().setupShaderProgram(this, drawtexture, vertexCount, vertexArray, indexArray, uvArray, this._bufferData, opacity, colorBlendMode, modelColorRGBA, multiplyColor, screenColor, this.isPremultipliedAlpha(), this.getMvpMatrix(), invertedMask);\n        // \n        this.gl.drawElements(this.gl.TRIANGLES, indexCount, this.gl.UNSIGNED_SHORT, 0);\n        // \n        this.gl.useProgram(null);\n        this.setClippingContextBufferForDraw(null);\n        this.setClippingContextBufferForMask(null);\n    }\n    saveProfile() {\n        this._rendererProfile.save();\n    }\n    restoreProfile() {\n        this._rendererProfile.restore();\n    }\n    /**\n     * \n     * WebGL\n     */\n    static doStaticRelease() {\n        CubismShader_WebGL.deleteInstance();\n    }\n    /**\n     * \n     * @param fbo \n     * @param viewport \n     */\n    setRenderState(fbo, viewport) {\n        s_fbo = fbo;\n        s_viewport = viewport;\n    }\n    /**\n     * \n     * \n     */\n    preDraw() {\n        if (this.firstDraw) {\n            this.firstDraw = false;\n        }\n        this.gl.disable(this.gl.SCISSOR_TEST);\n        this.gl.disable(this.gl.STENCIL_TEST);\n        this.gl.disable(this.gl.DEPTH_TEST);\n        // 1.0beta3\n        this.gl.frontFace(this.gl.CW);\n        this.gl.enable(this.gl.BLEND);\n        this.gl.colorMask(true, true, true, true);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null); // \n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, null);\n        // \n        if (this.getAnisotropy() > 0.0 && this._extension) {\n            for (let i = 0; i < this._textures.getSize(); ++i) {\n                this.gl.bindTexture(this.gl.TEXTURE_2D, this._textures.getValue(i));\n                this.gl.texParameterf(this.gl.TEXTURE_2D, this._extension.TEXTURE_MAX_ANISOTROPY_EXT, this.getAnisotropy());\n            }\n        }\n    }\n    /**\n     * \n     */\n    setClippingContextBufferForMask(clip) {\n        this._clippingContextBufferForMask = clip;\n    }\n    /**\n     * \n     * @return \n     */\n    getClippingContextBufferForMask() {\n        return this._clippingContextBufferForMask;\n    }\n    /**\n     * \n     */\n    setClippingContextBufferForDraw(clip) {\n        this._clippingContextBufferForDraw = clip;\n    }\n    /**\n     * \n     * @return \n     */\n    getClippingContextBufferForDraw() {\n        return this._clippingContextBufferForDraw;\n    }\n    /**\n     * gl\n     */\n    startUp(gl) {\n        this.gl = gl;\n        if (this._clippingManager) {\n            this._clippingManager.setGL(gl);\n        }\n        CubismShader_WebGL.getInstance().setGl(gl);\n        this._rendererProfile.setGl(gl);\n        // \n        this._extension =\n            this.gl.getExtension('EXT_texture_filter_anisotropic') ||\n                this.gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic') ||\n                this.gl.getExtension('MOZ_EXT_texture_filter_anisotropic');\n    }\n}\nexports.CubismRenderer_WebGL = CubismRenderer_WebGL;\n/**\n * \n */\ncubismrenderer_1.CubismRenderer.staticRelease = () => {\n    CubismRenderer_WebGL.doStaticRelease();\n};\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismrenderer_webgl */ \"./cubism/Framework/src/rendering/cubismrenderer_webgl.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismClippingContext = $.CubismClippingContext;\n    Live2DCubismFramework.CubismClippingManager_WebGL = $.CubismClippingManager_WebGL;\n    Live2DCubismFramework.CubismRenderTextureResource = $.CubismRenderTextureResource;\n    Live2DCubismFramework.CubismRenderer_WebGL = $.CubismRenderer_WebGL;\n    Live2DCubismFramework.CubismShaderSet = $.CubismShaderSet;\n    Live2DCubismFramework.CubismShader_WebGL = $.CubismShader_WebGL;\n    Live2DCubismFramework.ShaderNames = $.ShaderNames;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/rendering/cubismrenderer_webgl.ts?");

/***/ }),

/***/ "./cubism/Framework/src/type/csmmap.ts":
/*!*********************************************!*\
  !*** ./cubism/Framework/src/type/csmmap.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.iterator = exports.csmMap = exports.csmPair = void 0;\nconst cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\n/**\n * Key-Value\n * csmMap\n */\nclass csmPair {\n    /**\n     * \n     * @param key Key\n     * @param value Value\n     */\n    constructor(key, value) {\n        this.first = key == undefined ? null : key;\n        this.second = value == undefined ? null : value;\n    }\n}\nexports.csmPair = csmPair;\n/**\n * \n */\nclass csmMap {\n    /**\n     * \n     * @param size \n     */\n    constructor(size) {\n        if (size != undefined) {\n            if (size < 1) {\n                this._keyValues = [];\n                this._dummyValue = null;\n                this._size = 0;\n            }\n            else {\n                this._keyValues = new Array(size);\n                this._size = size;\n            }\n        }\n        else {\n            this._keyValues = [];\n            this._dummyValue = null;\n            this._size = 0;\n        }\n    }\n    /**\n     * \n     */\n    release() {\n        this.clear();\n    }\n    /**\n     * \n     * @param key \n     */\n    appendKey(key) {\n        // Key/Value\n        this.prepareCapacity(this._size + 1, false); // 1\n        // key/value_size\n        this._keyValues[this._size] = new csmPair(key);\n        this._size += 1;\n    }\n    /**\n     * [key](get)\n     * @param key Value\n     */\n    getValue(key) {\n        let found = -1;\n        for (let i = 0; i < this._size; i++) {\n            if (this._keyValues[i].first == key) {\n                found = i;\n                break;\n            }\n        }\n        if (found >= 0) {\n            return this._keyValues[found].second;\n        }\n        else {\n            this.appendKey(key); // \n            return this._keyValues[this._size - 1].second;\n        }\n    }\n    /**\n     * [key](set)\n     * @param key Value\n     * @param value Value\n     */\n    setValue(key, value) {\n        let found = -1;\n        for (let i = 0; i < this._size; i++) {\n            if (this._keyValues[i].first == key) {\n                found = i;\n                break;\n            }\n        }\n        if (found >= 0) {\n            this._keyValues[found].second = value;\n        }\n        else {\n            this.appendKey(key); // \n            this._keyValues[this._size - 1].second = value;\n        }\n    }\n    /**\n     * Key\n     * @param key key\n     * @return true key\n     * @return false key\n     */\n    isExist(key) {\n        for (let i = 0; i < this._size; i++) {\n            if (this._keyValues[i].first == key) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * keyValue\n     */\n    clear() {\n        this._keyValues = void 0;\n        this._keyValues = null;\n        this._keyValues = [];\n        this._size = 0;\n    }\n    /**\n     * \n     *\n     * @return \n     */\n    getSize() {\n        return this._size;\n    }\n    /**\n     * \n     * @param newSize \n     * @param fitToSize truefalse2\n     */\n    prepareCapacity(newSize, fitToSize) {\n        if (newSize > this._keyValues.length) {\n            if (this._keyValues.length == 0) {\n                if (!fitToSize && newSize < csmMap.DefaultSize)\n                    newSize = csmMap.DefaultSize;\n                this._keyValues.length = newSize;\n            }\n            else {\n                if (!fitToSize && newSize < this._keyValues.length * 2)\n                    newSize = this._keyValues.length * 2;\n                this._keyValues.length = newSize;\n            }\n        }\n    }\n    /**\n     * \n     */\n    begin() {\n        const ite = new iterator(this, 0);\n        return ite;\n    }\n    /**\n     * \n     */\n    end() {\n        const ite = new iterator(this, this._size); // \n        return ite;\n    }\n    /**\n     * \n     *\n     * @param ite \n     */\n    erase(ite) {\n        const index = ite._index;\n        if (index < 0 || this._size <= index) {\n            return ite; // \n        }\n        // \n        this._keyValues.splice(index, 1);\n        --this._size;\n        const ite2 = new iterator(this, index); // \n        return ite2;\n    }\n    /**\n     * 32\n     */\n    dumpAsInt() {\n        for (let i = 0; i < this._size; i++) {\n            (0, cubismdebug_1.CubismLogDebug)('{0} ,', this._keyValues[i]);\n            (0, cubismdebug_1.CubismLogDebug)('\\n');\n        }\n    }\n}\nexports.csmMap = csmMap;\ncsmMap.DefaultSize = 10; // \n/**\n * csmMap<T>\n */\nclass iterator {\n    /**\n     * \n     */\n    constructor(v, idx) {\n        this._map = v != undefined ? v : new csmMap();\n        this._index = idx != undefined ? idx : 0;\n    }\n    /**\n     * =\n     */\n    set(ite) {\n        this._index = ite._index;\n        this._map = ite._map;\n        return this;\n    }\n    /**\n     * ++\n     */\n    preIncrement() {\n        ++this._index;\n        return this;\n    }\n    /**\n     * --\n     */\n    preDecrement() {\n        --this._index;\n        return this;\n    }\n    /**\n     * ++\n     */\n    increment() {\n        const iteold = new iterator(this._map, this._index++); // \n        return iteold;\n    }\n    /**\n     * --\n     */\n    decrement() {\n        const iteold = new iterator(this._map, this._index); // \n        this._map = iteold._map;\n        this._index = iteold._index;\n        return this;\n    }\n    /**\n     * *\n     */\n    ptr() {\n        return this._map._keyValues[this._index];\n    }\n    /**\n     * !=\n     */\n    notEqual(ite) {\n        return this._index != ite._index || this._map != ite._map;\n    }\n}\nexports.iterator = iterator;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./csmmap */ \"./cubism/Framework/src/type/csmmap.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.csmMap = $.csmMap;\n    Live2DCubismFramework.csmPair = $.csmPair;\n    Live2DCubismFramework.iterator = $.iterator;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/type/csmmap.ts?");

/***/ }),

/***/ "./cubism/Framework/src/type/csmrectf.ts":
/*!***********************************************!*\
  !*** ./cubism/Framework/src/type/csmrectf.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.csmRect = void 0;\n/**\n * float\n */\nclass csmRect {\n    /**\n     * \n     * @param x X\n     * @param y Y\n     * @param w \n     * @param h \n     */\n    constructor(x, y, w, h) {\n        this.x = x;\n        this.y = y;\n        this.width = w;\n        this.height = h;\n    }\n    /**\n     * X\n     */\n    getCenterX() {\n        return this.x + 0.5 * this.width;\n    }\n    /**\n     * Y\n     */\n    getCenterY() {\n        return this.y + 0.5 * this.height;\n    }\n    /**\n     * X\n     */\n    getRight() {\n        return this.x + this.width;\n    }\n    /**\n     * Y\n     */\n    getBottom() {\n        return this.y + this.height;\n    }\n    /**\n     * \n     * @param r \n     */\n    setRect(r) {\n        this.x = r.x;\n        this.y = r.y;\n        this.width = r.width;\n        this.height = r.height;\n    }\n    /**\n     * \n     * @param w \n     * @param h \n     */\n    expand(w, h) {\n        this.x -= w;\n        this.y -= h;\n        this.width += w * 2.0;\n        this.height += h * 2.0;\n    }\n}\nexports.csmRect = csmRect;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./csmrectf */ \"./cubism/Framework/src/type/csmrectf.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.csmRect = $.csmRect;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/type/csmrectf.ts?");

/***/ }),

/***/ "./cubism/Framework/src/type/csmstring.ts":
/*!************************************************!*\
  !*** ./cubism/Framework/src/type/csmstring.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.csmString = void 0;\n/**\n * \n */\nclass csmString {\n    /**\n     * \n     *\n     * @param c \n     * @return \n     */\n    append(c, length) {\n        this.s += length !== undefined ? c.substr(0, length) : c;\n        return this;\n    }\n    /**\n     * \n     * @param length    \n     * @param v         \n     * @return \n     */\n    expansion(length, v) {\n        for (let i = 0; i < length; i++) {\n            this.append(v);\n        }\n        return this;\n    }\n    /**\n     * \n     */\n    getBytes() {\n        return encodeURIComponent(this.s).replace(/%../g, 'x').length;\n    }\n    /**\n     * \n     */\n    getLength() {\n        return this.s.length;\n    }\n    /**\n     *  <\n     * @param s \n     * @return true:    \n     * @return false:   \n     */\n    isLess(s) {\n        return this.s < s.s;\n    }\n    /**\n     *  >\n     * @param s \n     * @return true:    \n     * @return false:   \n     */\n    isGreat(s) {\n        return this.s > s.s;\n    }\n    /**\n     *  ==\n     * @param s \n     * @return true:    \n     * @return false:   \n     */\n    isEqual(s) {\n        return this.s == s;\n    }\n    /**\n     * \n     * @return true: \n     * @return false: \n     */\n    isEmpty() {\n        return this.s.length == 0;\n    }\n    /**\n     * \n     */\n    constructor(s) {\n        this.s = s;\n    }\n}\nexports.csmString = csmString;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./csmstring */ \"./cubism/Framework/src/type/csmstring.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.csmString = $.csmString;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/type/csmstring.ts?");

/***/ }),

/***/ "./cubism/Framework/src/type/csmvector.ts":
/*!************************************************!*\
  !*** ./cubism/Framework/src/type/csmvector.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.iterator = exports.csmVector = void 0;\n/**\n * \n */\nclass csmVector {\n    /**\n     * \n     * @param iniitalCapacity _capacity * sizeof(T)\n     * @param zeroClear true0\n     */\n    constructor(initialCapacity = 0) {\n        if (initialCapacity < 1) {\n            this._ptr = [];\n            this._capacity = 0;\n            this._size = 0;\n        }\n        else {\n            this._ptr = new Array(initialCapacity);\n            this._capacity = initialCapacity;\n            this._size = 0;\n        }\n    }\n    /**\n     * \n     */\n    at(index) {\n        return this._ptr[index];\n    }\n    /**\n     * \n     * @param index \n     * @param value \n     */\n    set(index, value) {\n        this._ptr[index] = value;\n    }\n    /**\n     * \n     */\n    get(offset = 0) {\n        const ret = new Array();\n        for (let i = offset; i < this._size; i++) {\n            ret.push(this._ptr[i]);\n        }\n        return ret;\n    }\n    /**\n     * pushBack\n     * @param value PushBack\n     */\n    pushBack(value) {\n        if (this._size >= this._capacity) {\n            this.prepareCapacity(this._capacity == 0 ? csmVector.s_defaultSize : this._capacity * 2);\n        }\n        this._ptr[this._size++] = value;\n    }\n    /**\n     * \n     */\n    clear() {\n        this._ptr.length = 0;\n        this._size = 0;\n    }\n    /**\n     * \n     * @return \n     */\n    getSize() {\n        return this._size;\n    }\n    /**\n     * \n     * @param newSize \n     * @param value \n     */\n    assign(newSize, value) {\n        const curSize = this._size;\n        if (curSize < newSize) {\n            this.prepareCapacity(newSize); // capacity\n        }\n        for (let i = 0; i < newSize; i++) {\n            this._ptr[i] = value;\n        }\n        this._size = newSize;\n    }\n    /**\n     * \n     */\n    resize(newSize, value = null) {\n        this.updateSize(newSize, value, true);\n    }\n    /**\n     * \n     */\n    updateSize(newSize, value = null, callPlacementNew = true) {\n        const curSize = this._size;\n        if (curSize < newSize) {\n            this.prepareCapacity(newSize); // capacity\n            if (callPlacementNew) {\n                for (let i = this._size; i < newSize; i++) {\n                    if (typeof value == 'function') {\n                        // new\n                        this._ptr[i] = JSON.parse(JSON.stringify(new value()));\n                    } // \n                    else {\n                        this._ptr[i] = value;\n                    }\n                }\n            }\n            else {\n                for (let i = this._size; i < newSize; i++) {\n                    this._ptr[i] = value;\n                }\n            }\n        }\n        else {\n            // newSize <= this._size\n            //---\n            const sub = this._size - newSize;\n            this._ptr.splice(this._size - sub, sub); // \n        }\n        this._size = newSize;\n    }\n    /**\n     * \n     * @param position \n     * @param begin \n     * @param end \n     */\n    insert(position, begin, end) {\n        let dstSi = position._index;\n        const srcSi = begin._index;\n        const srcEi = end._index;\n        const addCount = srcEi - srcSi;\n        this.prepareCapacity(this._size + addCount);\n        // \n        const addSize = this._size - dstSi;\n        if (addSize > 0) {\n            for (let i = 0; i < addSize; i++) {\n                this._ptr.splice(dstSi + i, 0, null);\n            }\n        }\n        for (let i = srcSi; i < srcEi; i++, dstSi++) {\n            this._ptr[dstSi] = begin._vector._ptr[i];\n        }\n        this._size = this._size + addCount;\n    }\n    /**\n     * \n     * @param index \n     * @return true \n     * @return false \n     */\n    remove(index) {\n        if (index < 0 || this._size <= index) {\n            return false; // \n        }\n        this._ptr.splice(index, 1);\n        --this._size;\n        return true;\n    }\n    /**\n     * \n     * @param ite \n     */\n    erase(ite) {\n        const index = ite._index;\n        if (index < 0 || this._size <= index) {\n            return ite; // \n        }\n        // \n        this._ptr.splice(index, 1);\n        --this._size;\n        const ite2 = new iterator(this, index); // \n        return ite2;\n    }\n    /**\n     * \n     * @param newSize .\n     */\n    prepareCapacity(newSize) {\n        if (newSize > this._capacity) {\n            if (this._capacity == 0) {\n                this._ptr = new Array(newSize);\n                this._capacity = newSize;\n            }\n            else {\n                this._ptr.length = newSize;\n                this._capacity = newSize;\n            }\n        }\n    }\n    /**\n     * \n     */\n    begin() {\n        const ite = this._size == 0 ? this.end() : new iterator(this, 0);\n        return ite;\n    }\n    /**\n     * \n     */\n    end() {\n        const ite = new iterator(this, this._size);\n        return ite;\n    }\n    getOffset(offset) {\n        const newVector = new csmVector();\n        newVector._ptr = this.get(offset);\n        newVector._size = this.get(offset).length;\n        newVector._capacity = this.get(offset).length;\n        return newVector;\n    }\n}\nexports.csmVector = csmVector;\ncsmVector.s_defaultSize = 10; // \nclass iterator {\n    /**\n     * \n     */\n    constructor(v, index) {\n        this._vector = v != undefined ? v : null;\n        this._index = index != undefined ? index : 0;\n    }\n    /**\n     * \n     */\n    set(ite) {\n        this._index = ite._index;\n        this._vector = ite._vector;\n        return this;\n    }\n    /**\n     * ++\n     */\n    preIncrement() {\n        ++this._index;\n        return this;\n    }\n    /**\n     * --\n     */\n    preDecrement() {\n        --this._index;\n        return this;\n    }\n    /**\n     * ++\n     */\n    increment() {\n        const iteold = new iterator(this._vector, this._index++); // \n        return iteold;\n    }\n    /**\n     * --\n     */\n    decrement() {\n        const iteold = new iterator(this._vector, this._index--); // \n        return iteold;\n    }\n    /**\n     * ptr\n     */\n    ptr() {\n        return this._vector._ptr[this._index];\n    }\n    /**\n     * =\n     */\n    substitution(ite) {\n        this._index = ite._index;\n        this._vector = ite._vector;\n        return this;\n    }\n    /**\n     * !=\n     */\n    notEqual(ite) {\n        return this._index != ite._index || this._vector != ite._vector;\n    }\n}\nexports.iterator = iterator;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.csmVector = $.csmVector;\n    Live2DCubismFramework.iterator = $.iterator;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/type/csmvector.ts?");

/***/ }),

/***/ "./cubism/Framework/src/utils/cubismdebug.ts":
/*!***************************************************!*\
  !*** ./cubism/Framework/src/utils/cubismdebug.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismDebug = exports.CubismLogError = exports.CubismLogWarning = exports.CubismLogInfo = exports.CubismLogDebug = exports.CubismLogVerbose = exports.CSM_ASSERT = exports.CubismLogPrintIn = exports.CubismLogPrint = void 0;\nconst cubismframeworkconfig_1 = __webpack_require__(/*! ../cubismframeworkconfig */ \"./cubism/Framework/src/cubismframeworkconfig.ts\");\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst CubismLogPrint = (level, fmt, args) => {\n    CubismDebug.print(level, '[CSM]' + fmt, args);\n};\nexports.CubismLogPrint = CubismLogPrint;\nconst CubismLogPrintIn = (level, fmt, args) => {\n    (0, exports.CubismLogPrint)(level, fmt + '\\n', args);\n};\nexports.CubismLogPrintIn = CubismLogPrintIn;\nconst CSM_ASSERT = (expr) => {\n    console.assert(expr);\n};\nexports.CSM_ASSERT = CSM_ASSERT;\nif (cubismframeworkconfig_1.CSM_LOG_LEVEL <= cubismframeworkconfig_1.CSM_LOG_LEVEL_VERBOSE) {\n    exports.CubismLogVerbose = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Verbose, '[V]' + fmt, args);\n    };\n    exports.CubismLogDebug = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Debug, '[D]' + fmt, args);\n    };\n    exports.CubismLogInfo = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_DEBUG) {\n    exports.CubismLogDebug = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Debug, '[D]' + fmt, args);\n    };\n    exports.CubismLogInfo = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_INFO) {\n    exports.CubismLogInfo = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_WARNING) {\n    exports.CubismLogWarning = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_ERROR) {\n    exports.CubismLogError = (fmt, ...args) => {\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\n/**\n * \n * \n */\nclass CubismDebug {\n    /**\n     * \n     * CubismFramework.initialize()\n     *\n     * @param logLevel \n     * @param format \n     * @param args \n     */\n    static print(logLevel, format, args) {\n        // \n        if (logLevel < live2dcubismframework_1.CubismFramework.getLoggingLevel()) {\n            return;\n        }\n        const logPrint = live2dcubismframework_1.CubismFramework.coreLogFunction;\n        if (!logPrint)\n            return;\n        const buffer = format.replace(/\\{(\\d+)\\}/g, (m, k) => {\n            return args[k];\n        });\n        logPrint(buffer);\n    }\n    /**\n     * \n     * CubismFramework.initialize()\n     *\n     * @param logLevel \n     * @param data \n     * @param length \n     */\n    static dumpBytes(logLevel, data, length) {\n        for (let i = 0; i < length; i++) {\n            if (i % 16 == 0 && i > 0)\n                this.print(logLevel, '\\n');\n            else if (i % 8 == 0 && i > 0)\n                this.print(logLevel, '  ');\n            this.print(logLevel, '{0} ', [data[i] & 0xff]);\n        }\n        this.print(logLevel, '\\n');\n    }\n    /**\n     * private \n     */\n    constructor() { }\n}\nexports.CubismDebug = CubismDebug;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismDebug = $.CubismDebug;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/utils/cubismdebug.ts?");

/***/ }),

/***/ "./cubism/Framework/src/utils/cubismjson.ts":
/*!**************************************************!*\
  !*** ./cubism/Framework/src/utils/cubismjson.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.JsonMap = exports.JsonArray = exports.JsonNullvalue = exports.JsonError = exports.JsonString = exports.JsonBoolean = exports.JsonFloat = exports.CubismJson = exports.Value = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./cubism/Framework/src/type/csmmap.ts\");\nconst csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./cubism/Framework/src/type/csmstring.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismdebug_1 = __webpack_require__(/*! ./cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\n// StaticInitializeNotForClientCall()\nconst CSM_JSON_ERROR_TYPE_MISMATCH = 'Error: type mismatch';\nconst CSM_JSON_ERROR_INDEX_OF_BOUNDS = 'Error: index out of bounds';\n/**\n * JSON\n */\nclass Value {\n    /**\n     * \n     */\n    constructor() { }\n    /**\n     * (string)\n     */\n    getRawString(defaultValue, indent) {\n        return this.getString(defaultValue, indent);\n    }\n    /**\n     * (number)\n     */\n    toInt(defaultValue = 0) {\n        return defaultValue;\n    }\n    /**\n     * (number)\n     */\n    toFloat(defaultValue = 0) {\n        return defaultValue;\n    }\n    /**\n     * (boolean)\n     */\n    toBoolean(defaultValue = false) {\n        return defaultValue;\n    }\n    /**\n     * \n     */\n    getSize() {\n        return 0;\n    }\n    /**\n     * (Value[])\n     */\n    getArray(defaultValue = null) {\n        return defaultValue;\n    }\n    /**\n     * (array)\n     */\n    getVector(defaultValue = new csmvector_1.csmVector()) {\n        return defaultValue;\n    }\n    /**\n     * (csmMap<csmString, Value>)\n     */\n    getMap(defaultValue) {\n        return defaultValue;\n    }\n    /**\n     * [index]\n     */\n    getValueByIndex(index) {\n        return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n    }\n    /**\n     * [string | csmString]\n     */\n    getValueByString(s) {\n        return Value.nullValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n    }\n    /**\n     * \n     *\n     * @return \n     */\n    getKeys() {\n        return Value.s_dummyKeys;\n    }\n    /**\n     * Valuetrue\n     */\n    isError() {\n        return false;\n    }\n    /**\n     * Valuenulltrue\n     */\n    isNull() {\n        return false;\n    }\n    /**\n     * Valuetrue\n     */\n    isBool() {\n        return false;\n    }\n    /**\n     * Valuetrue\n     */\n    isFloat() {\n        return false;\n    }\n    /**\n     * Valuetrue\n     */\n    isString() {\n        return false;\n    }\n    /**\n     * Valuetrue\n     */\n    isArray() {\n        return false;\n    }\n    /**\n     * Valuetrue\n     */\n    isMap() {\n        return false;\n    }\n    equals(value) {\n        return false;\n    }\n    /**\n     * Valuetrue\n     */\n    isStatic() {\n        return false;\n    }\n    /**\n     * Value\n     */\n    setErrorNotForClientCall(errorStr) {\n        return JsonError.errorValue;\n    }\n    /**\n     * \n     */\n    static staticInitializeNotForClientCall() {\n        JsonBoolean.trueValue = new JsonBoolean(true);\n        JsonBoolean.falseValue = new JsonBoolean(false);\n        Value.errorValue = new JsonError('ERROR', true);\n        Value.nullValue = new JsonNullvalue();\n        Value.s_dummyKeys = new csmvector_1.csmVector();\n    }\n    /**\n     * \n     */\n    static staticReleaseNotForClientCall() {\n        JsonBoolean.trueValue = null;\n        JsonBoolean.falseValue = null;\n        Value.errorValue = null;\n        Value.nullValue = null;\n        Value.s_dummyKeys = null;\n    }\n}\nexports.Value = Value;\n/**\n * AsciiJSON\n * JSON\n * (model3.json)\n *\n * []\n * ASCII\n * e\n */\nclass CubismJson {\n    /**\n     * \n     */\n    constructor(buffer, length) {\n        this._parseCallback = cubismjsonextension_1.CubismJsonExtension.parseJsonObject; // \n        this._error = null;\n        this._lineCount = 0;\n        this._root = null;\n        if (buffer != undefined) {\n            this.parseBytes(buffer, length, this._parseCallback);\n        }\n    }\n    /**\n     * \n     *\n     * @param buffer \n     * @param size \n     * @return CubismJsonNULL\n     */\n    static create(buffer, size) {\n        const json = new CubismJson();\n        const succeeded = json.parseBytes(buffer, size, json._parseCallback);\n        if (!succeeded) {\n            CubismJson.delete(json);\n            return null;\n        }\n        else {\n            return json;\n        }\n    }\n    /**\n     * JSON\n     *\n     * @param instance CubismJson\n     */\n    static delete(instance) {\n        instance = null;\n    }\n    /**\n     * JSON\n     */\n    getRoot() {\n        return this._root;\n    }\n    /**\n     *  UnicodeString\n     *\n     * @param buffer \n     * @return \n     */\n    static arrayBufferToString(buffer) {\n        const uint8Array = new Uint8Array(buffer);\n        let str = '';\n        for (let i = 0, len = uint8Array.length; i < len; ++i) {\n            str += '%' + this.pad(uint8Array[i].toString(16));\n        }\n        str = decodeURIComponent(str);\n        return str;\n    }\n    /**\n     * \n     */\n    static pad(n) {\n        return n.length < 2 ? '0' + n : n;\n    }\n    /**\n     * JSON\n     * @param buffer    \n     * @param size      \n     * return true : \n     * return false: \n     */\n    parseBytes(buffer, size, parseCallback) {\n        const endPos = new Array(1); // \n        const decodeBuffer = CubismJson.arrayBufferToString(buffer);\n        if (parseCallback == undefined) {\n            this._root = this.parseValue(decodeBuffer, size, 0, endPos);\n        }\n        else {\n            // TypeScriptJSON\n            this._root = parseCallback(JSON.parse(decodeBuffer), new JsonMap());\n        }\n        if (this._error) {\n            let strbuf = '\\0';\n            strbuf = 'Json parse error : @line ' + (this._lineCount + 1) + '\\n';\n            this._root = new JsonString(strbuf);\n            (0, cubismdebug_1.CubismLogInfo)('{0}', this._root.getRawString());\n            return false;\n        }\n        else if (this._root == null) {\n            this._root = new JsonError(new csmstring_1.csmString(this._error), false); // root\n            return false;\n        }\n        return true;\n    }\n    /**\n     * \n     */\n    getParseError() {\n        return this._error;\n    }\n    /**\n     * true\n     */\n    checkEndOfFile() {\n        return this._root.getArray()[1].equals('EOF');\n    }\n    /**\n     * JSONValue(float,String,Value*,Array,null,true,false)\n     * ParseString(), ParseObject(), ParseArray()\n     *\n     * @param   buffer      JSON\n     * @param   length      \n     * @param   begin       \n     * @param   outEndPos   \n     * @return      Value\n     */\n    parseValue(buffer, length, begin, outEndPos) {\n        if (this._error)\n            return null;\n        let o = null;\n        let i = begin;\n        let f;\n        for (; i < length; i++) {\n            const c = buffer[i];\n            switch (c) {\n                case '-':\n                case '.':\n                case '0':\n                case '1':\n                case '2':\n                case '3':\n                case '4':\n                case '5':\n                case '6':\n                case '7':\n                case '8':\n                case '9': {\n                    const afterString = new Array(1); // \n                    f = (0, live2dcubismframework_1.strtod)(buffer.slice(i), afterString);\n                    outEndPos[0] = buffer.indexOf(afterString[0]);\n                    return new JsonFloat(f);\n                }\n                case '\"':\n                    return new JsonString(this.parseString(buffer, length, i + 1, outEndPos)); // \\\"\n                case '[':\n                    o = this.parseArray(buffer, length, i + 1, outEndPos);\n                    return o;\n                case '{':\n                    o = this.parseObject(buffer, length, i + 1, outEndPos);\n                    return o;\n                case 'n': // null\n                    if (i + 3 < length) {\n                        o = new JsonNullvalue(); // \n                        outEndPos[0] = i + 4;\n                    }\n                    else {\n                        this._error = 'parse null';\n                    }\n                    return o;\n                case 't': // true\n                    if (i + 3 < length) {\n                        o = JsonBoolean.trueValue;\n                        outEndPos[0] = i + 4;\n                    }\n                    else {\n                        this._error = 'parse true';\n                    }\n                    return o;\n                case 'f': // false\n                    if (i + 4 < length) {\n                        o = JsonBoolean.falseValue;\n                        outEndPos[0] = i + 5;\n                    }\n                    else {\n                        this._error = \"illegal ',' position\";\n                    }\n                    return o;\n                case ',': // Array separator\n                    this._error = \"illegal ',' position\";\n                    return null;\n                case ']': //  , \n                    outEndPos[0] = i; // \n                    return null;\n                case '\\n':\n                    this._lineCount++;\n                case ' ':\n                case '\\t':\n                case '\\r':\n                default:\n                    // \n                    break;\n            }\n        }\n        this._error = 'illegal end of value';\n        return null;\n    }\n    /**\n     * \"\n     *\n     * @param   string  ->  \n     * @param   length  ->  \n     * @param   begin   ->  \n     * @param  outEndPos   ->  \n     * @return      F\n     */\n    parseString(string, length, begin, outEndPos) {\n        if (this._error)\n            return null;\n        let i = begin;\n        let c, c2;\n        const ret = new csmstring_1.csmString('');\n        let bufStart = begin; // sbuf\n        for (; i < length; i++) {\n            c = string[i];\n            switch (c) {\n                case '\"': {\n                    // \n                    outEndPos[0] = i + 1; // \n                    ret.append(string.slice(bufStart), i - bufStart); // \n                    return ret.s;\n                }\n                case '//': {\n                    // \n                    i++; // \n                    if (i - 1 > bufStart) {\n                        ret.append(string.slice(bufStart), i - bufStart); // \n                    }\n                    bufStart = i + 1; // )\n                    if (i < length) {\n                        c2 = string[i];\n                        switch (c2) {\n                            case '\\\\':\n                                ret.expansion(1, '\\\\');\n                                break;\n                            case '\"':\n                                ret.expansion(1, '\"');\n                                break;\n                            case '/':\n                                ret.expansion(1, '/');\n                                break;\n                            case 'b':\n                                ret.expansion(1, '\\b');\n                                break;\n                            case 'f':\n                                ret.expansion(1, '\\f');\n                                break;\n                            case 'n':\n                                ret.expansion(1, '\\n');\n                                break;\n                            case 'r':\n                                ret.expansion(1, '\\r');\n                                break;\n                            case 't':\n                                ret.expansion(1, '\\t');\n                                break;\n                            case 'u':\n                                this._error = 'parse string/unicord escape not supported';\n                                break;\n                            default:\n                                break;\n                        }\n                    }\n                    else {\n                        this._error = 'parse string/escape error';\n                    }\n                }\n                default: {\n                    break;\n                }\n            }\n        }\n        this._error = 'parse string/illegal end';\n        return null;\n    }\n    /**\n     * JSONValue\n     *\n     * @param buffer    JSON\n     * @param length    \n     * @param begin     \n     * @param outEndPos \n     * @return Value\n     */\n    parseObject(buffer, length, begin, outEndPos) {\n        if (this._error)\n            return null;\n        const ret = new JsonMap();\n        // Key: Value\n        let key = '';\n        let i = begin;\n        let c = '';\n        const localRetEndPos2 = Array(1);\n        let ok = false;\n        // , \n        for (; i < length; i++) {\n            FOR_LOOP: for (; i < length; i++) {\n                c = buffer[i];\n                switch (c) {\n                    case '\"':\n                        key = this.parseString(buffer, length, i + 1, localRetEndPos2);\n                        if (this._error) {\n                            return null;\n                        }\n                        i = localRetEndPos2[0];\n                        ok = true;\n                        break FOR_LOOP; //-- loop\n                    case '}': // \n                        outEndPos[0] = i + 1;\n                        return ret; // \n                    case ':':\n                        this._error = \"illegal ':' position\";\n                        break;\n                    case '\\n':\n                        this._lineCount++;\n                    default:\n                        break; // \n                }\n            }\n            if (!ok) {\n                this._error = 'key not found';\n                return null;\n            }\n            ok = false;\n            // : \n            FOR_LOOP2: for (; i < length; i++) {\n                c = buffer[i];\n                switch (c) {\n                    case ':':\n                        ok = true;\n                        i++;\n                        break FOR_LOOP2;\n                    case '}':\n                        this._error = \"illegal '}' position\";\n                        break;\n                    case '\\n':\n                        this._lineCount++;\n                    // case ' ': case '\\t' : case '\\r':\n                    default:\n                        break; // \n                }\n            }\n            if (!ok) {\n                this._error = \"':' not found\";\n                return null;\n            }\n            // \n            const value = this.parseValue(buffer, length, i, localRetEndPos2);\n            if (this._error) {\n                return null;\n            }\n            i = localRetEndPos2[0];\n            // ret.put(key, value);\n            ret.put(key, value);\n            FOR_LOOP3: for (; i < length; i++) {\n                c = buffer[i];\n                switch (c) {\n                    case ',':\n                        break FOR_LOOP3;\n                    case '}':\n                        outEndPos[0] = i + 1;\n                        return ret; // \n                    case '\\n':\n                        this._lineCount++;\n                    default:\n                        break; // \n                }\n            }\n        }\n        this._error = 'illegal end of perseObject';\n        return null;\n    }\n    /**\n     * \"\n     * @param buffer    JSON\n     * @param length    \n     * @param begin     \n     * @param outEndPos \n     * @return Value\n     */\n    parseArray(buffer, length, begin, outEndPos) {\n        if (this._error)\n            return null;\n        let ret = new JsonArray();\n        // key : value\n        let i = begin;\n        let c;\n        const localRetEndpos2 = new Array(1);\n        // , \n        for (; i < length; i++) {\n            // : \n            const value = this.parseValue(buffer, length, i, localRetEndpos2);\n            if (this._error) {\n                return null;\n            }\n            i = localRetEndpos2[0];\n            if (value) {\n                ret.add(value);\n            }\n            // FOR_LOOP3:\n            // boolean breakflag = false;\n            FOR_LOOP: for (; i < length; i++) {\n                c = buffer[i];\n                switch (c) {\n                    case ',':\n                        // breakflag = true;\n                        // break; // KEY, VAlUE\n                        break FOR_LOOP;\n                    case ']':\n                        outEndPos[0] = i + 1;\n                        return ret; // \n                    case '\\n':\n                        ++this._lineCount;\n                    //case ' ': case '\\t': case '\\r':\n                    default:\n                        break; // \n                }\n            }\n        }\n        ret = void 0;\n        this._error = 'illegal end of parseObject';\n        return null;\n    }\n}\nexports.CubismJson = CubismJson;\n/**\n * JSONfloat\n */\nclass JsonFloat extends Value {\n    /**\n     * \n     */\n    constructor(v) {\n        super();\n        this._value = v;\n    }\n    /**\n     * Valuetrue\n     */\n    isFloat() {\n        return true;\n    }\n    /**\n     * (csmString)\n     */\n    getString(defaultValue, indent) {\n        const strbuf = '\\0';\n        this._value = parseFloat(strbuf);\n        this._stringBuffer = strbuf;\n        return this._stringBuffer;\n    }\n    /**\n     * (number)\n     */\n    toInt(defaultValue = 0) {\n        return parseInt(this._value.toString());\n    }\n    /**\n     * (number)\n     */\n    toFloat(defaultValue = 0.0) {\n        return this._value;\n    }\n    equals(value) {\n        if ('number' === typeof value) {\n            // int\n            if (Math.round(value)) {\n                return false;\n            }\n            // float\n            else {\n                return value == this._value;\n            }\n        }\n        return false;\n    }\n}\nexports.JsonFloat = JsonFloat;\n/**\n * JSON\n */\nclass JsonBoolean extends Value {\n    /**\n     * Valuetrue\n     */\n    isBool() {\n        return true;\n    }\n    /**\n     * (boolean)\n     */\n    toBoolean(defaultValue = false) {\n        return this._boolValue;\n    }\n    /**\n     * (csmString)\n     */\n    getString(defaultValue, indent) {\n        this._stringBuffer = this._boolValue ? 'true' : 'false';\n        return this._stringBuffer;\n    }\n    equals(value) {\n        if ('boolean' === typeof value) {\n            return value == this._boolValue;\n        }\n        return false;\n    }\n    /**\n     * Valuetrue, \n     */\n    isStatic() {\n        return true;\n    }\n    /**\n     * \n     */\n    constructor(v) {\n        super();\n        this._boolValue = v;\n    }\n}\nexports.JsonBoolean = JsonBoolean;\n/**\n * JSON\n */\nclass JsonString extends Value {\n    constructor(s) {\n        super();\n        if ('string' === typeof s) {\n            this._stringBuffer = s;\n        }\n        if (s instanceof csmstring_1.csmString) {\n            this._stringBuffer = s.s;\n        }\n    }\n    /**\n     * Valuetrue\n     */\n    isString() {\n        return true;\n    }\n    /**\n     * (csmString)\n     */\n    getString(defaultValue, indent) {\n        return this._stringBuffer;\n    }\n    equals(value) {\n        if ('string' === typeof value) {\n            return this._stringBuffer == value;\n        }\n        if (value instanceof csmstring_1.csmString) {\n            return this._stringBuffer == value.s;\n        }\n        return false;\n    }\n}\nexports.JsonString = JsonString;\n/**\n * JSON\n */\nclass JsonError extends JsonString {\n    /**\n     * Valuetrue\n     */\n    isStatic() {\n        return this._isStatic;\n    }\n    /**\n     * \n     */\n    setErrorNotForClientCall(s) {\n        this._stringBuffer = s;\n        return this;\n    }\n    /**\n     * \n     */\n    constructor(s, isStatic) {\n        if ('string' === typeof s) {\n            super(s);\n        }\n        else {\n            super(s);\n        }\n        this._isStatic = isStatic;\n    }\n    /**\n     * Valuetrue\n     */\n    isError() {\n        return true;\n    }\n}\nexports.JsonError = JsonError;\n/**\n * JSONNULL\n */\nclass JsonNullvalue extends Value {\n    /**\n     * ValueNULLtrue\n     */\n    isNull() {\n        return true;\n    }\n    /**\n     * (csmString)\n     */\n    getString(defaultValue, indent) {\n        return this._stringBuffer;\n    }\n    /**\n     * Valuetrue, \n     */\n    isStatic() {\n        return true;\n    }\n    /**\n     * Value\n     */\n    setErrorNotForClientCall(s) {\n        this._stringBuffer = s;\n        return JsonError.nullValue;\n    }\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._stringBuffer = 'NullValue';\n    }\n}\nexports.JsonNullvalue = JsonNullvalue;\n/**\n * JSON\n */\nclass JsonArray extends Value {\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._array = new csmvector_1.csmVector();\n    }\n    /**\n     * \n     */\n    release() {\n        for (let ite = this._array.begin(); ite.notEqual(this._array.end()); ite.preIncrement()) {\n            let v = ite.ptr();\n            if (v && !v.isStatic()) {\n                v = void 0;\n                v = null;\n            }\n        }\n    }\n    /**\n     * Valuetrue\n     */\n    isArray() {\n        return true;\n    }\n    /**\n     * [index]\n     */\n    getValueByIndex(index) {\n        if (index < 0 || this._array.getSize() <= index) {\n            return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_INDEX_OF_BOUNDS);\n        }\n        const v = this._array.at(index);\n        if (v == null) {\n            return Value.nullValue;\n        }\n        return v;\n    }\n    /**\n     * [string | csmString]\n     */\n    getValueByString(s) {\n        return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n    }\n    /**\n     * (csmString)\n     */\n    getString(defaultValue, indent) {\n        const stringBuffer = indent + '[\\n';\n        for (let ite = this._array.begin(); ite.notEqual(this._array.end()); ite.increment()) {\n            const v = ite.ptr();\n            this._stringBuffer += indent + '' + v.getString(indent + ' ') + '\\n';\n        }\n        this._stringBuffer = stringBuffer + indent + ']\\n';\n        return this._stringBuffer;\n    }\n    /**\n     * \n     * @param v \n     */\n    add(v) {\n        this._array.pushBack(v);\n    }\n    /**\n     * (csmVector<Value>)\n     */\n    getVector(defaultValue = null) {\n        return this._array;\n    }\n    /**\n     * \n     */\n    getSize() {\n        return this._array.getSize();\n    }\n}\nexports.JsonArray = JsonArray;\n/**\n * JSON\n */\nclass JsonMap extends Value {\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._map = new csmmap_1.csmMap();\n    }\n    /**\n     * \n     */\n    release() {\n        const ite = this._map.begin();\n        while (ite.notEqual(this._map.end())) {\n            let v = ite.ptr().second;\n            if (v && !v.isStatic()) {\n                v = void 0;\n                v = null;\n            }\n            ite.preIncrement();\n        }\n    }\n    /**\n     * ValueMaptrue\n     */\n    isMap() {\n        return true;\n    }\n    /**\n     * [string | csmString]\n     */\n    getValueByString(s) {\n        if (s instanceof csmstring_1.csmString) {\n            const ret = this._map.getValue(s.s);\n            if (ret == null) {\n                return Value.nullValue;\n            }\n            return ret;\n        }\n        for (let iter = this._map.begin(); iter.notEqual(this._map.end()); iter.preIncrement()) {\n            if (iter.ptr().first == s) {\n                if (iter.ptr().second == null) {\n                    return Value.nullValue;\n                }\n                return iter.ptr().second;\n            }\n        }\n        return Value.nullValue;\n    }\n    /**\n     * [index]\n     */\n    getValueByIndex(index) {\n        return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n    }\n    /**\n     * (csmString)\n     */\n    getString(defaultValue, indent) {\n        this._stringBuffer = indent + '{\\n';\n        const ite = this._map.begin();\n        while (ite.notEqual(this._map.end())) {\n            const key = ite.ptr().first;\n            const v = ite.ptr().second;\n            this._stringBuffer +=\n                indent + ' ' + key + ' : ' + v.getString(indent + '   ') + ' \\n';\n            ite.preIncrement();\n        }\n        this._stringBuffer += indent + '}\\n';\n        return this._stringBuffer;\n    }\n    /**\n     * Map\n     */\n    getMap(defaultValue) {\n        return this._map;\n    }\n    /**\n     * Map\n     */\n    put(key, v) {\n        this._map.setValue(key, v);\n    }\n    /**\n     * Map\n     */\n    getKeys() {\n        if (!this._keys) {\n            this._keys = new csmvector_1.csmVector();\n            const ite = this._map.begin();\n            while (ite.notEqual(this._map.end())) {\n                const key = ite.ptr().first;\n                this._keys.pushBack(key);\n                ite.preIncrement();\n            }\n        }\n        return this._keys;\n    }\n    /**\n     * Map\n     */\n    getSize() {\n        return this._keys.getSize();\n    }\n}\nexports.JsonMap = JsonMap;\n// Namespace definition for compatibility.\nconst $ = __webpack_require__(/*! ./cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\nconst cubismjsonextension_1 = __webpack_require__(/*! ./cubismjsonextension */ \"./cubism/Framework/src/utils/cubismjsonextension.ts\");\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismJson = $.CubismJson;\n    Live2DCubismFramework.JsonArray = $.JsonArray;\n    Live2DCubismFramework.JsonBoolean = $.JsonBoolean;\n    Live2DCubismFramework.JsonError = $.JsonError;\n    Live2DCubismFramework.JsonFloat = $.JsonFloat;\n    Live2DCubismFramework.JsonMap = $.JsonMap;\n    Live2DCubismFramework.JsonNullvalue = $.JsonNullvalue;\n    Live2DCubismFramework.JsonString = $.JsonString;\n    Live2DCubismFramework.Value = $.Value;\n})(Live2DCubismFramework || (exports.Live2DCubismFramework = Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/utils/cubismjson.ts?");

/***/ }),

/***/ "./cubism/Framework/src/utils/cubismjsonextension.ts":
/*!***********************************************************!*\
  !*** ./cubism/Framework/src/utils/cubismjsonextension.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CubismJsonExtension = void 0;\nconst cubismjson_1 = __webpack_require__(/*! ./cubismjson */ \"./cubism/Framework/src/utils/cubismjson.ts\");\n/**\n * CubismJsonJson\n * TypeScriptJson\n * Cubism SDKJSON\n * \n */\nclass CubismJsonExtension {\n    static parseJsonObject(obj, map) {\n        Object.keys(obj).forEach((key) => {\n            if (typeof obj[key] == 'boolean') {\n                const convValue = Boolean(obj[key]);\n                map.put(key, new cubismjson_1.JsonBoolean(convValue));\n            }\n            else if (typeof obj[key] == 'string') {\n                const convValue = String(obj[key]);\n                map.put(key, new cubismjson_1.JsonString(convValue));\n            }\n            else if (typeof obj[key] == 'number') {\n                const convValue = Number(obj[key]);\n                map.put(key, new cubismjson_1.JsonFloat(convValue));\n            }\n            else if (obj[key] instanceof Array) {\n                map.put(key, CubismJsonExtension.parseJsonArray(obj[key]));\n            }\n            else if (obj[key] instanceof Object) {\n                map.put(key, CubismJsonExtension.parseJsonObject(obj[key], new cubismjson_1.JsonMap()));\n            }\n            else if (obj[key] == null) {\n                map.put(key, new cubismjson_1.JsonNullvalue());\n            }\n            else {\n                // \n                map.put(key, obj[key]);\n            }\n        });\n        return map;\n    }\n    static parseJsonArray(obj) {\n        const arr = new cubismjson_1.JsonArray();\n        Object.keys(obj).forEach((key) => {\n            const convKey = Number(key);\n            if (typeof convKey == 'number') {\n                if (typeof obj[key] == 'boolean') {\n                    const convValue = Boolean(obj[key]);\n                    arr.add(new cubismjson_1.JsonBoolean(convValue));\n                }\n                else if (typeof obj[key] == 'string') {\n                    const convValue = String(obj[key]);\n                    arr.add(new cubismjson_1.JsonString(convValue));\n                }\n                else if (typeof obj[key] == 'number') {\n                    const convValue = Number(obj[key]);\n                    arr.add(new cubismjson_1.JsonFloat(convValue));\n                }\n                else if (obj[key] instanceof Array) {\n                    arr.add(this.parseJsonArray(obj[key]));\n                }\n                else if (obj[key] instanceof Object) {\n                    arr.add(this.parseJsonObject(obj[key], new cubismjson_1.JsonMap()));\n                }\n                else if (obj[key] == null) {\n                    arr.add(new cubismjson_1.JsonNullvalue());\n                }\n                else {\n                    // \n                    arr.add(obj[key]);\n                }\n            }\n            else if (obj[key] instanceof Array) {\n                arr.add(this.parseJsonArray(obj[key]));\n            }\n            else if (obj[key] instanceof Object) {\n                arr.add(this.parseJsonObject(obj[key], new cubismjson_1.JsonMap()));\n            }\n            else if (obj[key] == null) {\n                arr.add(new cubismjson_1.JsonNullvalue());\n            }\n            else {\n                const convValue = Array(obj[key]);\n                // Object\n                for (let i = 0; i < convValue.length; i++) {\n                    arr.add(convValue[i]);\n                }\n            }\n        });\n        return arr;\n    }\n}\nexports.CubismJsonExtension = CubismJsonExtension;\n\n\n//# sourceURL=webpack:///./cubism/Framework/src/utils/cubismjsonextension.ts?");

/***/ }),

/***/ "./src/assets/assets.ts":
/*!******************************!*\
  !*** ./src/assets/assets.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchAssetAsPngUrl = exports.fetchAssetAsync = exports.fetchAsset = exports.initAssets = void 0;\nconst rfc4648_1 = __webpack_require__(/*! rfc4648 */ \"./node_modules/rfc4648/lib/index.js\");\nlet assets = null;\nlet assetCache = new Map();\nfunction initAssets() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const response = yield fetch(\"./assets.json\");\n        assets = yield response.json();\n    });\n}\nexports.initAssets = initAssets;\nfunction fetchAsset(path) {\n    console.log(\"aa\");\n    if (assetCache[path] != undefined) {\n        return assetCache[path];\n    }\n    let c = assets;\n    const ps = path.split(\"/\");\n    console.log(path);\n    for (let i = 0; i < ps.length; ++i) {\n        console.log(c);\n        for (let j = 0; j < c.length; ++j) {\n            if (c[j].key == ps[i]) {\n                c = c[j].data;\n                break;\n            }\n        }\n    }\n    const arr = rfc4648_1.base64.parse(c);\n    const res = new ArrayBuffer(arr.length);\n    const resa = new Uint8Array(res);\n    for (let i = 0; i < arr.length; ++i) {\n        resa[i] = arr[i];\n    }\n    assetCache[path] = res;\n    return res;\n}\nexports.fetchAsset = fetchAsset;\nfunction fetchAssetAsync(path) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return fetchAsset(path);\n    });\n}\nexports.fetchAssetAsync = fetchAssetAsync;\nlet pngAssetCache = new Map();\nfunction fetchAssetAsPngUrl(path) {\n    if (pngAssetCache[path] != undefined) {\n        return pngAssetCache[path];\n    }\n    const buf = fetchAsset(path);\n    const arr = new Uint8Array(buf);\n    const blob = new Blob([arr], { type: \"image/png\" });\n    const res = URL.createObjectURL(blob);\n    pngAssetCache[path] = res;\n    return res;\n}\nexports.fetchAssetAsPngUrl = fetchAssetAsPngUrl;\n\n\n//# sourceURL=webpack:///./src/assets/assets.ts?");

/***/ }),

/***/ "./src/live2d/lappdefine.ts":
/*!**********************************!*\
  !*** ./src/live2d/lappdefine.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RenderTargetHeight = exports.RenderTargetWidth = exports.CubismLoggingLevel = exports.DebugTouchLogEnable = exports.DebugLogEnable = exports.MOCConsistencyValidationEnable = exports.PriorityForce = exports.PriorityNormal = exports.PriorityIdle = exports.PriorityNone = exports.HitAreaNameBody = exports.HitAreaNameHead = exports.MotionGroupTapBody = exports.MotionGroupIdle = exports.ModelDirSize = exports.ModelDir = exports.PowerImageName = exports.GearImageName = exports.BackImageName = exports.ResourcesPath = exports.ViewLogicalMaxTop = exports.ViewLogicalMaxBottom = exports.ViewLogicalMaxRight = exports.ViewLogicalMaxLeft = exports.ViewLogicalTop = exports.ViewLogicalBottom = exports.ViewLogicalRight = exports.ViewLogicalLeft = exports.ViewMinScale = exports.ViewMaxScale = exports.ViewScale = exports.CanvasSize = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../../cubism/Framework/src/live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\n/**\n * Sample App\n */\n// Canvas width and height pixel values, or dynamic screen size ('auto').\nexports.CanvasSize = 'auto';\n// \nexports.ViewScale = 1.0;\nexports.ViewMaxScale = 2.0;\nexports.ViewMinScale = 0.8;\nexports.ViewLogicalLeft = -1.0;\nexports.ViewLogicalRight = 1.0;\nexports.ViewLogicalBottom = -1.0;\nexports.ViewLogicalTop = 1.0;\nexports.ViewLogicalMaxLeft = -2.0;\nexports.ViewLogicalMaxRight = 2.0;\nexports.ViewLogicalMaxBottom = -2.0;\nexports.ViewLogicalMaxTop = 2.0;\n// \nexports.ResourcesPath = '';\n// \nexports.BackImageName = 'back_class_normal.png';\n// \nexports.GearImageName = 'icon_gear.png';\n// \nexports.PowerImageName = 'CloseNormal.png';\n// ---------------------------------------------\n// \n// model3.json\nexports.ModelDir = [\n    'hgkoazarasi',\n    'Haru',\n    'Hiyori',\n    'Mark',\n    'Natori',\n    'Rice',\n    'Mao'\n];\nexports.ModelDirSize = exports.ModelDir.length;\n// json\nexports.MotionGroupIdle = 'Idle'; // \nexports.MotionGroupTapBody = 'TapBody'; // \n// json\nexports.HitAreaNameHead = 'Head';\nexports.HitAreaNameBody = 'Body';\n// \nexports.PriorityNone = 0;\nexports.PriorityIdle = 1;\nexports.PriorityNormal = 2;\nexports.PriorityForce = 3;\n// MOC3\nexports.MOCConsistencyValidationEnable = true;\n// \nexports.DebugLogEnable = true;\nexports.DebugTouchLogEnable = false;\n// Framework\nexports.CubismLoggingLevel = live2dcubismframework_1.LogLevel.LogLevel_Verbose;\n// \nexports.RenderTargetWidth = 1900;\nexports.RenderTargetHeight = 1000;\n\n\n//# sourceURL=webpack:///./src/live2d/lappdefine.ts?");

/***/ }),

/***/ "./src/live2d/lappdelegate.ts":
/*!************************************!*\
  !*** ./src/live2d/lappdelegate.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.onTouchCancel = exports.onTouchEnded = exports.onTouchMoved = exports.onTouchBegan = exports.onClickEnded = exports.onMouseMoved = exports.onClickBegan = exports.LAppDelegate = exports.s_instance = void 0;\nconst live2dcubismframework_1 = __webpack_require__(/*! ../../cubism/Framework/src/live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst LAppDefine = __webpack_require__(/*! ./lappdefine */ \"./src/live2d/lappdefine.ts\");\nconst lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/live2d/lapplive2dmanager.ts\");\nconst lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/live2d/lapppal.ts\");\nconst lapptexturemanager_1 = __webpack_require__(/*! ./lapptexturemanager */ \"./src/live2d/lapptexturemanager.ts\");\nconst lappview_1 = __webpack_require__(/*! ./lappview */ \"./src/live2d/lappview.ts\");\nconst main_1 = __webpack_require__(/*! ../main */ \"./src/main.ts\");\n//export let canvas: HTMLCanvasElement = null;\nexports.s_instance = null;\n//export let gl: WebGLRenderingContext = null;\n//export let frameBuffer: WebGLFramebuffer = null;\n/**\n * \n * Cubism SDK\n */\nclass LAppDelegate {\n    /**\n     * \n     * \n     *\n     * @return \n     */\n    static getInstance() {\n        if (exports.s_instance == null) {\n            exports.s_instance = new LAppDelegate();\n        }\n        return exports.s_instance;\n    }\n    /**\n     * \n     */\n    static releaseInstance() {\n        if (exports.s_instance != null) {\n            exports.s_instance.release();\n        }\n        exports.s_instance = null;\n    }\n    initialize() {\n        // \n        //  canvas = document.createElement('canvas');\n        // if (LAppDefine.CanvasSize === 'auto') {\n        this._resizeCanvas();\n        // } else {\n        //   canvas.width = LAppDefine.CanvasSize.width;\n        //   canvas.height = LAppDefine.CanvasSize.height;\n        // }\n        // gl\n        // @ts-ignore\n        //gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n        /*\n        if (!gl) {\n          alert('Cannot initialize WebGL. This browser does not support.');\n          gl = null;\n    \n          document.body.innerHTML =\n            'This browser does not support the <code>&lt;canvas&gt;</code> element.';\n    \n          // gl\n          return false;\n        }\n        */\n        //  DOM \n        //document.body.appendChild(canvas);\n        /*\n            if (!frameBuffer) {\n              frameBuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n            }\n        \n            // \n            gl.enable(gl.BLEND);\n            gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n        \n            const supportTouch: boolean = 'ontouchend' in canvas;\n        \n            if (supportTouch) {\n              // \n              canvas.ontouchstart = onTouchBegan;\n              canvas.ontouchmove = onTouchMoved;\n              canvas.ontouchend = onTouchEnded;\n              canvas.ontouchcancel = onTouchCancel;\n            } else {\n              // \n              canvas.onmousedown = onClickBegan;\n              canvas.onmousemove = onMouseMoved;\n              canvas.onmouseup = onClickEnded;\n            }\n        */\n        // AppView\n        this._view.initialize();\n        // Cubism SDK\n        this.initializeCubism();\n        return true;\n    }\n    /**\n     * Resize canvas and re-initialize view.\n     */\n    onResize() {\n        this._resizeCanvas();\n        this._view.initialize();\n        //this._view.initializeSprite();\n        // \n        const viewport = [0, 0, main_1.canvas.width, main_1.canvas.height];\n        main_1.gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n    }\n    /**\n     * \n     */\n    release() {\n        this._textureManager.release();\n        this._textureManager = null;\n        this._view.release();\n        this._view = null;\n        // \n        lapplive2dmanager_1.LAppLive2DManager.releaseInstance();\n        // Cubism SDK\n        live2dcubismframework_1.CubismFramework.dispose();\n    }\n    /**\n     * \n     */\n    /* public run(): void {\n       // \n       const loop = (): void => {\n         // \n         if (s_instance == null) {\n           return;\n         }\n   \n         // \n         LAppPal.updateTime();\n   \n         // \n         gl.clearColor(0.0, 0.0, 0.0, 1.0);\n   \n         // \n         gl.enable(gl.DEPTH_TEST);\n   \n         // \n         gl.depthFunc(gl.LEQUAL);\n   \n         // \n         gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n   \n         gl.clearDepth(1.0);\n   \n         // \n         gl.enable(gl.BLEND);\n         gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n   \n         // \n         this._view.render();\n   \n         // \n         requestAnimationFrame(loop);\n       };\n       loop();\n     } */\n    render() {\n        // \n        lapppal_1.LAppPal.updateTime();\n        // \n        main_1.gl.enable(main_1.gl.BLEND);\n        main_1.gl.blendFunc(main_1.gl.SRC_ALPHA, main_1.gl.ONE_MINUS_SRC_ALPHA);\n        // \n        this._view.render();\n    }\n    /**\n     * \n     */\n    createShader() {\n        // \n        const vertexShaderId = main_1.gl.createShader(main_1.gl.VERTEX_SHADER);\n        if (vertexShaderId == null) {\n            lapppal_1.LAppPal.printMessage('failed to create vertexShader');\n            return null;\n        }\n        const vertexShader = 'precision mediump float;' +\n            'attribute vec3 position;' +\n            'attribute vec2 uv;' +\n            'varying vec2 vuv;' +\n            'void main(void)' +\n            '{' +\n            '   gl_Position = vec4(position, 1.0);' +\n            '   vuv = uv;' +\n            '}';\n        main_1.gl.shaderSource(vertexShaderId, vertexShader);\n        main_1.gl.compileShader(vertexShaderId);\n        // \n        const fragmentShaderId = main_1.gl.createShader(main_1.gl.FRAGMENT_SHADER);\n        if (fragmentShaderId == null) {\n            lapppal_1.LAppPal.printMessage('failed to create fragmentShader');\n            return null;\n        }\n        const fragmentShader = 'precision mediump float;' +\n            'varying vec2 vuv;' +\n            'uniform sampler2D texture;' +\n            'void main(void)' +\n            '{' +\n            '   gl_FragColor = texture2D(texture, vuv);' +\n            '}';\n        main_1.gl.shaderSource(fragmentShaderId, fragmentShader);\n        main_1.gl.compileShader(fragmentShaderId);\n        // \n        const programId = main_1.gl.createProgram();\n        main_1.gl.attachShader(programId, vertexShaderId);\n        main_1.gl.attachShader(programId, fragmentShaderId);\n        main_1.gl.deleteShader(vertexShaderId);\n        main_1.gl.deleteShader(fragmentShaderId);\n        // \n        main_1.gl.linkProgram(programId);\n        main_1.gl.useProgram(programId);\n        return programId;\n    }\n    /**\n     * View\n     */\n    getView() {\n        return this._view;\n    }\n    getTextureManager() {\n        return this._textureManager;\n    }\n    /**\n     * \n     */\n    constructor() {\n        this._captured = false;\n        this._mouseX = 0.0;\n        this._mouseY = 0.0;\n        this._isEnd = false;\n        this._cubismOption = new live2dcubismframework_1.Option();\n        this._view = new lappview_1.LAppView();\n        this._textureManager = new lapptexturemanager_1.LAppTextureManager();\n    }\n    /**\n     * Cubism SDK\n     */\n    initializeCubism() {\n        // setup cubism\n        this._cubismOption.logFunction = lapppal_1.LAppPal.printMessage;\n        this._cubismOption.loggingLevel = LAppDefine.CubismLoggingLevel;\n        live2dcubismframework_1.CubismFramework.startUp(this._cubismOption);\n        // initialize cubism\n        live2dcubismframework_1.CubismFramework.initialize();\n        // load model\n        lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        lapppal_1.LAppPal.updateTime();\n        //this._view.initializeSprite();\n    }\n    /**\n     * Resize the canvas to fill the screen.\n     */\n    _resizeCanvas() {\n        main_1.canvas.width = window.innerWidth;\n        main_1.canvas.height = window.innerHeight;\n    }\n}\nexports.LAppDelegate = LAppDelegate;\n/**\n * \n */\nfunction onClickBegan(e) {\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    LAppDelegate.getInstance()._captured = true;\n    const posX = e.pageX;\n    const posY = e.pageY;\n    LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\n}\nexports.onClickBegan = onClickBegan;\n/**\n * \n */\nfunction onMouseMoved(e) {\n    if (!LAppDelegate.getInstance()._captured) {\n        return;\n    }\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    const rect = e.target.getBoundingClientRect();\n    const posX = e.clientX - rect.left;\n    const posY = e.clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\n}\nexports.onMouseMoved = onMouseMoved;\n/**\n * \n */\nfunction onClickEnded(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    const rect = e.target.getBoundingClientRect();\n    const posX = e.clientX - rect.left;\n    const posY = e.clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\nexports.onClickEnded = onClickEnded;\n/**\n * \n */\nfunction onTouchBegan(e) {\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    LAppDelegate.getInstance()._captured = true;\n    const posX = e.changedTouches[0].pageX;\n    const posY = e.changedTouches[0].pageY;\n    LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\n}\nexports.onTouchBegan = onTouchBegan;\n/**\n * \n */\nfunction onTouchMoved(e) {\n    if (!LAppDelegate.getInstance()._captured) {\n        return;\n    }\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    const rect = e.target.getBoundingClientRect();\n    const posX = e.changedTouches[0].clientX - rect.left;\n    const posY = e.changedTouches[0].clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\n}\nexports.onTouchMoved = onTouchMoved;\n/**\n * \n */\nfunction onTouchEnded(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    const rect = e.target.getBoundingClientRect();\n    const posX = e.changedTouches[0].clientX - rect.left;\n    const posY = e.changedTouches[0].clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\nexports.onTouchEnded = onTouchEnded;\n/**\n * \n */\nfunction onTouchCancel(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    const rect = e.target.getBoundingClientRect();\n    const posX = e.changedTouches[0].clientX - rect.left;\n    const posY = e.changedTouches[0].clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\nexports.onTouchCancel = onTouchCancel;\n\n\n//# sourceURL=webpack:///./src/live2d/lappdelegate.ts?");

/***/ }),

/***/ "./src/live2d/lapplive2dmanager.ts":
/*!*****************************************!*\
  !*** ./src/live2d/lapplive2dmanager.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppLive2DManager = exports.s_instance = void 0;\nconst cubismmatrix44_1 = __webpack_require__(/*! ../../cubism/Framework/src/math/cubismmatrix44 */ \"./cubism/Framework/src/math/cubismmatrix44.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../../cubism/Framework/src/type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst LAppDefine = __webpack_require__(/*! ./lappdefine */ \"./src/live2d/lappdefine.ts\");\nconst main_1 = __webpack_require__(/*! ../main */ \"./src/main.ts\");\nconst lappmodel_1 = __webpack_require__(/*! ./lappmodel */ \"./src/live2d/lappmodel.ts\");\nconst lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/live2d/lapppal.ts\");\nexports.s_instance = null;\n/**\n * CubismModel\n * \n */\nclass LAppLive2DManager {\n    /**\n     * \n     * \n     *\n     * @return \n     */\n    static getInstance() {\n        if (exports.s_instance == null) {\n            exports.s_instance = new LAppLive2DManager();\n        }\n        return exports.s_instance;\n    }\n    /**\n     * \n     */\n    static releaseInstance() {\n        if (exports.s_instance != null) {\n            exports.s_instance = void 0;\n        }\n        exports.s_instance = null;\n    }\n    /**\n     * \n     *\n     * @param no \n     * @return NULL\n     */\n    getModel(no) {\n        if (no < this._models.getSize()) {\n            return this._models.at(no);\n        }\n        return null;\n    }\n    /**\n     * \n     */\n    releaseAllModel() {\n        for (let i = 0; i < this._models.getSize(); i++) {\n            this._models.at(i).release();\n            this._models.set(i, null);\n        }\n        this._models.clear();\n    }\n    /**\n     * \n     *\n     * @param x X\n     * @param y Y\n     */\n    onDrag(x, y) {\n        for (let i = 0; i < this._models.getSize(); i++) {\n            const model = this.getModel(i);\n            if (model) {\n                model.setDragging(x, y);\n            }\n        }\n    }\n    /**\n     * \n     *\n     * @param x X\n     * @param y Y\n     */\n    onTap(x, y) {\n        if (LAppDefine.DebugLogEnable) {\n            lapppal_1.LAppPal.printMessage(`[APP]tap point: {x: ${x.toFixed(2)} y: ${y.toFixed(2)}}`);\n        }\n        for (let i = 0; i < this._models.getSize(); i++) {\n            if (this._models.at(i).hitTest(LAppDefine.HitAreaNameHead, x, y)) {\n                if (LAppDefine.DebugLogEnable) {\n                    lapppal_1.LAppPal.printMessage(`[APP]hit area: [${LAppDefine.HitAreaNameHead}]`);\n                }\n                this._models.at(i).setRandomExpression();\n            }\n            else if (this._models.at(i).hitTest(LAppDefine.HitAreaNameBody, x, y)) {\n                if (LAppDefine.DebugLogEnable) {\n                    lapppal_1.LAppPal.printMessage(`[APP]hit area: [${LAppDefine.HitAreaNameBody}]`);\n                }\n                this._models\n                    .at(i)\n                    .startRandomMotion(LAppDefine.MotionGroupTapBody, LAppDefine.PriorityNormal, this._finishedMotion);\n            }\n        }\n    }\n    /**\n     * \n     * \n     */\n    onUpdate() {\n        const { width, height } = main_1.canvas;\n        const modelCount = this._models.getSize();\n        for (let i = 0; i < modelCount; ++i) {\n            const projection = new cubismmatrix44_1.CubismMatrix44();\n            const model = this.getModel(i);\n            if (model.getModel()) {\n                if (model.getModel().getCanvasWidth() > 1.0 && width < height) {\n                    // scale\n                    model.getModelMatrix().setWidth(2.0);\n                    projection.scale(1.0, width / height);\n                }\n                else {\n                    projection.scale(height / width, 1.0);\n                }\n                // \n                if (this._viewMatrix != null) {\n                    projection.multiplyByMatrix(this._viewMatrix);\n                }\n            }\n            model.update();\n            model.draw(projection); // projection\n        }\n    }\n    /**\n     * \n     * \n     */\n    nextScene() {\n        const no = (this._sceneIndex + 1) % LAppDefine.ModelDirSize;\n        this.changeScene(no);\n    }\n    /**\n     * \n     * \n     */\n    changeScene(index) {\n        this._sceneIndex = index;\n        if (LAppDefine.DebugLogEnable) {\n            lapppal_1.LAppPal.printMessage(`[APP]model index: ${this._sceneIndex}`);\n        }\n        // ModelDir[]\n        // model3.json\n        // model3.json\n        const model = LAppDefine.ModelDir[index];\n        const modelPath = LAppDefine.ResourcesPath + model + '/';\n        let modelJsonName = LAppDefine.ModelDir[index];\n        modelJsonName += '.model3.json';\n        this.releaseAllModel();\n        this._models.pushBack(new lappmodel_1.LAppModel());\n        this._models.at(0).loadAssets(modelPath, modelJsonName);\n    }\n    setViewMatrix(m) {\n        for (let i = 0; i < 16; i++) {\n            this._viewMatrix.getArray()[i] = m.getArray()[i];\n        }\n    }\n    /**\n     * \n     */\n    constructor() {\n        // \n        this._finishedMotion = (self) => {\n            lapppal_1.LAppPal.printMessage('Motion Finished:');\n            console.log(self);\n        };\n        this._viewMatrix = new cubismmatrix44_1.CubismMatrix44();\n        this._models = new csmvector_1.csmVector();\n        this._sceneIndex = 0;\n        this.changeScene(this._sceneIndex);\n    }\n}\nexports.LAppLive2DManager = LAppLive2DManager;\n\n\n//# sourceURL=webpack:///./src/live2d/lapplive2dmanager.ts?");

/***/ }),

/***/ "./src/live2d/lappmodel.ts":
/*!*********************************!*\
  !*** ./src/live2d/lappmodel.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppModel = void 0;\n__webpack_require__(/*! whatwg-fetch */ \"./node_modules/whatwg-fetch/fetch.js\");\nconst cubismdefaultparameterid_1 = __webpack_require__(/*! ../../cubism/Framework/src/cubismdefaultparameterid */ \"./cubism/Framework/src/cubismdefaultparameterid.ts\");\nconst cubismmodelsettingjson_1 = __webpack_require__(/*! ../../cubism/Framework/src/cubismmodelsettingjson */ \"./cubism/Framework/src/cubismmodelsettingjson.ts\");\nconst cubismbreath_1 = __webpack_require__(/*! ../../cubism/Framework/src/effect/cubismbreath */ \"./cubism/Framework/src/effect/cubismbreath.ts\");\nconst cubismeyeblink_1 = __webpack_require__(/*! ../../cubism/Framework/src/effect/cubismeyeblink */ \"./cubism/Framework/src/effect/cubismeyeblink.ts\");\nconst live2dcubismframework_1 = __webpack_require__(/*! ../../cubism/Framework/src/live2dcubismframework */ \"./cubism/Framework/src/live2dcubismframework.ts\");\nconst cubismusermodel_1 = __webpack_require__(/*! ../../cubism/Framework/src/model/cubismusermodel */ \"./cubism/Framework/src/model/cubismusermodel.ts\");\nconst acubismmotion_1 = __webpack_require__(/*! ../../cubism/Framework/src/motion/acubismmotion */ \"./cubism/Framework/src/motion/acubismmotion.ts\");\nconst cubismmotionqueuemanager_1 = __webpack_require__(/*! ../../cubism/Framework/src/motion/cubismmotionqueuemanager */ \"./cubism/Framework/src/motion/cubismmotionqueuemanager.ts\");\nconst csmmap_1 = __webpack_require__(/*! ../../cubism/Framework/src/type/csmmap */ \"./cubism/Framework/src/type/csmmap.ts\");\nconst csmvector_1 = __webpack_require__(/*! ../../cubism/Framework/src/type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst cubismdebug_1 = __webpack_require__(/*! ../../cubism/Framework/src/utils/cubismdebug */ \"./cubism/Framework/src/utils/cubismdebug.ts\");\nconst LAppDefine = __webpack_require__(/*! ./lappdefine */ \"./src/live2d/lappdefine.ts\");\nconst lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nconst main_1 = __webpack_require__(/*! ../main */ \"./src/main.ts\");\nconst lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/live2d/lapppal.ts\");\nconst lappwavfilehandler_1 = __webpack_require__(/*! ./lappwavfilehandler */ \"./src/live2d/lappwavfilehandler.ts\");\nconst cubismmoc_1 = __webpack_require__(/*! ../../cubism/Framework/src/model/cubismmoc */ \"./cubism/Framework/src/model/cubismmoc.ts\");\nconst assets_1 = __webpack_require__(/*! ../assets/assets */ \"./src/assets/assets.ts\");\nvar LoadStep;\n(function (LoadStep) {\n    LoadStep[LoadStep[\"LoadAssets\"] = 0] = \"LoadAssets\";\n    LoadStep[LoadStep[\"LoadModel\"] = 1] = \"LoadModel\";\n    LoadStep[LoadStep[\"WaitLoadModel\"] = 2] = \"WaitLoadModel\";\n    LoadStep[LoadStep[\"LoadExpression\"] = 3] = \"LoadExpression\";\n    LoadStep[LoadStep[\"WaitLoadExpression\"] = 4] = \"WaitLoadExpression\";\n    LoadStep[LoadStep[\"LoadPhysics\"] = 5] = \"LoadPhysics\";\n    LoadStep[LoadStep[\"WaitLoadPhysics\"] = 6] = \"WaitLoadPhysics\";\n    LoadStep[LoadStep[\"LoadPose\"] = 7] = \"LoadPose\";\n    LoadStep[LoadStep[\"WaitLoadPose\"] = 8] = \"WaitLoadPose\";\n    LoadStep[LoadStep[\"SetupEyeBlink\"] = 9] = \"SetupEyeBlink\";\n    LoadStep[LoadStep[\"SetupBreath\"] = 10] = \"SetupBreath\";\n    LoadStep[LoadStep[\"LoadUserData\"] = 11] = \"LoadUserData\";\n    LoadStep[LoadStep[\"WaitLoadUserData\"] = 12] = \"WaitLoadUserData\";\n    LoadStep[LoadStep[\"SetupEyeBlinkIds\"] = 13] = \"SetupEyeBlinkIds\";\n    LoadStep[LoadStep[\"SetupLipSyncIds\"] = 14] = \"SetupLipSyncIds\";\n    LoadStep[LoadStep[\"SetupLayout\"] = 15] = \"SetupLayout\";\n    LoadStep[LoadStep[\"LoadMotion\"] = 16] = \"LoadMotion\";\n    LoadStep[LoadStep[\"WaitLoadMotion\"] = 17] = \"WaitLoadMotion\";\n    LoadStep[LoadStep[\"CompleteInitialize\"] = 18] = \"CompleteInitialize\";\n    LoadStep[LoadStep[\"CompleteSetupModel\"] = 19] = \"CompleteSetupModel\";\n    LoadStep[LoadStep[\"LoadTexture\"] = 20] = \"LoadTexture\";\n    LoadStep[LoadStep[\"WaitLoadTexture\"] = 21] = \"WaitLoadTexture\";\n    LoadStep[LoadStep[\"CompleteSetup\"] = 22] = \"CompleteSetup\";\n})(LoadStep || (LoadStep = {}));\n/**\n * <br>\n * \n */\nclass LAppModel extends cubismusermodel_1.CubismUserModel {\n    /**\n     * model3.json\n     * @param dir\n     * @param fileName\n     */\n    loadAssets(dir, fileName) {\n        this._modelHomeDir = dir;\n        //fetch(`${this._modelHomeDir}${fileName}`)\n        (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${fileName}`)\n            //.then(response => response.arrayBuffer())\n            .then(arrayBuffer => {\n            const setting = new cubismmodelsettingjson_1.CubismModelSettingJson(arrayBuffer, arrayBuffer.byteLength);\n            // \n            this._state = LoadStep.LoadModel;\n            // \n            this.setupModel(setting);\n        });\n    }\n    /**\n     * model3.json\n     * model3.json\n     *\n     * @param setting ICubismModelSetting\n     */\n    setupModel(setting) {\n        this._updating = true;\n        this._initialized = false;\n        this._modelSetting = setting;\n        // CubismModel\n        if (this._modelSetting.getModelFileName() != '') {\n            const modelFileName = this._modelSetting.getModelFileName();\n            // fetch(`${this._modelHomeDir}${modelFileName}`)\n            (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${modelFileName}`)\n                // .then(response => response.arrayBuffer())\n                .then(arrayBuffer => {\n                this.loadModel(arrayBuffer, this._mocConsistency);\n                this._state = LoadStep.LoadExpression;\n                // callback\n                loadCubismExpression();\n            });\n            this._state = LoadStep.WaitLoadModel;\n        }\n        else {\n            lapppal_1.LAppPal.printMessage('Model data does not exist.');\n        }\n        // Expression\n        const loadCubismExpression = () => {\n            if (this._modelSetting.getExpressionCount() > 0) {\n                const count = this._modelSetting.getExpressionCount();\n                for (let i = 0; i < count; i++) {\n                    const expressionName = this._modelSetting.getExpressionName(i);\n                    const expressionFileName = this._modelSetting.getExpressionFileName(i);\n                    //fetch(`${this._modelHomeDir}${expressionFileName}`)\n                    (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${expressionFileName}`)\n                        //  .then(response => response.arrayBuffer())\n                        .then(arrayBuffer => {\n                        const motion = this.loadExpression(arrayBuffer, arrayBuffer.byteLength, expressionName);\n                        if (this._expressions.getValue(expressionName) != null) {\n                            acubismmotion_1.ACubismMotion.delete(this._expressions.getValue(expressionName));\n                            this._expressions.setValue(expressionName, null);\n                        }\n                        this._expressions.setValue(expressionName, motion);\n                        this._expressionCount++;\n                        if (this._expressionCount >= count) {\n                            this._state = LoadStep.LoadPhysics;\n                            // callback\n                            loadCubismPhysics();\n                        }\n                    });\n                }\n                this._state = LoadStep.WaitLoadExpression;\n            }\n            else {\n                this._state = LoadStep.LoadPhysics;\n                // callback\n                loadCubismPhysics();\n            }\n        };\n        // Physics\n        const loadCubismPhysics = () => {\n            if (this._modelSetting.getPhysicsFileName() != '') {\n                const physicsFileName = this._modelSetting.getPhysicsFileName();\n                //fetch(`${this._modelHomeDir}${physicsFileName}`)\n                (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${physicsFileName}`)\n                    //  .then(response => response.arrayBuffer())\n                    .then(arrayBuffer => {\n                    this.loadPhysics(arrayBuffer, arrayBuffer.byteLength);\n                    this._state = LoadStep.LoadPose;\n                    // callback\n                    loadCubismPose();\n                });\n                this._state = LoadStep.WaitLoadPhysics;\n            }\n            else {\n                this._state = LoadStep.LoadPose;\n                // callback\n                loadCubismPose();\n            }\n        };\n        // Pose\n        const loadCubismPose = () => {\n            if (this._modelSetting.getPoseFileName() != '') {\n                const poseFileName = this._modelSetting.getPoseFileName();\n                //fetch(`${this._modelHomeDir}${poseFileName}`)\n                (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${poseFileName}`)\n                    //  .then(response => response.arrayBuffer())\n                    .then(arrayBuffer => {\n                    this.loadPose(arrayBuffer, arrayBuffer.byteLength);\n                    this._state = LoadStep.SetupEyeBlink;\n                    // callback\n                    setupEyeBlink();\n                });\n                this._state = LoadStep.WaitLoadPose;\n            }\n            else {\n                this._state = LoadStep.SetupEyeBlink;\n                // callback\n                setupEyeBlink();\n            }\n        };\n        // EyeBlink\n        const setupEyeBlink = () => {\n            if (this._modelSetting.getEyeBlinkParameterCount() > 0) {\n                this._eyeBlink = cubismeyeblink_1.CubismEyeBlink.create(this._modelSetting);\n                this._state = LoadStep.SetupBreath;\n            }\n            // callback\n            setupBreath();\n        };\n        // Breath\n        const setupBreath = () => {\n            this._breath = cubismbreath_1.CubismBreath.create();\n            const breathParameters = new csmvector_1.csmVector();\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(this._idParamAngleX, 0.0, 15.0, 6.5345, 0.5));\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(this._idParamAngleY, 0.0, 8.0, 3.5345, 0.5));\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(this._idParamAngleZ, 0.0, 10.0, 5.5345, 0.5));\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(this._idParamBodyAngleX, 0.0, 4.0, 15.5345, 0.5));\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamBreath), 0.5, 0.5, 3.2345, 1));\n            this._breath.setParameters(breathParameters);\n            this._state = LoadStep.LoadUserData;\n            // callback\n            loadUserData();\n        };\n        // UserData\n        const loadUserData = () => {\n            if (this._modelSetting.getUserDataFile() != '') {\n                const userDataFile = this._modelSetting.getUserDataFile();\n                //fetch(`${this._modelHomeDir}${userDataFile}`)\n                (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${userDataFile}`)\n                    //  .then(response => response.arrayBuffer())\n                    .then(arrayBuffer => {\n                    this.loadUserData(arrayBuffer, arrayBuffer.byteLength);\n                    this._state = LoadStep.SetupEyeBlinkIds;\n                    // callback\n                    setupEyeBlinkIds();\n                });\n                this._state = LoadStep.WaitLoadUserData;\n            }\n            else {\n                this._state = LoadStep.SetupEyeBlinkIds;\n                // callback\n                setupEyeBlinkIds();\n            }\n        };\n        // EyeBlinkIds\n        const setupEyeBlinkIds = () => {\n            const eyeBlinkIdCount = this._modelSetting.getEyeBlinkParameterCount();\n            for (let i = 0; i < eyeBlinkIdCount; ++i) {\n                this._eyeBlinkIds.pushBack(this._modelSetting.getEyeBlinkParameterId(i));\n            }\n            this._state = LoadStep.SetupLipSyncIds;\n            // callback\n            setupLipSyncIds();\n        };\n        // LipSyncIds\n        const setupLipSyncIds = () => {\n            const lipSyncIdCount = this._modelSetting.getLipSyncParameterCount();\n            for (let i = 0; i < lipSyncIdCount; ++i) {\n                this._lipSyncIds.pushBack(this._modelSetting.getLipSyncParameterId(i));\n            }\n            this._state = LoadStep.SetupLayout;\n            // callback\n            setupLayout();\n        };\n        // Layout\n        const setupLayout = () => {\n            const layout = new csmmap_1.csmMap();\n            if (this._modelSetting == null || this._modelMatrix == null) {\n                (0, cubismdebug_1.CubismLogError)('Failed to setupLayout().');\n                return;\n            }\n            this._modelSetting.getLayoutMap(layout);\n            this._modelMatrix.setupFromLayout(layout);\n            this._state = LoadStep.LoadMotion;\n            // callback\n            loadCubismMotion();\n        };\n        // Motion\n        const loadCubismMotion = () => {\n            this._state = LoadStep.WaitLoadMotion;\n            this._model.saveParameters();\n            this._allMotionCount = 0;\n            this._motionCount = 0;\n            const group = [];\n            const motionGroupCount = this._modelSetting.getMotionGroupCount();\n            // \n            for (let i = 0; i < motionGroupCount; i++) {\n                group[i] = this._modelSetting.getMotionGroupName(i);\n                this._allMotionCount += this._modelSetting.getMotionCount(group[i]);\n            }\n            // \n            for (let i = 0; i < motionGroupCount; i++) {\n                this.preLoadMotionGroup(group[i]);\n            }\n            // \n            if (motionGroupCount == 0) {\n                this._state = LoadStep.LoadTexture;\n                // \n                this._motionManager.stopAllMotions();\n                this._updating = false;\n                this._initialized = true;\n                this.createRenderer();\n                this.setupTextures();\n                this.getRenderer().startUp(main_1.gl);\n            }\n        };\n    }\n    /**\n     * \n     */\n    setupTextures() {\n        // iPhoneTypescriptpremultipliedAlpha\n        const usePremultiply = true;\n        if (this._state == LoadStep.LoadTexture) {\n            // \n            const textureCount = this._modelSetting.getTextureCount();\n            for (let modelTextureNumber = 0; modelTextureNumber < textureCount; modelTextureNumber++) {\n                // \n                if (this._modelSetting.getTextureFileName(modelTextureNumber) == '') {\n                    console.log('getTextureFileName null');\n                    continue;\n                }\n                // WebGL\n                let texturePath = this._modelSetting.getTextureFileName(modelTextureNumber);\n                texturePath = this._modelHomeDir + texturePath;\n                // \n                const onLoad = (textureInfo) => {\n                    this.getRenderer().bindTexture(modelTextureNumber, textureInfo.id);\n                    this._textureCount++;\n                    if (this._textureCount >= textureCount) {\n                        // \n                        this._state = LoadStep.CompleteSetup;\n                    }\n                };\n                // \n                lappdelegate_1.LAppDelegate.getInstance()\n                    .getTextureManager()\n                    .createTextureFromAsset(texturePath, usePremultiply, onLoad);\n                this.getRenderer().setIsPremultipliedAlpha(usePremultiply);\n            }\n            this._state = LoadStep.WaitLoadTexture;\n        }\n    }\n    /**\n     * \n     */\n    reloadRenderer() {\n        this.deleteRenderer();\n        this.createRenderer();\n        this.setupTextures();\n    }\n    /**\n     * \n     */\n    update() {\n        if (this._state != LoadStep.CompleteSetup)\n            return;\n        const deltaTimeSeconds = lapppal_1.LAppPal.getDeltaTime();\n        this._userTimeSeconds += deltaTimeSeconds;\n        this._dragManager.update(deltaTimeSeconds);\n        this._dragX = this._dragManager.getX();\n        this._dragY = this._dragManager.getY();\n        // \n        let motionUpdated = false;\n        //--------------------------------------------------------------------------\n        this._model.loadParameters(); // \n        if (this._motionManager.isFinished()) {\n            // \n            this.startRandomMotion(LAppDefine.MotionGroupIdle, LAppDefine.PriorityIdle);\n        }\n        else {\n            motionUpdated = this._motionManager.updateMotion(this._model, deltaTimeSeconds); // \n        }\n        this._model.saveParameters(); // \n        //--------------------------------------------------------------------------\n        // \n        if (!motionUpdated) {\n            if (this._eyeBlink != null) {\n                // \n                this._eyeBlink.updateParameters(this._model, deltaTimeSeconds); // \n            }\n        }\n        if (this._expressionManager != null) {\n            this._expressionManager.updateMotion(this._model, deltaTimeSeconds); // \n        }\n        // \n        // \n        this._model.addParameterValueById(this._idParamAngleX, this._dragX * 30); // -3030\n        this._model.addParameterValueById(this._idParamAngleY, this._dragY * 30);\n        this._model.addParameterValueById(this._idParamAngleZ, this._dragX * this._dragY * -30);\n        // \n        this._model.addParameterValueById(this._idParamBodyAngleX, this._dragX * 10); // -1010\n        // \n        this._model.addParameterValueById(this._idParamEyeBallX, this._dragX); // -11\n        this._model.addParameterValueById(this._idParamEyeBallY, this._dragY);\n        // \n        if (this._breath != null) {\n            this._breath.updateParameters(this._model, deltaTimeSeconds);\n        }\n        // \n        if (this._physics != null) {\n            this._physics.evaluate(this._model, deltaTimeSeconds);\n        }\n        // \n        if (this._lipsync) {\n            let value = 0.0; // 0~1\n            this._wavFileHandler.update(deltaTimeSeconds);\n            value = this._wavFileHandler.getRms();\n            for (let i = 0; i < this._lipSyncIds.getSize(); ++i) {\n                this._model.addParameterValueById(this._lipSyncIds.at(i), value, 0.8);\n            }\n        }\n        // \n        if (this._pose != null) {\n            this._pose.updateParameters(this._model, deltaTimeSeconds);\n        }\n        this._model.update();\n    }\n    /**\n     * \n     * @param group \n     * @param no \n     * @param priority \n     * @param onFinishedMotionHandler \n     * @return isFinished()[-1]\n     */\n    startMotion(group, no, priority, onFinishedMotionHandler) {\n        if (priority == LAppDefine.PriorityForce) {\n            this._motionManager.setReservePriority(priority);\n        }\n        else if (!this._motionManager.reserveMotion(priority)) {\n            if (this._debugMode) {\n                lapppal_1.LAppPal.printMessage(\"[APP]can't start motion.\");\n            }\n            return cubismmotionqueuemanager_1.InvalidMotionQueueEntryHandleValue;\n        }\n        const motionFileName = this._modelSetting.getMotionFileName(group, no);\n        // ex) idle_0\n        const name = `${group}_${no}`;\n        let motion = this._motions.getValue(name);\n        let autoDelete = false;\n        if (motion == null) {\n            //fetch(`${this._modelHomeDir}${motionFileName}`)\n            (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${motionFileName}`)\n                //  .then(response => response.arrayBuffer())\n                .then(arrayBuffer => {\n                motion = this.loadMotion(arrayBuffer, arrayBuffer.byteLength, null, onFinishedMotionHandler);\n                let fadeTime = this._modelSetting.getMotionFadeInTimeValue(group, no);\n                if (fadeTime >= 0.0) {\n                    motion.setFadeInTime(fadeTime);\n                }\n                fadeTime = this._modelSetting.getMotionFadeOutTimeValue(group, no);\n                if (fadeTime >= 0.0) {\n                    motion.setFadeOutTime(fadeTime);\n                }\n                motion.setEffectIds(this._eyeBlinkIds, this._lipSyncIds);\n                autoDelete = true; // \n            });\n        }\n        else {\n            motion.setFinishedMotionHandler(onFinishedMotionHandler);\n        }\n        //voice\n        const voice = this._modelSetting.getMotionSoundFileName(group, no);\n        if (voice.localeCompare('') != 0) {\n            let path = voice;\n            path = this._modelHomeDir + path;\n            this._wavFileHandler.start(path);\n        }\n        if (this._debugMode) {\n            lapppal_1.LAppPal.printMessage(`[APP]start motion: [${group}_${no}`);\n        }\n        return this._motionManager.startMotionPriority(motion, autoDelete, priority);\n    }\n    /**\n     * \n     * @param group \n     * @param priority \n     * @param onFinishedMotionHandler \n     * @return isFinished()[-1]\n     */\n    startRandomMotion(group, priority, onFinishedMotionHandler) {\n        if (this._modelSetting.getMotionCount(group) == 0) {\n            return cubismmotionqueuemanager_1.InvalidMotionQueueEntryHandleValue;\n        }\n        const no = Math.floor(Math.random() * this._modelSetting.getMotionCount(group));\n        return this.startMotion(group, no, priority, onFinishedMotionHandler);\n    }\n    /**\n     * \n     *\n     * @param expressionId ID\n     */\n    setExpression(expressionId) {\n        const motion = this._expressions.getValue(expressionId);\n        if (this._debugMode) {\n            lapppal_1.LAppPal.printMessage(`[APP]expression: [${expressionId}]`);\n        }\n        if (motion != null) {\n            this._expressionManager.startMotionPriority(motion, false, LAppDefine.PriorityForce);\n        }\n        else {\n            if (this._debugMode) {\n                lapppal_1.LAppPal.printMessage(`[APP]expression[${expressionId}] is null`);\n            }\n        }\n    }\n    /**\n     * \n     */\n    setRandomExpression() {\n        if (this._expressions.getSize() == 0) {\n            return;\n        }\n        const no = Math.floor(Math.random() * this._expressions.getSize());\n        for (let i = 0; i < this._expressions.getSize(); i++) {\n            if (i == no) {\n                const name = this._expressions._keyValues[i].first;\n                this.setExpression(name);\n                return;\n            }\n        }\n    }\n    /**\n     * \n     */\n    motionEventFired(eventValue) {\n        (0, cubismdebug_1.CubismLogInfo)('{0} is fired on LAppModel!!', eventValue.s);\n    }\n    /**\n     * \n     * \n     *\n     * @param hitArenaName  ID\n     * @param x             X\n     * @param y             Y\n     */\n    hitTest(hitArenaName, x, y) {\n        // \n        if (this._opacity < 1) {\n            return false;\n        }\n        const count = this._modelSetting.getHitAreasCount();\n        for (let i = 0; i < count; i++) {\n            if (this._modelSetting.getHitAreaName(i) == hitArenaName) {\n                const drawId = this._modelSetting.getHitAreaId(i);\n                return this.isHit(drawId, x, y);\n            }\n        }\n        return false;\n    }\n    /**\n     * \n     * ModelSetting\n     *\n     * @param group \n     */\n    preLoadMotionGroup(group) {\n        for (let i = 0; i < this._modelSetting.getMotionCount(group); i++) {\n            const motionFileName = this._modelSetting.getMotionFileName(group, i);\n            // ex) idle_0\n            const name = `${group}_${i}`;\n            if (this._debugMode) {\n                lapppal_1.LAppPal.printMessage(`[APP]load motion: ${motionFileName} => [${name}]`);\n            }\n            //fetch(`${this._modelHomeDir}${motionFileName}`)\n            (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${motionFileName}`)\n                //  .then(response => response.arrayBuffer())\n                .then(arrayBuffer => {\n                const tmpMotion = this.loadMotion(arrayBuffer, arrayBuffer.byteLength, name);\n                let fadeTime = this._modelSetting.getMotionFadeInTimeValue(group, i);\n                if (fadeTime >= 0.0) {\n                    tmpMotion.setFadeInTime(fadeTime);\n                }\n                fadeTime = this._modelSetting.getMotionFadeOutTimeValue(group, i);\n                if (fadeTime >= 0.0) {\n                    tmpMotion.setFadeOutTime(fadeTime);\n                }\n                tmpMotion.setEffectIds(this._eyeBlinkIds, this._lipSyncIds);\n                if (this._motions.getValue(name) != null) {\n                    acubismmotion_1.ACubismMotion.delete(this._motions.getValue(name));\n                }\n                this._motions.setValue(name, tmpMotion);\n                this._motionCount++;\n                if (this._motionCount >= this._allMotionCount) {\n                    this._state = LoadStep.LoadTexture;\n                    // \n                    this._motionManager.stopAllMotions();\n                    this._updating = false;\n                    this._initialized = true;\n                    this.createRenderer();\n                    this.setupTextures();\n                    this.getRenderer().startUp(main_1.gl);\n                }\n            });\n        }\n    }\n    /**\n     * \n     */\n    releaseMotions() {\n        this._motions.clear();\n    }\n    /**\n     * \n     */\n    releaseExpressions() {\n        this._expressions.clear();\n    }\n    /**\n     * View-Projection\n     */\n    doDraw() {\n        if (this._model == null)\n            return;\n        // \n        const viewport = [0, 0, main_1.canvas.width, main_1.canvas.height];\n        this.getRenderer().setRenderState(main_1.frameBuffer, viewport);\n        this.getRenderer().drawModel();\n    }\n    /**\n     * View-Projection\n     */\n    draw(matrix) {\n        if (this._model == null) {\n            return;\n        }\n        // \n        if (this._state == LoadStep.CompleteSetup) {\n            matrix.multiplyByMatrix(this._modelMatrix);\n            this.getRenderer().setMvpMatrix(matrix);\n            this.doDraw();\n        }\n    }\n    hasMocConsistencyFromFile() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, cubismdebug_1.CSM_ASSERT)(this._modelSetting.getModelFileName().localeCompare(``));\n            // CubismModel\n            if (this._modelSetting.getModelFileName() != '') {\n                const modelFileName = this._modelSetting.getModelFileName();\n                //const response = await fetch(`${this._modelHomeDir}${modelFileName}`);\n                //const arrayBuffer = await response.arrayBuffer();\n                const arrayBuffer = yield (0, assets_1.fetchAssetAsync)(`${this._modelHomeDir}${modelFileName}`);\n                this._consistency = cubismmoc_1.CubismMoc.hasMocConsistency(arrayBuffer);\n                if (!this._consistency) {\n                    (0, cubismdebug_1.CubismLogInfo)('Inconsistent MOC3.');\n                }\n                else {\n                    (0, cubismdebug_1.CubismLogInfo)('Consistent MOC3.');\n                }\n                return this._consistency;\n            }\n            else {\n                lapppal_1.LAppPal.printMessage('Model data does not exist.');\n            }\n        });\n    }\n    /**\n     * \n     */\n    constructor() {\n        super();\n        this._modelSetting = null;\n        this._modelHomeDir = null;\n        this._userTimeSeconds = 0.0;\n        this._eyeBlinkIds = new csmvector_1.csmVector();\n        this._lipSyncIds = new csmvector_1.csmVector();\n        this._motions = new csmmap_1.csmMap();\n        this._expressions = new csmmap_1.csmMap();\n        this._hitArea = new csmvector_1.csmVector();\n        this._userArea = new csmvector_1.csmVector();\n        this._idParamAngleX = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamAngleX);\n        this._idParamAngleY = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamAngleY);\n        this._idParamAngleZ = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamAngleZ);\n        this._idParamEyeBallX = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamEyeBallX);\n        this._idParamEyeBallY = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamEyeBallY);\n        this._idParamBodyAngleX = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamBodyAngleX);\n        if (LAppDefine.MOCConsistencyValidationEnable) {\n            this._mocConsistency = true;\n        }\n        this._state = LoadStep.LoadAssets;\n        this._expressionCount = 0;\n        this._textureCount = 0;\n        this._motionCount = 0;\n        this._allMotionCount = 0;\n        this._wavFileHandler = new lappwavfilehandler_1.LAppWavFileHandler();\n        this._consistency = false;\n    }\n}\nexports.LAppModel = LAppModel;\n\n\n//# sourceURL=webpack:///./src/live2d/lappmodel.ts?");

/***/ }),

/***/ "./src/live2d/lapppal.ts":
/*!*******************************!*\
  !*** ./src/live2d/lapppal.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppPal = void 0;\n/**\n *  Cubism Platform Abstraction Layer.\n *\n * \n */\nclass LAppPal {\n    /**\n     * \n     *\n     * @param filePath \n     * @return\n     * {\n     *      buffer,   \n     *      size        \n     * }\n     */\n    /*public static loadFileAsBytes(\n      filePath: string,\n      callback: (arrayBuffer: ArrayBuffer, size: number) => void\n    ): void {\n      fetch(filePath)\n        .then(response => response.arrayBuffer())\n        .then(arrayBuffer => callback(arrayBuffer, arrayBuffer.byteLength));\n    }*/\n    /**\n     * \n     * @return [ms]\n     */\n    static getDeltaTime() {\n        return this.s_deltaTime;\n    }\n    static updateTime() {\n        this.s_currentFrame = Date.now();\n        this.s_deltaTime = (this.s_currentFrame - this.s_lastFrame) / 1000;\n        this.s_lastFrame = this.s_currentFrame;\n    }\n    /**\n     * \n     * @param message \n     */\n    static printMessage(message) {\n        console.log(message);\n    }\n}\nexports.LAppPal = LAppPal;\nLAppPal.lastUpdate = Date.now();\nLAppPal.s_currentFrame = 0.0;\nLAppPal.s_lastFrame = 0.0;\nLAppPal.s_deltaTime = 0.0;\n\n\n//# sourceURL=webpack:///./src/live2d/lapppal.ts?");

/***/ }),

/***/ "./src/live2d/lapptexturemanager.ts":
/*!******************************************!*\
  !*** ./src/live2d/lapptexturemanager.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TextureInfo = exports.LAppTextureManager = void 0;\nconst csmvector_1 = __webpack_require__(/*! ../../cubism/Framework/src/type/csmvector */ \"./cubism/Framework/src/type/csmvector.ts\");\nconst assets_1 = __webpack_require__(/*! ../assets/assets */ \"./src/assets/assets.ts\");\nconst main_1 = __webpack_require__(/*! ../main */ \"./src/main.ts\");\n/**\n * \n * \n */\nclass LAppTextureManager {\n    /**\n     * \n     */\n    constructor() {\n        this._textures = new csmvector_1.csmVector();\n    }\n    /**\n     * \n     */\n    release() {\n        for (let ite = this._textures.begin(); ite.notEqual(this._textures.end()); ite.preIncrement()) {\n            main_1.gl.deleteTexture(ite.ptr().id);\n        }\n        this._textures = null;\n    }\n    /**\n     * \n     *\n     * @param fileName \n     * @param usePremultiply Premult\n     * @return null\n     */\n    /*\n    public createTextureFromPngFile(\n      fileName: string,\n      usePremultiply: boolean,\n      callback: (textureInfo: TextureInfo) => void\n    ): void {\n      // search loaded texture already\n      for (\n        let ite: iterator<TextureInfo> = this._textures.begin();\n        ite.notEqual(this._textures.end());\n        ite.preIncrement()\n      ) {\n        if (\n          ite.ptr().fileName == fileName &&\n          ite.ptr().usePremultply == usePremultiply\n        ) {\n          // 2()\n          // WebKitImageonload\n          // https://stackoverflow.com/a/5024181\n          ite.ptr().img = new Image();\n          ite.ptr().img.onload = (): void => callback(ite.ptr());\n          ite.ptr().img.src = fileName;\n          return;\n        }\n      }\n  \n      // \n      const img = new Image();\n      img.onload = (): void => {\n        // \n        const tex: WebGLTexture = gl.createTexture();\n  \n        // \n        gl.bindTexture(gl.TEXTURE_2D, tex);\n  \n        // \n        gl.texParameteri(\n          gl.TEXTURE_2D,\n          gl.TEXTURE_MIN_FILTER,\n          gl.LINEAR_MIPMAP_LINEAR\n        );\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n  \n        // Premult\n        if (usePremultiply) {\n          gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\n        }\n  \n        // \n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);\n  \n        // \n        gl.generateMipmap(gl.TEXTURE_2D);\n  \n        // \n        gl.bindTexture(gl.TEXTURE_2D, null);\n  \n        const textureInfo: TextureInfo = new TextureInfo();\n        if (textureInfo != null) {\n          textureInfo.fileName = fileName;\n          textureInfo.width = img.width;\n          textureInfo.height = img.height;\n          textureInfo.id = tex;\n          textureInfo.img = img;\n          textureInfo.usePremultply = usePremultiply;\n          this._textures.pushBack(textureInfo);\n        }\n  \n        callback(textureInfo);\n      };\n      img.src = fileName;\n    }*/\n    createTextureFromAsset(fileName, usePremultiply, callback) {\n        // search loaded texture already\n        for (let ite = this._textures.begin(); ite.notEqual(this._textures.end()); ite.preIncrement()) {\n            if (ite.ptr().fileName == fileName &&\n                ite.ptr().usePremultply == usePremultiply) {\n                // 2()\n                // WebKitImageonload\n                // https://stackoverflow.com/a/5024181\n                ite.ptr().img = new Image();\n                ite.ptr().img.onload = () => callback(ite.ptr());\n                ite.ptr().img.src = (0, assets_1.fetchAssetAsPngUrl)(fileName);\n                return;\n            }\n        }\n        // \n        const img = new Image();\n        img.onload = () => {\n            // \n            const tex = main_1.gl.createTexture();\n            // \n            main_1.gl.bindTexture(main_1.gl.TEXTURE_2D, tex);\n            // \n            main_1.gl.texParameteri(main_1.gl.TEXTURE_2D, main_1.gl.TEXTURE_MIN_FILTER, main_1.gl.LINEAR_MIPMAP_LINEAR);\n            main_1.gl.texParameteri(main_1.gl.TEXTURE_2D, main_1.gl.TEXTURE_MAG_FILTER, main_1.gl.LINEAR);\n            // Premult\n            if (usePremultiply) {\n                main_1.gl.pixelStorei(main_1.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\n            }\n            // \n            main_1.gl.texImage2D(main_1.gl.TEXTURE_2D, 0, main_1.gl.RGBA, main_1.gl.RGBA, main_1.gl.UNSIGNED_BYTE, img);\n            // \n            main_1.gl.generateMipmap(main_1.gl.TEXTURE_2D);\n            // \n            main_1.gl.bindTexture(main_1.gl.TEXTURE_2D, null);\n            const textureInfo = new TextureInfo();\n            if (textureInfo != null) {\n                textureInfo.fileName = fileName;\n                textureInfo.width = img.width;\n                textureInfo.height = img.height;\n                textureInfo.id = tex;\n                textureInfo.img = img;\n                textureInfo.usePremultply = usePremultiply;\n                this._textures.pushBack(textureInfo);\n            }\n            callback(textureInfo);\n        };\n        img.src = (0, assets_1.fetchAssetAsPngUrl)(fileName);\n    }\n    /**\n     * \n     *\n     * \n     */\n    releaseTextures() {\n        for (let i = 0; i < this._textures.getSize(); i++) {\n            this._textures.set(i, null);\n        }\n        this._textures.clear();\n    }\n    /**\n     * \n     *\n     * \n     * @param texture \n     */\n    releaseTextureByTexture(texture) {\n        for (let i = 0; i < this._textures.getSize(); i++) {\n            if (this._textures.at(i).id != texture) {\n                continue;\n            }\n            this._textures.set(i, null);\n            this._textures.remove(i);\n            break;\n        }\n    }\n    /**\n     * \n     *\n     * \n     * @param fileName \n     */\n    releaseTextureByFilePath(fileName) {\n        for (let i = 0; i < this._textures.getSize(); i++) {\n            if (this._textures.at(i).fileName == fileName) {\n                this._textures.set(i, null);\n                this._textures.remove(i);\n                break;\n            }\n        }\n    }\n}\nexports.LAppTextureManager = LAppTextureManager;\n/**\n * \n */\nclass TextureInfo {\n    constructor() {\n        this.id = null; // \n        this.width = 0; // \n        this.height = 0; // \n    }\n}\nexports.TextureInfo = TextureInfo;\n\n\n//# sourceURL=webpack:///./src/live2d/lapptexturemanager.ts?");

/***/ }),

/***/ "./src/live2d/lappview.ts":
/*!********************************!*\
  !*** ./src/live2d/lappview.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppView = void 0;\nconst cubismmatrix44_1 = __webpack_require__(/*! ../../cubism/Framework/src/math/cubismmatrix44 */ \"./cubism/Framework/src/math/cubismmatrix44.ts\");\nconst cubismviewmatrix_1 = __webpack_require__(/*! ../../cubism/Framework/src/math/cubismviewmatrix */ \"./cubism/Framework/src/math/cubismviewmatrix.ts\");\nconst LAppDefine = __webpack_require__(/*! ./lappdefine */ \"./src/live2d/lappdefine.ts\");\nconst main_1 = __webpack_require__(/*! ../main */ \"./src/main.ts\");\nconst lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/live2d/lapplive2dmanager.ts\");\nconst lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/live2d/lapppal.ts\");\nconst touchmanager_1 = __webpack_require__(/*! ./touchmanager */ \"./src/live2d/touchmanager.ts\");\n/**\n * \n */\nclass LAppView {\n    /**\n     * \n     */\n    constructor() {\n        this._programId = null;\n        this._back = null;\n        this._gear = null;\n        // \n        this._touchManager = new touchmanager_1.TouchManager();\n        // \n        this._deviceToScreen = new cubismmatrix44_1.CubismMatrix44();\n        // \n        this._viewMatrix = new cubismviewmatrix_1.CubismViewMatrix();\n    }\n    /**\n     * \n     */\n    initialize() {\n        const { width, height } = main_1.canvas;\n        const ratio = width / height;\n        const left = -ratio;\n        const right = ratio;\n        const bottom = LAppDefine.ViewLogicalLeft;\n        const top = LAppDefine.ViewLogicalRight;\n        this._viewMatrix.setScreenRect(left, right, bottom, top); //  XXYY\n        this._viewMatrix.scale(LAppDefine.ViewScale, LAppDefine.ViewScale);\n        this._deviceToScreen.loadIdentity();\n        if (width > height) {\n            const screenW = Math.abs(right - left);\n            this._deviceToScreen.scaleRelative(screenW / width, -screenW / width);\n        }\n        else {\n            const screenH = Math.abs(top - bottom);\n            this._deviceToScreen.scaleRelative(screenH / height, -screenH / height);\n        }\n        this._deviceToScreen.translateRelative(-width * 0.5, -height * 0.5);\n        // \n        this._viewMatrix.setMaxScale(LAppDefine.ViewMaxScale); // \n        this._viewMatrix.setMinScale(LAppDefine.ViewMinScale); // \n        // \n        this._viewMatrix.setMaxScreenRect(LAppDefine.ViewLogicalMaxLeft, LAppDefine.ViewLogicalMaxRight, LAppDefine.ViewLogicalMaxBottom, LAppDefine.ViewLogicalMaxTop);\n    }\n    /**\n     * \n     */\n    release() {\n        this._viewMatrix = null;\n        this._touchManager = null;\n        this._deviceToScreen = null;\n        this._gear.release();\n        this._gear = null;\n        this._back.release();\n        this._back = null;\n        main_1.gl.deleteProgram(this._programId);\n        this._programId = null;\n    }\n    /**\n     * \n     */\n    render() {\n        main_1.gl.useProgram(this._programId);\n        if (this._back) {\n            this._back.render(this._programId);\n        }\n        if (this._gear) {\n            this._gear.render(this._programId);\n        }\n        //  gl.flush();\n        const live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.setViewMatrix(this._viewMatrix);\n        live2DManager.onUpdate();\n    }\n    /**\n     * \n     */\n    /* public initializeSprite(): void {\n       const width: number = canvas.width;\n       const height: number = canvas.height;\n   \n       const textureManager = LAppDelegate.getInstance().getTextureManager();\n       const resourcesPath = LAppDefine.ResourcesPath;\n   \n       let imageName = '';\n   \n       // \n       imageName = LAppDefine.BackImageName;\n   \n       // \n       const initBackGroundTexture = (textureInfo: TextureInfo): void => {\n         const x: number = width * 0.5;\n         const y: number = height * 0.5;\n   \n         const fwidth = textureInfo.width * 2.0;\n         const fheight = height * 0.95;\n         this._back = new LAppSprite(x, y, fwidth, fheight, textureInfo.id);\n       };\n   \n       textureManager.createTextureFromPngFile(\n         resourcesPath + imageName,\n         false,\n         initBackGroundTexture\n       );\n   \n       // \n       imageName = LAppDefine.GearImageName;\n       const initGearTexture = (textureInfo: TextureInfo): void => {\n         const x = width - textureInfo.width * 0.5;\n         const y = height - textureInfo.height * 0.5;\n         const fwidth = textureInfo.width;\n         const fheight = textureInfo.height;\n         this._gear = new LAppSprite(x, y, fwidth, fheight, textureInfo.id);\n       };\n   \n       textureManager.createTextureFromPngFile(\n         resourcesPath + imageName,\n         false,\n         initGearTexture\n       );\n   \n       // \n       if (this._programId == null) {\n         this._programId = LAppDelegate.getInstance().createShader();\n       }\n     }*/\n    /**\n     * \n     *\n     * @param pointX X\n     * @param pointY Y\n     */\n    onTouchesBegan(pointX, pointY) {\n        this._touchManager.touchesBegan(pointX, pointY);\n    }\n    /**\n     * \n     *\n     * @param pointX X\n     * @param pointY Y\n     */\n    onTouchesMoved(pointX, pointY) {\n        const viewX = this.transformViewX(this._touchManager.getX());\n        const viewY = this.transformViewY(this._touchManager.getY());\n        this._touchManager.touchesMoved(pointX, pointY);\n        const live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.onDrag(viewX, viewY);\n    }\n    /**\n     * \n     *\n     * @param pointX X\n     * @param pointY Y\n     */\n    onTouchesEnded(pointX, pointY) {\n        // \n        const live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.onDrag(0.0, 0.0);\n        {\n            // \n            const x = this._deviceToScreen.transformX(this._touchManager.getX()); // \n            const y = this._deviceToScreen.transformY(this._touchManager.getY()); // \n            if (LAppDefine.DebugTouchLogEnable) {\n                lapppal_1.LAppPal.printMessage(`[APP]touchesEnded x: ${x} y: ${y}`);\n            }\n            live2DManager.onTap(x, y);\n            // \n            //if (this._gear.isHit(pointX, pointY)) {\n            //  live2DManager.nextScene();\n            //}\n        }\n    }\n    /**\n     * XView\n     *\n     * @param deviceX X\n     */\n    transformViewX(deviceX) {\n        const screenX = this._deviceToScreen.transformX(deviceX); // \n        return this._viewMatrix.invertTransformX(screenX); // \n    }\n    /**\n     * YView\n     *\n     * @param deviceY Y\n     */\n    transformViewY(deviceY) {\n        const screenY = this._deviceToScreen.transformY(deviceY); // \n        return this._viewMatrix.invertTransformY(screenY);\n    }\n    /**\n     * XScreen\n     * @param deviceX X\n     */\n    transformScreenX(deviceX) {\n        return this._deviceToScreen.transformX(deviceX);\n    }\n    /**\n     * YScreen\n     *\n     * @param deviceY Y\n     */\n    transformScreenY(deviceY) {\n        return this._deviceToScreen.transformY(deviceY);\n    }\n}\nexports.LAppView = LAppView;\n\n\n//# sourceURL=webpack:///./src/live2d/lappview.ts?");

/***/ }),

/***/ "./src/live2d/lappwavfilehandler.ts":
/*!******************************************!*\
  !*** ./src/live2d/lappwavfilehandler.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ByteReader = exports.WavFileInfo = exports.LAppWavFileHandler = exports.s_instance = void 0;\nexports.s_instance = null;\nclass LAppWavFileHandler {\n    /**\n     * \n     * \n     *\n     * @return \n     */\n    static getInstance() {\n        if (exports.s_instance == null) {\n            exports.s_instance = new LAppWavFileHandler();\n        }\n        return exports.s_instance;\n    }\n    /**\n     * \n     */\n    static releaseInstance() {\n        if (exports.s_instance != null) {\n            exports.s_instance = void 0;\n        }\n        exports.s_instance = null;\n    }\n    update(deltaTimeSeconds) {\n        let goalOffset;\n        let rms;\n        // /\n        if (this._pcmData == null ||\n            this._sampleOffset >= this._wavFileInfo._samplesPerChannel) {\n            this._lastRms = 0.0;\n            return false;\n        }\n        // \n        this._userTimeSeconds += deltaTimeSeconds;\n        goalOffset = Math.floor(this._userTimeSeconds * this._wavFileInfo._samplingRate);\n        if (goalOffset > this._wavFileInfo._samplesPerChannel) {\n            goalOffset = this._wavFileInfo._samplesPerChannel;\n        }\n        // RMS\n        rms = 0.0;\n        for (let channelCount = 0; channelCount < this._wavFileInfo._numberOfChannels; channelCount++) {\n            for (let sampleCount = this._sampleOffset; sampleCount < goalOffset; sampleCount++) {\n                const pcm = this._pcmData[channelCount][sampleCount];\n                rms += pcm * pcm;\n            }\n        }\n        rms = Math.sqrt(rms /\n            (this._wavFileInfo._numberOfChannels *\n                (goalOffset - this._sampleOffset)));\n        this._lastRms = rms;\n        this._sampleOffset = goalOffset;\n        return true;\n    }\n    start(filePath) {\n        // \n        this._sampleOffset = 0;\n        this._userTimeSeconds = 0.0;\n        // RMS\n        this._lastRms = 0.0;\n        if (!this.loadWavFile(filePath)) {\n            return;\n        }\n    }\n    getRms() {\n        return this._lastRms;\n    }\n    loadWavFile(filePath) {\n        let ret = false;\n        if (this._pcmData != null) {\n            this.releasePcmData();\n        }\n        // \n        const asyncFileLoad = () => __awaiter(this, void 0, void 0, function* () {\n            return fetch(filePath).then(responce => {\n                return responce.arrayBuffer();\n            });\n        });\n        const asyncWavFileManager = (() => __awaiter(this, void 0, void 0, function* () {\n            this._byteReader._fileByte = yield asyncFileLoad();\n            this._byteReader._fileDataView = new DataView(this._byteReader._fileByte);\n            this._byteReader._fileSize = this._byteReader._fileByte.byteLength;\n            this._byteReader._readOffset = 0;\n            // \"RIFF\"\n            if (this._byteReader._fileByte == null ||\n                this._byteReader._fileSize < 4) {\n                return false;\n            }\n            // \n            this._wavFileInfo._fileName = filePath;\n            try {\n                //  \"RIFF\"\n                if (!this._byteReader.getCheckSignature('RIFF')) {\n                    ret = false;\n                    throw new Error('Cannot find Signeture \"RIFF\".');\n                }\n                // -8\n                this._byteReader.get32LittleEndian();\n                //  \"WAVE\"\n                if (!this._byteReader.getCheckSignature('WAVE')) {\n                    ret = false;\n                    throw new Error('Cannot find Signeture \"WAVE\".');\n                }\n                //  \"fmt \"\n                if (!this._byteReader.getCheckSignature('fmt ')) {\n                    ret = false;\n                    throw new Error('Cannot find Signeture \"fmt\".');\n                }\n                // fmt\n                const fmtChunkSize = this._byteReader.get32LittleEndian();\n                // ID1PCM\n                if (this._byteReader.get16LittleEndian() != 1) {\n                    ret = false;\n                    throw new Error('File is not linear PCM.');\n                }\n                // \n                this._wavFileInfo._numberOfChannels =\n                    this._byteReader.get16LittleEndian();\n                // \n                this._wavFileInfo._samplingRate = this._byteReader.get32LittleEndian();\n                // [byte/sec]\n                this._byteReader.get32LittleEndian();\n                // \n                this._byteReader.get16LittleEndian();\n                // \n                this._wavFileInfo._bitsPerSample = this._byteReader.get16LittleEndian();\n                // fmt\n                if (fmtChunkSize > 16) {\n                    this._byteReader._readOffset += fmtChunkSize - 16;\n                }\n                // \"data\"\n                while (!this._byteReader.getCheckSignature('data') &&\n                    this._byteReader._readOffset < this._byteReader._fileSize) {\n                    this._byteReader._readOffset +=\n                        this._byteReader.get32LittleEndian() + 4;\n                }\n                // \"data\"\n                if (this._byteReader._readOffset >= this._byteReader._fileSize) {\n                    ret = false;\n                    throw new Error('Cannot find \"data\" Chunk.');\n                }\n                // \n                {\n                    const dataChunkSize = this._byteReader.get32LittleEndian();\n                    this._wavFileInfo._samplesPerChannel =\n                        (dataChunkSize * 8) /\n                            (this._wavFileInfo._bitsPerSample *\n                                this._wavFileInfo._numberOfChannels);\n                }\n                // \n                this._pcmData = new Array(this._wavFileInfo._numberOfChannels);\n                for (let channelCount = 0; channelCount < this._wavFileInfo._numberOfChannels; channelCount++) {\n                    this._pcmData[channelCount] = new Float32Array(this._wavFileInfo._samplesPerChannel);\n                }\n                // \n                for (let sampleCount = 0; sampleCount < this._wavFileInfo._samplesPerChannel; sampleCount++) {\n                    for (let channelCount = 0; channelCount < this._wavFileInfo._numberOfChannels; channelCount++) {\n                        this._pcmData[channelCount][sampleCount] = this.getPcmSample();\n                    }\n                }\n                ret = true;\n            }\n            catch (e) {\n                console.log(e);\n            }\n        }))();\n        return ret;\n    }\n    getPcmSample() {\n        let pcm32;\n        // 32-11\n        switch (this._wavFileInfo._bitsPerSample) {\n            case 8:\n                pcm32 = this._byteReader.get8() - 128;\n                pcm32 <<= 24;\n                break;\n            case 16:\n                pcm32 = this._byteReader.get16LittleEndian() << 16;\n                break;\n            case 24:\n                pcm32 = this._byteReader.get24LittleEndian() << 8;\n                break;\n            default:\n                // \n                pcm32 = 0;\n                break;\n        }\n        return pcm32 / 2147483647; //Number.MAX_VALUE;\n    }\n    releasePcmData() {\n        for (let channelCount = 0; channelCount < this._wavFileInfo._numberOfChannels; channelCount++) {\n            delete this._pcmData[channelCount];\n        }\n        delete this._pcmData;\n        this._pcmData = null;\n    }\n    constructor() {\n        this._loadFiletoBytes = (arrayBuffer, length) => {\n            this._byteReader._fileByte = arrayBuffer;\n            this._byteReader._fileDataView = new DataView(this._byteReader._fileByte);\n            this._byteReader._fileSize = length;\n        };\n        this._pcmData = null;\n        this._userTimeSeconds = 0.0;\n        this._lastRms = 0.0;\n        this._sampleOffset = 0.0;\n        this._wavFileInfo = new WavFileInfo();\n        this._byteReader = new ByteReader();\n    }\n}\nexports.LAppWavFileHandler = LAppWavFileHandler;\nclass WavFileInfo {\n    constructor() {\n        this._fileName = '';\n        this._numberOfChannels = 0;\n        this._bitsPerSample = 0;\n        this._samplingRate = 0;\n        this._samplesPerChannel = 0;\n    }\n}\nexports.WavFileInfo = WavFileInfo;\nclass ByteReader {\n    constructor() {\n        this._fileByte = null;\n        this._fileDataView = null;\n        this._fileSize = 0;\n        this._readOffset = 0;\n    }\n    /**\n     * @brief 8\n     * @return Csm::csmUint8 8\n     */\n    get8() {\n        const ret = this._fileDataView.getUint8(this._readOffset);\n        this._readOffset++;\n        return ret;\n    }\n    /**\n     * @brief 16\n     * @return Csm::csmUint16 16\n     */\n    get16LittleEndian() {\n        const ret = (this._fileDataView.getUint8(this._readOffset + 1) << 8) |\n            this._fileDataView.getUint8(this._readOffset);\n        this._readOffset += 2;\n        return ret;\n    }\n    /**\n     * @brief 24\n     * @return Csm::csmUint32 2424\n     */\n    get24LittleEndian() {\n        const ret = (this._fileDataView.getUint8(this._readOffset + 2) << 16) |\n            (this._fileDataView.getUint8(this._readOffset + 1) << 8) |\n            this._fileDataView.getUint8(this._readOffset);\n        this._readOffset += 3;\n        return ret;\n    }\n    /**\n     * @brief 32\n     * @return Csm::csmUint32 32\n     */\n    get32LittleEndian() {\n        const ret = (this._fileDataView.getUint8(this._readOffset + 3) << 24) |\n            (this._fileDataView.getUint8(this._readOffset + 2) << 16) |\n            (this._fileDataView.getUint8(this._readOffset + 1) << 8) |\n            this._fileDataView.getUint8(this._readOffset);\n        this._readOffset += 4;\n        return ret;\n    }\n    /**\n     * @brief \n     * @param[in] reference \n     * @retval  true    \n     * @retval  false   \n     */\n    getCheckSignature(reference) {\n        const getSignature = new Uint8Array(4);\n        const referenceString = new TextEncoder().encode(reference);\n        if (reference.length != 4) {\n            return false;\n        }\n        for (let signatureOffset = 0; signatureOffset < 4; signatureOffset++) {\n            getSignature[signatureOffset] = this.get8();\n        }\n        return (getSignature[0] == referenceString[0] &&\n            getSignature[1] == referenceString[1] &&\n            getSignature[2] == referenceString[2] &&\n            getSignature[3] == referenceString[3]);\n    }\n}\nexports.ByteReader = ByteReader;\n\n\n//# sourceURL=webpack:///./src/live2d/lappwavfilehandler.ts?");

/***/ }),

/***/ "./src/live2d/live2d.ts":
/*!******************************!*\
  !*** ./src/live2d/live2d.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.release = exports.render = exports.initialize = void 0;\nconst lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nfunction initialize() {\n    if (lappdelegate_1.LAppDelegate.getInstance().initialize() == false) {\n        throw Error(\"failed to initialize live2d\");\n    }\n}\nexports.initialize = initialize;\nfunction render() {\n    lappdelegate_1.LAppDelegate.getInstance().render();\n}\nexports.render = render;\nfunction release() {\n    lappdelegate_1.LAppDelegate.releaseInstance();\n}\nexports.release = release;\n/**\n * \n */\n/*\nwindow.onload = (): void => {\n  // create the application instance\n  if (LAppDelegate.getInstance().initialize() == false) {\n    return;\n  }\n\n  LAppDelegate.getInstance().run();\n};*/\n/**\n * \n */\n//window.onbeforeunload = (): void => LAppDelegate.releaseInstance();\n/**\n * Process when changing screen size.\n */\n/*\nwindow.onresize = () => {\n  if (LAppDefine.CanvasSize === 'auto') {\n    LAppDelegate.getInstance().onResize();\n  }\n};\n*/ \n\n\n//# sourceURL=webpack:///./src/live2d/live2d.ts?");

/***/ }),

/***/ "./src/live2d/touchmanager.ts":
/*!************************************!*\
  !*** ./src/live2d/touchmanager.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TouchManager = void 0;\nclass TouchManager {\n    /**\n     * \n     */\n    constructor() {\n        this._startX = 0.0;\n        this._startY = 0.0;\n        this._lastX = 0.0;\n        this._lastY = 0.0;\n        this._lastX1 = 0.0;\n        this._lastY1 = 0.0;\n        this._lastX2 = 0.0;\n        this._lastY2 = 0.0;\n        this._lastTouchDistance = 0.0;\n        this._deltaX = 0.0;\n        this._deltaY = 0.0;\n        this._scale = 1.0;\n        this._touchSingle = false;\n        this._flipAvailable = false;\n    }\n    getCenterX() {\n        return this._lastX;\n    }\n    getCenterY() {\n        return this._lastY;\n    }\n    getDeltaX() {\n        return this._deltaX;\n    }\n    getDeltaY() {\n        return this._deltaY;\n    }\n    getStartX() {\n        return this._startX;\n    }\n    getStartY() {\n        return this._startY;\n    }\n    getScale() {\n        return this._scale;\n    }\n    getX() {\n        return this._lastX;\n    }\n    getY() {\n        return this._lastY;\n    }\n    getX1() {\n        return this._lastX1;\n    }\n    getY1() {\n        return this._lastY1;\n    }\n    getX2() {\n        return this._lastX2;\n    }\n    getY2() {\n        return this._lastY2;\n    }\n    isSingleTouch() {\n        return this._touchSingle;\n    }\n    isFlickAvailable() {\n        return this._flipAvailable;\n    }\n    disableFlick() {\n        this._flipAvailable = false;\n    }\n    /**\n     * \n     * @param deviceX x\n     * @param deviceY y\n     */\n    touchesBegan(deviceX, deviceY) {\n        this._lastX = deviceX;\n        this._lastY = deviceY;\n        this._startX = deviceX;\n        this._startY = deviceY;\n        this._lastTouchDistance = -1.0;\n        this._flipAvailable = true;\n        this._touchSingle = true;\n    }\n    /**\n     * \n     * @param deviceX x\n     * @param deviceY y\n     */\n    touchesMoved(deviceX, deviceY) {\n        this._lastX = deviceX;\n        this._lastY = deviceY;\n        this._lastTouchDistance = -1.0;\n        this._touchSingle = true;\n    }\n    /**\n     * \n     * @return \n     */\n    getFlickDistance() {\n        return this.calculateDistance(this._startX, this._startY, this._lastX, this._lastY);\n    }\n    /**\n     * \n     *\n     * @param x1 x\n     * @param y1 y\n     * @param x2 x\n     * @param y2 y\n     */\n    calculateDistance(x1, y1, x2, y2) {\n        return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n    }\n    /**\n     * \n     * \n     *\n     * @param v1 \n     * @param v2 \n     *\n     * @return \n     */\n    calculateMovingAmount(v1, v2) {\n        if (v1 > 0.0 != v2 > 0.0) {\n            return 0.0;\n        }\n        const sign = v1 > 0.0 ? 1.0 : -1.0;\n        const absoluteValue1 = Math.abs(v1);\n        const absoluteValue2 = Math.abs(v2);\n        return (sign * (absoluteValue1 < absoluteValue2 ? absoluteValue1 : absoluteValue2));\n    }\n}\nexports.TouchManager = TouchManager;\n\n\n//# sourceURL=webpack:///./src/live2d/touchmanager.ts?");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.frameBuffer = exports.gl = exports.canvas = void 0;\nconst assets_1 = __webpack_require__(/*! ./assets/assets */ \"./src/assets/assets.ts\");\nconst lappdelegate_1 = __webpack_require__(/*! ./live2d/lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nconst live2d_1 = __webpack_require__(/*! ./live2d/live2d */ \"./src/live2d/live2d.ts\");\nexports.canvas = null;\nexports.gl = null;\nexports.frameBuffer = null;\nfunction initializeGL() {\n    exports.canvas = document.createElement('canvas');\n    exports.gl = exports.canvas.getContext('webgl');\n    if (!exports.gl) {\n        alert('Cannot initialize WebGL. This browser does not support.');\n        exports.gl = null;\n        document.body.innerHTML =\n            'This browser does not support the <code>&lt;canvas&gt;</code> element.';\n        // gl\n        throw Error('This browser does not support the <code>&lt;canvas&gt;</code> element.');\n    }\n    //  DOM \n    document.body.appendChild(exports.canvas);\n    if (!exports.frameBuffer) {\n        exports.frameBuffer = exports.gl.getParameter(exports.gl.FRAMEBUFFER_BINDING);\n    }\n    // \n    exports.gl.enable(exports.gl.BLEND);\n    exports.gl.blendFunc(exports.gl.SRC_ALPHA, exports.gl.ONE_MINUS_SRC_ALPHA);\n    const supportTouch = 'ontouchend' in exports.canvas;\n    if (supportTouch) {\n        // \n        exports.canvas.ontouchstart = onTouchStart;\n        exports.canvas.ontouchmove = onTouchMove;\n        exports.canvas.ontouchend = onTouchEnd;\n        exports.canvas.ontouchcancel = onTouchCancel;\n    }\n    else {\n        // \n        exports.canvas.onmousedown = onMouseDown;\n        exports.canvas.onmousemove = onMouseMove;\n        exports.canvas.onmouseup = onMouseUp;\n    }\n}\nfunction initialize() {\n    initializeGL();\n    lappdelegate_1.LAppDelegate.getInstance().initialize();\n}\nfunction onTouchStart(e) {\n    (0, lappdelegate_1.onTouchBegan)(e);\n}\nfunction onTouchMove(e) {\n    (0, lappdelegate_1.onTouchMoved)(e);\n}\nfunction onTouchEnd(e) {\n    (0, lappdelegate_1.onTouchEnded)(e);\n}\nfunction onTouchCancel(e) {\n    (0, lappdelegate_1.onTouchCancel)(e);\n}\nfunction onMouseDown(e) {\n    (0, lappdelegate_1.onClickBegan)(e);\n}\nfunction onMouseMove(e) {\n    (0, lappdelegate_1.onMouseMoved)(e);\n}\nfunction onMouseUp(e) {\n    (0, lappdelegate_1.onClickEnded)(e);\n}\nfunction run() {\n    const loop = () => {\n        // \n        exports.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        // \n        exports.gl.enable(exports.gl.DEPTH_TEST);\n        // \n        exports.gl.depthFunc(exports.gl.LEQUAL);\n        // \n        exports.gl.clear(exports.gl.COLOR_BUFFER_BIT | exports.gl.DEPTH_BUFFER_BIT);\n        exports.gl.clearDepth(1.0);\n        lappdelegate_1.LAppDelegate.getInstance().render();\n        requestAnimationFrame(loop);\n    };\n    loop();\n}\nwindow.onload = () => __awaiter(void 0, void 0, void 0, function* () {\n    yield (0, assets_1.initAssets)();\n    initialize();\n    run();\n});\nwindow.onbeforeunload = () => {\n    (0, live2d_1.release)();\n};\nwindow.onresize = () => {\n    lappdelegate_1.LAppDelegate.getInstance().onResize();\n};\n\n\n//# sourceURL=webpack:///./src/main.ts?");

/***/ }),

/***/ "./node_modules/whatwg-fetch/fetch.js":
/*!********************************************!*\
  !*** ./node_modules/whatwg-fetch/fetch.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DOMException: () => (/* binding */ DOMException),\n/* harmony export */   Headers: () => (/* binding */ Headers),\n/* harmony export */   Request: () => (/* binding */ Request),\n/* harmony export */   Response: () => (/* binding */ Response),\n/* harmony export */   fetch: () => (/* binding */ fetch)\n/* harmony export */ });\n/* eslint-disable no-prototype-builtins */\nvar g =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  // eslint-disable-next-line no-undef\n  (typeof __webpack_require__.g !== 'undefined' && __webpack_require__.g) ||\n  {}\n\nvar support = {\n  searchParams: 'URLSearchParams' in g,\n  iterable: 'Symbol' in g && 'iterator' in Symbol,\n  blob:\n    'FileReader' in g &&\n    'Blob' in g &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in g,\n  arrayBuffer: 'ArrayBuffer' in g\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      if (header.length != 2) {\n        throw new TypeError('Headers constructor: expected name/value pair to be length 2, found' + header.length)\n      }\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body._noBody) return\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  var match = /charset=([A-Za-z0-9_-]+)/.exec(blob.type)\n  var encoding = match ? match[1] : 'utf-8'\n  reader.readAsText(blob, encoding)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    // eslint-disable-next-line no-self-assign\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._noBody = true;\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n  }\n\n  this.arrayBuffer = function() {\n    if (this._bodyArrayBuffer) {\n      var isConsumed = consumed(this)\n      if (isConsumed) {\n        return isConsumed\n      } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n        return Promise.resolve(\n          this._bodyArrayBuffer.buffer.slice(\n            this._bodyArrayBuffer.byteOffset,\n            this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n          )\n        )\n      } else {\n        return Promise.resolve(this._bodyArrayBuffer)\n      }\n    } else if (support.blob) {\n      return this.blob().then(readBlobAsArrayBuffer)\n    } else {\n      throw new Error('could not read as ArrayBuffer')\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['CONNECT', 'DELETE', 'GET', 'HEAD', 'OPTIONS', 'PATCH', 'POST', 'PUT', 'TRACE']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal || (function () {\n    if ('AbortController' in g) {\n      var ctrl = new AbortController();\n      return ctrl.signal;\n    }\n  }());\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        try {\n          headers.append(key, value)\n        } catch (error) {\n          console.warn('Response ' + error.message)\n        }\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  if (this.status < 200 || this.status > 599) {\n    throw new RangeError(\"Failed to construct 'Response': The status provided (0) is outside the range [200, 599].\")\n  }\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 200, statusText: ''})\n  response.status = 0\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = g.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && g.location.href ? g.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers || (g.Headers && init.headers instanceof g.Headers))) {\n      var names = [];\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        names.push(normalizeName(name))\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n      request.headers.forEach(function(value, name) {\n        if (names.indexOf(name) === -1) {\n          xhr.setRequestHeader(name, value)\n        }\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!g.fetch) {\n  g.fetch = fetch\n  g.Headers = Headers\n  g.Request = Request\n  g.Response = Response\n}\n\n\n//# sourceURL=webpack:///./node_modules/whatwg-fetch/fetch.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.ts");
/******/ 	
/******/ })()
;</script></head>
<body>
</body>
</html>
