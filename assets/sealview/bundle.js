/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/live2d/framework/cubismdefaultparameterid.ts":
/*!**********************************************************!*\
  !*** ./src/live2d/framework/cubismdefaultparameterid.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismDefaultParameterId = void 0;\nexports.CubismDefaultParameterId = Object.freeze({\n    HitAreaPrefix: 'HitArea',\n    HitAreaHead: 'Head',\n    HitAreaBody: 'Body',\n    PartsIdCore: 'Parts01Core',\n    PartsArmPrefix: 'Parts01Arm_',\n    PartsArmLPrefix: 'Parts01ArmL_',\n    PartsArmRPrefix: 'Parts01ArmR_',\n    ParamAngleX: 'ParamAngleX',\n    ParamAngleY: 'ParamAngleY',\n    ParamAngleZ: 'ParamAngleZ',\n    ParamEyeLOpen: 'ParamEyeLOpen',\n    ParamEyeLSmile: 'ParamEyeLSmile',\n    ParamEyeROpen: 'ParamEyeROpen',\n    ParamEyeRSmile: 'ParamEyeRSmile',\n    ParamEyeBallX: 'ParamEyeBallX',\n    ParamEyeBallY: 'ParamEyeBallY',\n    ParamEyeBallForm: 'ParamEyeBallForm',\n    ParamBrowLY: 'ParamBrowLY',\n    ParamBrowRY: 'ParamBrowRY',\n    ParamBrowLX: 'ParamBrowLX',\n    ParamBrowRX: 'ParamBrowRX',\n    ParamBrowLAngle: 'ParamBrowLAngle',\n    ParamBrowRAngle: 'ParamBrowRAngle',\n    ParamBrowLForm: 'ParamBrowLForm',\n    ParamBrowRForm: 'ParamBrowRForm',\n    ParamMouthForm: 'ParamMouthForm',\n    ParamMouthOpenY: 'ParamMouthOpenY',\n    ParamCheek: 'ParamCheek',\n    ParamBodyAngleX: 'ParamBodyAngleX',\n    ParamBodyAngleY: 'ParamBodyAngleY',\n    ParamBodyAngleZ: 'ParamBodyAngleZ',\n    ParamBreath: 'ParamBreath',\n    ParamArmLA: 'ParamArmLA',\n    ParamArmRA: 'ParamArmRA',\n    ParamArmLB: 'ParamArmLB',\n    ParamArmRB: 'ParamArmRB',\n    ParamHandL: 'ParamHandL',\n    ParamHandR: 'ParamHandR',\n    ParamHairFront: 'ParamHairFront',\n    ParamHairSide: 'ParamHairSide',\n    ParamHairBack: 'ParamHairBack',\n    ParamHairFluffy: 'ParamHairFluffy',\n    ParamShoulderY: 'ParamShoulderY',\n    ParamBustX: 'ParamBustX',\n    ParamBustY: 'ParamBustY',\n    ParamBaseX: 'ParamBaseX',\n    ParamBaseY: 'ParamBaseY',\n    ParamNONE: 'NONE:',\n});\nvar $ = __importStar(__webpack_require__(/*! ./cubismdefaultparameterid */ \"./src/live2d/framework/cubismdefaultparameterid.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.HitAreaBody = $.CubismDefaultParameterId.HitAreaBody;\n    Live2DCubismFramework.HitAreaHead = $.CubismDefaultParameterId.HitAreaHead;\n    Live2DCubismFramework.HitAreaPrefix = $.CubismDefaultParameterId.HitAreaPrefix;\n    Live2DCubismFramework.ParamAngleX = $.CubismDefaultParameterId.ParamAngleX;\n    Live2DCubismFramework.ParamAngleY = $.CubismDefaultParameterId.ParamAngleY;\n    Live2DCubismFramework.ParamAngleZ = $.CubismDefaultParameterId.ParamAngleZ;\n    Live2DCubismFramework.ParamArmLA = $.CubismDefaultParameterId.ParamArmLA;\n    Live2DCubismFramework.ParamArmLB = $.CubismDefaultParameterId.ParamArmLB;\n    Live2DCubismFramework.ParamArmRA = $.CubismDefaultParameterId.ParamArmRA;\n    Live2DCubismFramework.ParamArmRB = $.CubismDefaultParameterId.ParamArmRB;\n    Live2DCubismFramework.ParamBaseX = $.CubismDefaultParameterId.ParamBaseX;\n    Live2DCubismFramework.ParamBaseY = $.CubismDefaultParameterId.ParamBaseY;\n    Live2DCubismFramework.ParamBodyAngleX = $.CubismDefaultParameterId.ParamBodyAngleX;\n    Live2DCubismFramework.ParamBodyAngleY = $.CubismDefaultParameterId.ParamBodyAngleY;\n    Live2DCubismFramework.ParamBodyAngleZ = $.CubismDefaultParameterId.ParamBodyAngleZ;\n    Live2DCubismFramework.ParamBreath = $.CubismDefaultParameterId.ParamBreath;\n    Live2DCubismFramework.ParamBrowLAngle = $.CubismDefaultParameterId.ParamBrowLAngle;\n    Live2DCubismFramework.ParamBrowLForm = $.CubismDefaultParameterId.ParamBrowLForm;\n    Live2DCubismFramework.ParamBrowLX = $.CubismDefaultParameterId.ParamBrowLX;\n    Live2DCubismFramework.ParamBrowLY = $.CubismDefaultParameterId.ParamBrowLY;\n    Live2DCubismFramework.ParamBrowRAngle = $.CubismDefaultParameterId.ParamBrowRAngle;\n    Live2DCubismFramework.ParamBrowRForm = $.CubismDefaultParameterId.ParamBrowRForm;\n    Live2DCubismFramework.ParamBrowRX = $.CubismDefaultParameterId.ParamBrowRX;\n    Live2DCubismFramework.ParamBrowRY = $.CubismDefaultParameterId.ParamBrowRY;\n    Live2DCubismFramework.ParamBustX = $.CubismDefaultParameterId.ParamBustX;\n    Live2DCubismFramework.ParamBustY = $.CubismDefaultParameterId.ParamBustY;\n    Live2DCubismFramework.ParamCheek = $.CubismDefaultParameterId.ParamCheek;\n    Live2DCubismFramework.ParamEyeBallForm = $.CubismDefaultParameterId.ParamEyeBallForm;\n    Live2DCubismFramework.ParamEyeBallX = $.CubismDefaultParameterId.ParamEyeBallX;\n    Live2DCubismFramework.ParamEyeBallY = $.CubismDefaultParameterId.ParamEyeBallY;\n    Live2DCubismFramework.ParamEyeLOpen = $.CubismDefaultParameterId.ParamEyeLOpen;\n    Live2DCubismFramework.ParamEyeLSmile = $.CubismDefaultParameterId.ParamEyeLSmile;\n    Live2DCubismFramework.ParamEyeROpen = $.CubismDefaultParameterId.ParamEyeROpen;\n    Live2DCubismFramework.ParamEyeRSmile = $.CubismDefaultParameterId.ParamEyeRSmile;\n    Live2DCubismFramework.ParamHairBack = $.CubismDefaultParameterId.ParamHairBack;\n    Live2DCubismFramework.ParamHairFluffy = $.CubismDefaultParameterId.ParamHairFluffy;\n    Live2DCubismFramework.ParamHairFront = $.CubismDefaultParameterId.ParamHairFront;\n    Live2DCubismFramework.ParamHairSide = $.CubismDefaultParameterId.ParamHairSide;\n    Live2DCubismFramework.ParamHandL = $.CubismDefaultParameterId.ParamHandL;\n    Live2DCubismFramework.ParamHandR = $.CubismDefaultParameterId.ParamHandR;\n    Live2DCubismFramework.ParamMouthForm = $.CubismDefaultParameterId.ParamMouthForm;\n    Live2DCubismFramework.ParamMouthOpenY = $.CubismDefaultParameterId.ParamMouthOpenY;\n    Live2DCubismFramework.ParamNONE = $.CubismDefaultParameterId.ParamNONE;\n    Live2DCubismFramework.ParamShoulderY = $.CubismDefaultParameterId.ParamShoulderY;\n    Live2DCubismFramework.PartsArmLPrefix = $.CubismDefaultParameterId.PartsArmLPrefix;\n    Live2DCubismFramework.PartsArmPrefix = $.CubismDefaultParameterId.PartsArmPrefix;\n    Live2DCubismFramework.PartsArmRPrefix = $.CubismDefaultParameterId.PartsArmRPrefix;\n    Live2DCubismFramework.PartsIdCore = $.CubismDefaultParameterId.PartsIdCore;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/cubismdefaultparameterid.ts?");

/***/ }),

/***/ "./src/live2d/framework/cubismframeworkconfig.ts":
/*!*******************************************************!*\
  !*** ./src/live2d/framework/cubismframeworkconfig.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CSM_LOG_LEVEL = exports.CSM_LOG_LEVEL_OFF = exports.CSM_LOG_LEVEL_ERROR = exports.CSM_LOG_LEVEL_WARNING = exports.CSM_LOG_LEVEL_INFO = exports.CSM_LOG_LEVEL_DEBUG = exports.CSM_LOG_LEVEL_VERBOSE = void 0;\nexports.CSM_LOG_LEVEL_VERBOSE = 0;\nexports.CSM_LOG_LEVEL_DEBUG = 1;\nexports.CSM_LOG_LEVEL_INFO = 2;\nexports.CSM_LOG_LEVEL_WARNING = 3;\nexports.CSM_LOG_LEVEL_ERROR = 4;\nexports.CSM_LOG_LEVEL_OFF = 5;\nexports.CSM_LOG_LEVEL = exports.CSM_LOG_LEVEL_VERBOSE;\n\n\n//# sourceURL=webpack:///./src/live2d/framework/cubismframeworkconfig.ts?");

/***/ }),

/***/ "./src/live2d/framework/cubismmodelsettingjson.ts":
/*!********************************************************!*\
  !*** ./src/live2d/framework/cubismmodelsettingjson.ts ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModelSettingJson = void 0;\nvar icubismmodelsetting_1 = __webpack_require__(/*! ./icubismmodelsetting */ \"./src/live2d/framework/icubismmodelsetting.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ./live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar csmvector_1 = __webpack_require__(/*! ./type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ./utils/cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\");\nvar Version = 'Version';\nvar FileReferences = 'FileReferences';\nvar Groups = 'Groups';\nvar Layout = 'Layout';\nvar HitAreas = 'HitAreas';\nvar Moc = 'Moc';\nvar Textures = 'Textures';\nvar Physics = 'Physics';\nvar Pose = 'Pose';\nvar Expressions = 'Expressions';\nvar Motions = 'Motions';\nvar UserData = 'UserData';\nvar Name = 'Name';\nvar FilePath = 'File';\nvar Id = 'Id';\nvar Ids = 'Ids';\nvar Target = 'Target';\nvar Idle = 'Idle';\nvar TapBody = 'TapBody';\nvar PinchIn = 'PinchIn';\nvar PinchOut = 'PinchOut';\nvar Shake = 'Shake';\nvar FlickHead = 'FlickHead';\nvar Parameter = 'Parameter';\nvar SoundPath = 'Sound';\nvar FadeInTime = 'FadeInTime';\nvar FadeOutTime = 'FadeOutTime';\nvar CenterX = 'CenterX';\nvar CenterY = 'CenterY';\nvar X = 'X';\nvar Y = 'Y';\nvar Width = 'Width';\nvar Height = 'Height';\nvar LipSync = 'LipSync';\nvar EyeBlink = 'EyeBlink';\nvar InitParameter = 'init_param';\nvar InitPartsVisible = 'init_parts_visible';\nvar Val = 'val';\nvar FrequestNode;\n(function (FrequestNode) {\n    FrequestNode[FrequestNode[\"FrequestNode_Groups\"] = 0] = \"FrequestNode_Groups\";\n    FrequestNode[FrequestNode[\"FrequestNode_Moc\"] = 1] = \"FrequestNode_Moc\";\n    FrequestNode[FrequestNode[\"FrequestNode_Motions\"] = 2] = \"FrequestNode_Motions\";\n    FrequestNode[FrequestNode[\"FrequestNode_Expressions\"] = 3] = \"FrequestNode_Expressions\";\n    FrequestNode[FrequestNode[\"FrequestNode_Textures\"] = 4] = \"FrequestNode_Textures\";\n    FrequestNode[FrequestNode[\"FrequestNode_Physics\"] = 5] = \"FrequestNode_Physics\";\n    FrequestNode[FrequestNode[\"FrequestNode_Pose\"] = 6] = \"FrequestNode_Pose\";\n    FrequestNode[FrequestNode[\"FrequestNode_HitAreas\"] = 7] = \"FrequestNode_HitAreas\";\n})(FrequestNode || (FrequestNode = {}));\nvar CubismModelSettingJson = (function (_super) {\n    __extends(CubismModelSettingJson, _super);\n    function CubismModelSettingJson(buffer, size) {\n        var _this = _super.call(this) || this;\n        _this._json = cubismjson_1.CubismJson.create(buffer, size);\n        if (_this._json) {\n            _this._jsonValue = new csmvector_1.csmVector();\n            _this._jsonValue.pushBack(_this._json.getRoot().getValueByString(Groups));\n            _this._jsonValue.pushBack(_this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Moc));\n            _this._jsonValue.pushBack(_this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Motions));\n            _this._jsonValue.pushBack(_this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Expressions));\n            _this._jsonValue.pushBack(_this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Textures));\n            _this._jsonValue.pushBack(_this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Physics));\n            _this._jsonValue.pushBack(_this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(Pose));\n            _this._jsonValue.pushBack(_this._json.getRoot().getValueByString(HitAreas));\n        }\n        return _this;\n    }\n    CubismModelSettingJson.prototype.release = function () {\n        cubismjson_1.CubismJson.delete(this._json);\n        this._jsonValue = null;\n    };\n    CubismModelSettingJson.prototype.GetJson = function () {\n        return this._json;\n    };\n    CubismModelSettingJson.prototype.getModelFileName = function () {\n        if (!this.isExistModelFile()) {\n            return '';\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Moc).getRawString();\n    };\n    CubismModelSettingJson.prototype.getTextureCount = function () {\n        if (!this.isExistTextureFiles()) {\n            return 0;\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Textures).getSize();\n    };\n    CubismModelSettingJson.prototype.getTextureDirectory = function () {\n        var texturePath = this._jsonValue\n            .at(FrequestNode.FrequestNode_Textures)\n            .getValueByIndex(0)\n            .getRawString();\n        var pathArray = texturePath.split('/');\n        var arrayLength = pathArray.length - 1;\n        var textureDirectoryStr = '';\n        for (var i = 0; i < arrayLength; i++) {\n            textureDirectoryStr += pathArray[i];\n            if (i < arrayLength - 1) {\n                textureDirectoryStr += '/';\n            }\n        }\n        return textureDirectoryStr;\n    };\n    CubismModelSettingJson.prototype.getTextureFileName = function (index) {\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Textures)\n            .getValueByIndex(index)\n            .getRawString();\n    };\n    CubismModelSettingJson.prototype.getHitAreasCount = function () {\n        if (!this.isExistHitAreas()) {\n            return 0;\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_HitAreas).getSize();\n    };\n    CubismModelSettingJson.prototype.getHitAreaId = function (index) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._jsonValue\n            .at(FrequestNode.FrequestNode_HitAreas)\n            .getValueByIndex(index)\n            .getValueByString(Id)\n            .getRawString());\n    };\n    CubismModelSettingJson.prototype.getHitAreaName = function (index) {\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_HitAreas)\n            .getValueByIndex(index)\n            .getValueByString(Name)\n            .getRawString();\n    };\n    CubismModelSettingJson.prototype.getPhysicsFileName = function () {\n        if (!this.isExistPhysicsFile()) {\n            return '';\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Physics).getRawString();\n    };\n    CubismModelSettingJson.prototype.getPoseFileName = function () {\n        if (!this.isExistPoseFile()) {\n            return '';\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Pose).getRawString();\n    };\n    CubismModelSettingJson.prototype.getExpressionCount = function () {\n        if (!this.isExistExpressionFile()) {\n            return 0;\n        }\n        return this._jsonValue.at(FrequestNode.FrequestNode_Expressions).getSize();\n    };\n    CubismModelSettingJson.prototype.getExpressionName = function (index) {\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Expressions)\n            .getValueByIndex(index)\n            .getValueByString(Name)\n            .getRawString();\n    };\n    CubismModelSettingJson.prototype.getExpressionFileName = function (index) {\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Expressions)\n            .getValueByIndex(index)\n            .getValueByString(FilePath)\n            .getRawString();\n    };\n    CubismModelSettingJson.prototype.getMotionGroupCount = function () {\n        if (!this.isExistMotionGroups()) {\n            return 0;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getKeys()\n            .getSize();\n    };\n    CubismModelSettingJson.prototype.getMotionGroupName = function (index) {\n        if (!this.isExistMotionGroups()) {\n            return null;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getKeys()\n            .at(index);\n    };\n    CubismModelSettingJson.prototype.getMotionCount = function (groupName) {\n        if (!this.isExistMotionGroupName(groupName)) {\n            return 0;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getSize();\n    };\n    CubismModelSettingJson.prototype.getMotionFileName = function (groupName, index) {\n        if (!this.isExistMotionGroupName(groupName)) {\n            return '';\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FilePath)\n            .getRawString();\n    };\n    CubismModelSettingJson.prototype.getMotionSoundFileName = function (groupName, index) {\n        if (!this.isExistMotionSoundFile(groupName, index)) {\n            return '';\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(SoundPath)\n            .getRawString();\n    };\n    CubismModelSettingJson.prototype.getMotionFadeInTimeValue = function (groupName, index) {\n        if (!this.isExistMotionFadeIn(groupName, index)) {\n            return -1.0;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FadeInTime)\n            .toFloat();\n    };\n    CubismModelSettingJson.prototype.getMotionFadeOutTimeValue = function (groupName, index) {\n        if (!this.isExistMotionFadeOut(groupName, index)) {\n            return -1.0;\n        }\n        return this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FadeOutTime)\n            .toFloat();\n    };\n    CubismModelSettingJson.prototype.getUserDataFile = function () {\n        if (!this.isExistUserDataFile()) {\n            return '';\n        }\n        return this._json\n            .getRoot()\n            .getValueByString(FileReferences)\n            .getValueByString(UserData)\n            .getRawString();\n    };\n    CubismModelSettingJson.prototype.getLayoutMap = function (outLayoutMap) {\n        var map = this._json\n            .getRoot()\n            .getValueByString(Layout)\n            .getMap();\n        if (map == null) {\n            return false;\n        }\n        var ret = false;\n        for (var ite = map.begin(); ite.notEqual(map.end()); ite.preIncrement()) {\n            outLayoutMap.setValue(ite.ptr().first, ite.ptr().second.toFloat());\n            ret = true;\n        }\n        return ret;\n    };\n    CubismModelSettingJson.prototype.getEyeBlinkParameterCount = function () {\n        if (!this.isExistEyeBlinkParameters()) {\n            return 0;\n        }\n        var num = 0;\n        for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n            var refI = this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i);\n            if (refI.isNull() || refI.isError()) {\n                continue;\n            }\n            if (refI.getValueByString(Name).getRawString() == EyeBlink) {\n                num = refI.getValueByString(Ids).getVector().getSize();\n                break;\n            }\n        }\n        return num;\n    };\n    CubismModelSettingJson.prototype.getEyeBlinkParameterId = function (index) {\n        if (!this.isExistEyeBlinkParameters()) {\n            return null;\n        }\n        for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n            var refI = this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i);\n            if (refI.isNull() || refI.isError()) {\n                continue;\n            }\n            if (refI.getValueByString(Name).getRawString() == EyeBlink) {\n                return live2dcubismframework_1.CubismFramework.getIdManager().getId(refI.getValueByString(Ids).getValueByIndex(index).getRawString());\n            }\n        }\n        return null;\n    };\n    CubismModelSettingJson.prototype.getLipSyncParameterCount = function () {\n        if (!this.isExistLipSyncParameters()) {\n            return 0;\n        }\n        var num = 0;\n        for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n            var refI = this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i);\n            if (refI.isNull() || refI.isError()) {\n                continue;\n            }\n            if (refI.getValueByString(Name).getRawString() == LipSync) {\n                num = refI.getValueByString(Ids).getVector().getSize();\n                break;\n            }\n        }\n        return num;\n    };\n    CubismModelSettingJson.prototype.getLipSyncParameterId = function (index) {\n        if (!this.isExistLipSyncParameters()) {\n            return null;\n        }\n        for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n            var refI = this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i);\n            if (refI.isNull() || refI.isError()) {\n                continue;\n            }\n            if (refI.getValueByString(Name).getRawString() == LipSync) {\n                return live2dcubismframework_1.CubismFramework.getIdManager().getId(refI.getValueByString(Ids).getValueByIndex(index).getRawString());\n            }\n        }\n        return null;\n    };\n    CubismModelSettingJson.prototype.isExistModelFile = function () {\n        var node = this._jsonValue.at(FrequestNode.FrequestNode_Moc);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistTextureFiles = function () {\n        var node = this._jsonValue.at(FrequestNode.FrequestNode_Textures);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistHitAreas = function () {\n        var node = this._jsonValue.at(FrequestNode.FrequestNode_HitAreas);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistPhysicsFile = function () {\n        var node = this._jsonValue.at(FrequestNode.FrequestNode_Physics);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistPoseFile = function () {\n        var node = this._jsonValue.at(FrequestNode.FrequestNode_Pose);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistExpressionFile = function () {\n        var node = this._jsonValue.at(FrequestNode.FrequestNode_Expressions);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistMotionGroups = function () {\n        var node = this._jsonValue.at(FrequestNode.FrequestNode_Motions);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistMotionGroupName = function (groupName) {\n        var node = this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistMotionSoundFile = function (groupName, index) {\n        var node = this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(SoundPath);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistMotionFadeIn = function (groupName, index) {\n        var node = this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FadeInTime);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistMotionFadeOut = function (groupName, index) {\n        var node = this._jsonValue\n            .at(FrequestNode.FrequestNode_Motions)\n            .getValueByString(groupName)\n            .getValueByIndex(index)\n            .getValueByString(FadeOutTime);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistUserDataFile = function () {\n        var node = this._json\n            .getRoot()\n            .getValueByString(FileReferences)\n            .getValueByString(UserData);\n        return !node.isNull() && !node.isError();\n    };\n    CubismModelSettingJson.prototype.isExistEyeBlinkParameters = function () {\n        if (this._jsonValue.at(FrequestNode.FrequestNode_Groups).isNull() ||\n            this._jsonValue.at(FrequestNode.FrequestNode_Groups).isError()) {\n            return false;\n        }\n        for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); ++i) {\n            if (this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i)\n                .getValueByString(Name)\n                .getRawString() == EyeBlink) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CubismModelSettingJson.prototype.isExistLipSyncParameters = function () {\n        if (this._jsonValue.at(FrequestNode.FrequestNode_Groups).isNull() ||\n            this._jsonValue.at(FrequestNode.FrequestNode_Groups).isError()) {\n            return false;\n        }\n        for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); ++i) {\n            if (this._jsonValue\n                .at(FrequestNode.FrequestNode_Groups)\n                .getValueByIndex(i)\n                .getValueByString(Name)\n                .getRawString() == LipSync) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return CubismModelSettingJson;\n}(icubismmodelsetting_1.ICubismModelSetting));\nexports.CubismModelSettingJson = CubismModelSettingJson;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmodelsettingjson */ \"./src/live2d/framework/cubismmodelsettingjson.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModelSettingJson = $.CubismModelSettingJson;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/cubismmodelsettingjson.ts?");

/***/ }),

/***/ "./src/live2d/framework/effect/cubismbreath.ts":
/*!*****************************************************!*\
  !*** ./src/live2d/framework/effect/cubismbreath.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.BreathParameterData = exports.CubismBreath = void 0;\nvar CubismBreath = (function () {\n    function CubismBreath() {\n        this._currentTime = 0.0;\n    }\n    CubismBreath.create = function () {\n        return new CubismBreath();\n    };\n    CubismBreath.delete = function (instance) {\n        if (instance != null) {\n            instance = null;\n        }\n    };\n    CubismBreath.prototype.setParameters = function (breathParameters) {\n        this._breathParameters = breathParameters;\n    };\n    CubismBreath.prototype.getParameters = function () {\n        return this._breathParameters;\n    };\n    CubismBreath.prototype.updateParameters = function (model, deltaTimeSeconds) {\n        this._currentTime += deltaTimeSeconds;\n        var t = this._currentTime * 2.0 * 3.14159;\n        for (var i = 0; i < this._breathParameters.getSize(); ++i) {\n            var data = this._breathParameters.at(i);\n            model.addParameterValueById(data.parameterId, data.offset + data.peak * Math.sin(t / data.cycle), data.weight);\n        }\n    };\n    return CubismBreath;\n}());\nexports.CubismBreath = CubismBreath;\nvar BreathParameterData = (function () {\n    function BreathParameterData(parameterId, offset, peak, cycle, weight) {\n        this.parameterId = parameterId == undefined ? null : parameterId;\n        this.offset = offset == undefined ? 0.0 : offset;\n        this.peak = peak == undefined ? 0.0 : peak;\n        this.cycle = cycle == undefined ? 0.0 : cycle;\n        this.weight = weight == undefined ? 0.0 : weight;\n    }\n    return BreathParameterData;\n}());\nexports.BreathParameterData = BreathParameterData;\nvar $ = __importStar(__webpack_require__(/*! ./cubismbreath */ \"./src/live2d/framework/effect/cubismbreath.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.BreathParameterData = $.BreathParameterData;\n    Live2DCubismFramework.CubismBreath = $.CubismBreath;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/effect/cubismbreath.ts?");

/***/ }),

/***/ "./src/live2d/framework/effect/cubismeyeblink.ts":
/*!*******************************************************!*\
  !*** ./src/live2d/framework/effect/cubismeyeblink.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.EyeState = exports.CubismEyeBlink = void 0;\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar CubismEyeBlink = exports.CubismEyeBlink = (function () {\n    function CubismEyeBlink(modelSetting) {\n        this._blinkingState = EyeState.EyeState_First;\n        this._nextBlinkingTime = 0.0;\n        this._stateStartTimeSeconds = 0.0;\n        this._blinkingIntervalSeconds = 4.0;\n        this._closingSeconds = 0.1;\n        this._closedSeconds = 0.05;\n        this._openingSeconds = 0.15;\n        this._userTimeSeconds = 0.0;\n        this._parameterIds = new csmvector_1.csmVector();\n        if (modelSetting == null) {\n            return;\n        }\n        for (var i = 0; i < modelSetting.getEyeBlinkParameterCount(); ++i) {\n            this._parameterIds.pushBack(modelSetting.getEyeBlinkParameterId(i));\n        }\n    }\n    CubismEyeBlink.create = function (modelSetting) {\n        if (modelSetting === void 0) { modelSetting = null; }\n        return new CubismEyeBlink(modelSetting);\n    };\n    CubismEyeBlink.delete = function (eyeBlink) {\n        if (eyeBlink != null) {\n            eyeBlink = null;\n        }\n    };\n    CubismEyeBlink.prototype.setBlinkingInterval = function (blinkingInterval) {\n        this._blinkingIntervalSeconds = blinkingInterval;\n    };\n    CubismEyeBlink.prototype.setBlinkingSetting = function (closing, closed, opening) {\n        this._closingSeconds = closing;\n        this._closedSeconds = closed;\n        this._openingSeconds = opening;\n    };\n    CubismEyeBlink.prototype.setParameterIds = function (parameterIds) {\n        this._parameterIds = parameterIds;\n    };\n    CubismEyeBlink.prototype.getParameterIds = function () {\n        return this._parameterIds;\n    };\n    CubismEyeBlink.prototype.updateParameters = function (model, deltaTimeSeconds) {\n        this._userTimeSeconds += deltaTimeSeconds;\n        var parameterValue;\n        var t = 0.0;\n        switch (this._blinkingState) {\n            case EyeState.EyeState_Closing:\n                t =\n                    (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                        this._closingSeconds;\n                if (t >= 1.0) {\n                    t = 1.0;\n                    this._blinkingState = EyeState.EyeState_Closed;\n                    this._stateStartTimeSeconds = this._userTimeSeconds;\n                }\n                parameterValue = 1.0 - t;\n                break;\n            case EyeState.EyeState_Closed:\n                t =\n                    (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                        this._closedSeconds;\n                if (t >= 1.0) {\n                    this._blinkingState = EyeState.EyeState_Opening;\n                    this._stateStartTimeSeconds = this._userTimeSeconds;\n                }\n                parameterValue = 0.0;\n                break;\n            case EyeState.EyeState_Opening:\n                t =\n                    (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                        this._openingSeconds;\n                if (t >= 1.0) {\n                    t = 1.0;\n                    this._blinkingState = EyeState.EyeState_Interval;\n                    this._nextBlinkingTime = this.determinNextBlinkingTiming();\n                }\n                parameterValue = t;\n                break;\n            case EyeState.EyeState_Interval:\n                if (this._nextBlinkingTime < this._userTimeSeconds) {\n                    this._blinkingState = EyeState.EyeState_Closing;\n                    this._stateStartTimeSeconds = this._userTimeSeconds;\n                }\n                parameterValue = 1.0;\n                break;\n            case EyeState.EyeState_First:\n            default:\n                this._blinkingState = EyeState.EyeState_Interval;\n                this._nextBlinkingTime = this.determinNextBlinkingTiming();\n                parameterValue = 1.0;\n                break;\n        }\n        if (!CubismEyeBlink.CloseIfZero) {\n            parameterValue = -parameterValue;\n        }\n        for (var i = 0; i < this._parameterIds.getSize(); ++i) {\n            model.setParameterValueById(this._parameterIds.at(i), parameterValue);\n        }\n    };\n    CubismEyeBlink.prototype.determinNextBlinkingTiming = function () {\n        var r = Math.random();\n        return (this._userTimeSeconds + r * (2.0 * this._blinkingIntervalSeconds - 1.0));\n    };\n    CubismEyeBlink.CloseIfZero = true;\n    return CubismEyeBlink;\n}());\nvar EyeState;\n(function (EyeState) {\n    EyeState[EyeState[\"EyeState_First\"] = 0] = \"EyeState_First\";\n    EyeState[EyeState[\"EyeState_Interval\"] = 1] = \"EyeState_Interval\";\n    EyeState[EyeState[\"EyeState_Closing\"] = 2] = \"EyeState_Closing\";\n    EyeState[EyeState[\"EyeState_Closed\"] = 3] = \"EyeState_Closed\";\n    EyeState[EyeState[\"EyeState_Opening\"] = 4] = \"EyeState_Opening\";\n})(EyeState = exports.EyeState || (exports.EyeState = {}));\nvar $ = __importStar(__webpack_require__(/*! ./cubismeyeblink */ \"./src/live2d/framework/effect/cubismeyeblink.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismEyeBlink = $.CubismEyeBlink;\n    Live2DCubismFramework.EyeState = $.EyeState;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/effect/cubismeyeblink.ts?");

/***/ }),

/***/ "./src/live2d/framework/effect/cubismpose.ts":
/*!***************************************************!*\
  !*** ./src/live2d/framework/effect/cubismpose.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.PartData = exports.CubismPose = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\");\nvar Epsilon = 0.001;\nvar DefaultFadeInSeconds = 0.5;\nvar FadeIn = 'FadeInTime';\nvar Link = 'Link';\nvar Groups = 'Groups';\nvar Id = 'Id';\nvar CubismPose = (function () {\n    function CubismPose() {\n        this._fadeTimeSeconds = DefaultFadeInSeconds;\n        this._lastModel = null;\n        this._partGroups = new csmvector_1.csmVector();\n        this._partGroupCounts = new csmvector_1.csmVector();\n    }\n    CubismPose.create = function (pose3json, size) {\n        var ret = new CubismPose();\n        var json = cubismjson_1.CubismJson.create(pose3json, size);\n        var root = json.getRoot();\n        if (!root.getValueByString(FadeIn).isNull()) {\n            ret._fadeTimeSeconds = root\n                .getValueByString(FadeIn)\n                .toFloat(DefaultFadeInSeconds);\n            if (ret._fadeTimeSeconds <= 0.0) {\n                ret._fadeTimeSeconds = DefaultFadeInSeconds;\n            }\n        }\n        var poseListInfo = root.getValueByString(Groups);\n        var poseCount = poseListInfo.getSize();\n        for (var poseIndex = 0; poseIndex < poseCount; ++poseIndex) {\n            var idListInfo = poseListInfo.getValueByIndex(poseIndex);\n            var idCount = idListInfo.getSize();\n            var groupCount = 0;\n            for (var groupIndex = 0; groupIndex < idCount; ++groupIndex) {\n                var partInfo = idListInfo.getValueByIndex(groupIndex);\n                var partData = new PartData();\n                var parameterId = live2dcubismframework_1.CubismFramework.getIdManager().getId(partInfo.getValueByString(Id).getRawString());\n                partData.partId = parameterId;\n                if (!partInfo.getValueByString(Link).isNull()) {\n                    var linkListInfo = partInfo.getValueByString(Link);\n                    var linkCount = linkListInfo.getSize();\n                    for (var linkIndex = 0; linkIndex < linkCount; ++linkIndex) {\n                        var linkPart = new PartData();\n                        var linkId = live2dcubismframework_1.CubismFramework.getIdManager().getId(linkListInfo.getValueByIndex(linkIndex).getString());\n                        linkPart.partId = linkId;\n                        partData.link.pushBack(linkPart);\n                    }\n                }\n                ret._partGroups.pushBack(partData.clone());\n                ++groupCount;\n            }\n            ret._partGroupCounts.pushBack(groupCount);\n        }\n        cubismjson_1.CubismJson.delete(json);\n        return ret;\n    };\n    CubismPose.delete = function (pose) {\n        if (pose != null) {\n            pose = null;\n        }\n    };\n    CubismPose.prototype.updateParameters = function (model, deltaTimeSeconds) {\n        if (model != this._lastModel) {\n            this.reset(model);\n        }\n        this._lastModel = model;\n        if (deltaTimeSeconds < 0.0) {\n            deltaTimeSeconds = 0.0;\n        }\n        var beginIndex = 0;\n        for (var i = 0; i < this._partGroupCounts.getSize(); i++) {\n            var partGroupCount = this._partGroupCounts.at(i);\n            this.doFade(model, deltaTimeSeconds, beginIndex, partGroupCount);\n            beginIndex += partGroupCount;\n        }\n        this.copyPartOpacities(model);\n    };\n    CubismPose.prototype.reset = function (model) {\n        var beginIndex = 0;\n        for (var i = 0; i < this._partGroupCounts.getSize(); ++i) {\n            var groupCount = this._partGroupCounts.at(i);\n            for (var j = beginIndex; j < beginIndex + groupCount; ++j) {\n                this._partGroups.at(j).initialize(model);\n                var partsIndex = this._partGroups.at(j).partIndex;\n                var paramIndex = this._partGroups.at(j).parameterIndex;\n                if (partsIndex < 0) {\n                    continue;\n                }\n                model.setPartOpacityByIndex(partsIndex, j == beginIndex ? 1.0 : 0.0);\n                model.setParameterValueByIndex(paramIndex, j == beginIndex ? 1.0 : 0.0);\n                for (var k = 0; k < this._partGroups.at(j).link.getSize(); ++k) {\n                    this._partGroups.at(j).link.at(k).initialize(model);\n                }\n            }\n            beginIndex += groupCount;\n        }\n    };\n    CubismPose.prototype.copyPartOpacities = function (model) {\n        for (var groupIndex = 0; groupIndex < this._partGroups.getSize(); ++groupIndex) {\n            var partData = this._partGroups.at(groupIndex);\n            if (partData.link.getSize() == 0) {\n                continue;\n            }\n            var partIndex = this._partGroups.at(groupIndex).partIndex;\n            var opacity = model.getPartOpacityByIndex(partIndex);\n            for (var linkIndex = 0; linkIndex < partData.link.getSize(); ++linkIndex) {\n                var linkPart = partData.link.at(linkIndex);\n                var linkPartIndex = linkPart.partIndex;\n                if (linkPartIndex < 0) {\n                    continue;\n                }\n                model.setPartOpacityByIndex(linkPartIndex, opacity);\n            }\n        }\n    };\n    CubismPose.prototype.doFade = function (model, deltaTimeSeconds, beginIndex, partGroupCount) {\n        var visiblePartIndex = -1;\n        var newOpacity = 1.0;\n        var phi = 0.5;\n        var backOpacityThreshold = 0.15;\n        for (var i = beginIndex; i < beginIndex + partGroupCount; ++i) {\n            var partIndex = this._partGroups.at(i).partIndex;\n            var paramIndex = this._partGroups.at(i).parameterIndex;\n            if (model.getParameterValueByIndex(paramIndex) > Epsilon) {\n                if (visiblePartIndex >= 0) {\n                    break;\n                }\n                visiblePartIndex = i;\n                newOpacity = model.getPartOpacityByIndex(partIndex);\n                newOpacity += deltaTimeSeconds / this._fadeTimeSeconds;\n                if (newOpacity > 1.0) {\n                    newOpacity = 1.0;\n                }\n            }\n        }\n        if (visiblePartIndex < 0) {\n            visiblePartIndex = 0;\n            newOpacity = 1.0;\n        }\n        for (var i = beginIndex; i < beginIndex + partGroupCount; ++i) {\n            var partsIndex = this._partGroups.at(i).partIndex;\n            if (visiblePartIndex == i) {\n                model.setPartOpacityByIndex(partsIndex, newOpacity);\n            }\n            else {\n                var opacity = model.getPartOpacityByIndex(partsIndex);\n                var a1 = void 0;\n                if (newOpacity < phi) {\n                    a1 = (newOpacity * (phi - 1)) / phi + 1.0;\n                }\n                else {\n                    a1 = ((1 - newOpacity) * phi) / (1.0 - phi);\n                }\n                var backOpacity = (1.0 - a1) * (1.0 - newOpacity);\n                if (backOpacity > backOpacityThreshold) {\n                    a1 = 1.0 - backOpacityThreshold / (1.0 - newOpacity);\n                }\n                if (opacity > a1) {\n                    opacity = a1;\n                }\n                model.setPartOpacityByIndex(partsIndex, opacity);\n            }\n        }\n    };\n    return CubismPose;\n}());\nexports.CubismPose = CubismPose;\nvar PartData = (function () {\n    function PartData(v) {\n        this.parameterIndex = 0;\n        this.partIndex = 0;\n        this.link = new csmvector_1.csmVector();\n        if (v != undefined) {\n            this.partId = v.partId;\n            for (var ite = v.link.begin(); ite.notEqual(v.link.end()); ite.preIncrement()) {\n                this.link.pushBack(ite.ptr().clone());\n            }\n        }\n    }\n    PartData.prototype.assignment = function (v) {\n        this.partId = v.partId;\n        for (var ite = v.link.begin(); ite.notEqual(v.link.end()); ite.preIncrement()) {\n            this.link.pushBack(ite.ptr().clone());\n        }\n        return this;\n    };\n    PartData.prototype.initialize = function (model) {\n        this.parameterIndex = model.getParameterIndex(this.partId);\n        this.partIndex = model.getPartIndex(this.partId);\n        model.setParameterValueByIndex(this.parameterIndex, 1);\n    };\n    PartData.prototype.clone = function () {\n        var clonePartData = new PartData();\n        clonePartData.partId = this.partId;\n        clonePartData.parameterIndex = this.parameterIndex;\n        clonePartData.partIndex = this.partIndex;\n        clonePartData.link = new csmvector_1.csmVector();\n        for (var ite = this.link.begin(); ite.notEqual(this.link.end()); ite.increment()) {\n            clonePartData.link.pushBack(ite.ptr().clone());\n        }\n        return clonePartData;\n    };\n    return PartData;\n}());\nexports.PartData = PartData;\nvar $ = __importStar(__webpack_require__(/*! ./cubismpose */ \"./src/live2d/framework/effect/cubismpose.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismPose = $.CubismPose;\n    Live2DCubismFramework.PartData = $.PartData;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/effect/cubismpose.ts?");

/***/ }),

/***/ "./src/live2d/framework/icubismmodelsetting.ts":
/*!*****************************************************!*\
  !*** ./src/live2d/framework/icubismmodelsetting.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.ICubismModelSetting = void 0;\nvar ICubismModelSetting = (function () {\n    function ICubismModelSetting() {\n    }\n    return ICubismModelSetting;\n}());\nexports.ICubismModelSetting = ICubismModelSetting;\nvar $ = __importStar(__webpack_require__(/*! ./icubismmodelsetting */ \"./src/live2d/framework/icubismmodelsetting.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.ICubismModelSetting = $.ICubismModelSetting;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/icubismmodelsetting.ts?");

/***/ }),

/***/ "./src/live2d/framework/id/cubismid.ts":
/*!*********************************************!*\
  !*** ./src/live2d/framework/id/cubismid.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismId = void 0;\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./src/live2d/framework/type/csmstring.ts\");\nvar CubismId = (function () {\n    function CubismId(id) {\n        if (typeof id === 'string') {\n            this._id = new csmstring_1.csmString(id);\n            return;\n        }\n        this._id = id;\n    }\n    CubismId.prototype.getString = function () {\n        return this._id;\n    };\n    CubismId.prototype.isEqual = function (c) {\n        if (typeof c === 'string') {\n            return this._id.isEqual(c);\n        }\n        else if (c instanceof csmstring_1.csmString) {\n            return this._id.isEqual(c.s);\n        }\n        else if (c instanceof CubismId) {\n            return this._id.isEqual(c._id.s);\n        }\n        return false;\n    };\n    CubismId.prototype.isNotEqual = function (c) {\n        if (typeof c == 'string') {\n            return !this._id.isEqual(c);\n        }\n        else if (c instanceof csmstring_1.csmString) {\n            return !this._id.isEqual(c.s);\n        }\n        else if (c instanceof CubismId) {\n            return !this._id.isEqual(c._id.s);\n        }\n        return false;\n    };\n    return CubismId;\n}());\nexports.CubismId = CubismId;\nvar $ = __importStar(__webpack_require__(/*! ./cubismid */ \"./src/live2d/framework/id/cubismid.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismId = $.CubismId;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/id/cubismid.ts?");

/***/ }),

/***/ "./src/live2d/framework/id/cubismidmanager.ts":
/*!****************************************************!*\
  !*** ./src/live2d/framework/id/cubismidmanager.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismIdManager = void 0;\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismid_1 = __webpack_require__(/*! ./cubismid */ \"./src/live2d/framework/id/cubismid.ts\");\nvar CubismIdManager = (function () {\n    function CubismIdManager() {\n        this._ids = new csmvector_1.csmVector();\n    }\n    CubismIdManager.prototype.release = function () {\n        for (var i = 0; i < this._ids.getSize(); ++i) {\n            this._ids.set(i, void 0);\n        }\n        this._ids = null;\n    };\n    CubismIdManager.prototype.registerIds = function (ids) {\n        for (var i = 0; i < ids.length; i++) {\n            this.registerId(ids[i]);\n        }\n    };\n    CubismIdManager.prototype.registerId = function (id) {\n        var result = null;\n        if ('string' == typeof id) {\n            if ((result = this.findId(id)) != null) {\n                return result;\n            }\n            result = new cubismid_1.CubismId(id);\n            this._ids.pushBack(result);\n        }\n        else {\n            return this.registerId(id.s);\n        }\n        return result;\n    };\n    CubismIdManager.prototype.getId = function (id) {\n        return this.registerId(id);\n    };\n    CubismIdManager.prototype.isExist = function (id) {\n        if ('string' == typeof id) {\n            return this.findId(id) != null;\n        }\n        return this.isExist(id.s);\n    };\n    CubismIdManager.prototype.findId = function (id) {\n        for (var i = 0; i < this._ids.getSize(); ++i) {\n            if (this._ids.at(i).getString().isEqual(id)) {\n                return this._ids.at(i);\n            }\n        }\n        return null;\n    };\n    return CubismIdManager;\n}());\nexports.CubismIdManager = CubismIdManager;\nvar $ = __importStar(__webpack_require__(/*! ./cubismidmanager */ \"./src/live2d/framework/id/cubismidmanager.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismIdManager = $.CubismIdManager;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/id/cubismidmanager.ts?");

/***/ }),

/***/ "./src/live2d/framework/live2dcubismframework.ts":
/*!*******************************************************!*\
  !*** ./src/live2d/framework/live2dcubismframework.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.LogLevel = exports.Option = exports.CubismFramework = exports.csmDelete = exports.Constant = exports.strtod = void 0;\nvar cubismidmanager_1 = __webpack_require__(/*! ./id/cubismidmanager */ \"./src/live2d/framework/id/cubismidmanager.ts\");\nvar cubismrenderer_1 = __webpack_require__(/*! ./rendering/cubismrenderer */ \"./src/live2d/framework/rendering/cubismrenderer.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ./utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ./utils/cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\");\nfunction strtod(s, endPtr) {\n    var index = 0;\n    for (var i = 1;; i++) {\n        var testC = s.slice(i - 1, i);\n        if (testC == 'e' || testC == '-' || testC == 'E') {\n            continue;\n        }\n        var test = s.substring(0, i);\n        var number = Number(test);\n        if (isNaN(number)) {\n            break;\n        }\n        index = i;\n    }\n    var d = parseFloat(s);\n    if (isNaN(d)) {\n        d = NaN;\n    }\n    endPtr[0] = s.slice(index);\n    return d;\n}\nexports.strtod = strtod;\nvar s_isStarted = false;\nvar s_isInitialized = false;\nvar s_option = null;\nvar s_cubismIdManager = null;\nexports.Constant = Object.freeze({\n    vertexOffset: 0,\n    vertexStep: 2,\n});\nfunction csmDelete(address) {\n    if (!address) {\n        return;\n    }\n    address = void 0;\n}\nexports.csmDelete = csmDelete;\nvar CubismFramework = (function () {\n    function CubismFramework() {\n    }\n    CubismFramework.startUp = function (option) {\n        if (option === void 0) { option = null; }\n        if (s_isStarted) {\n            (0, cubismdebug_1.CubismLogInfo)('CubismFramework.startUp() is already done.');\n            return s_isStarted;\n        }\n        s_option = option;\n        if (s_option != null) {\n            Live2DCubismCore.Logging.csmSetLogFunction(s_option.logFunction);\n        }\n        s_isStarted = true;\n        if (s_isStarted) {\n            var version = Live2DCubismCore.Version.csmGetVersion();\n            var major = (version & 0xff000000) >> 24;\n            var minor = (version & 0x00ff0000) >> 16;\n            var patch = version & 0x0000ffff;\n            var versionNumber = version;\n            (0, cubismdebug_1.CubismLogInfo)(\"Live2D Cubism Core version: {0}.{1}.{2} ({3})\", ('00' + major).slice(-2), ('00' + minor).slice(-2), ('0000' + patch).slice(-4), versionNumber);\n        }\n        (0, cubismdebug_1.CubismLogInfo)('CubismFramework.startUp() is complete.');\n        return s_isStarted;\n    };\n    CubismFramework.cleanUp = function () {\n        s_isStarted = false;\n        s_isInitialized = false;\n        s_option = null;\n        s_cubismIdManager = null;\n    };\n    CubismFramework.initialize = function (memorySize) {\n        if (memorySize === void 0) { memorySize = 0; }\n        (0, cubismdebug_1.CSM_ASSERT)(s_isStarted);\n        if (!s_isStarted) {\n            (0, cubismdebug_1.CubismLogWarning)('CubismFramework is not started.');\n            return;\n        }\n        if (s_isInitialized) {\n            (0, cubismdebug_1.CubismLogWarning)('CubismFramework.initialize() skipped, already initialized.');\n            return;\n        }\n        cubismjson_1.Value.staticInitializeNotForClientCall();\n        s_cubismIdManager = new cubismidmanager_1.CubismIdManager();\n        Live2DCubismCore.Memory.initializeAmountOfMemory(memorySize);\n        s_isInitialized = true;\n        (0, cubismdebug_1.CubismLogInfo)('CubismFramework.initialize() is complete.');\n    };\n    CubismFramework.dispose = function () {\n        (0, cubismdebug_1.CSM_ASSERT)(s_isStarted);\n        if (!s_isStarted) {\n            (0, cubismdebug_1.CubismLogWarning)('CubismFramework is not started.');\n            return;\n        }\n        if (!s_isInitialized) {\n            (0, cubismdebug_1.CubismLogWarning)('CubismFramework.dispose() skipped, not initialized.');\n            return;\n        }\n        cubismjson_1.Value.staticReleaseNotForClientCall();\n        s_cubismIdManager.release();\n        s_cubismIdManager = null;\n        cubismrenderer_1.CubismRenderer.staticRelease();\n        s_isInitialized = false;\n        (0, cubismdebug_1.CubismLogInfo)('CubismFramework.dispose() is complete.');\n    };\n    CubismFramework.isStarted = function () {\n        return s_isStarted;\n    };\n    CubismFramework.isInitialized = function () {\n        return s_isInitialized;\n    };\n    CubismFramework.coreLogFunction = function (message) {\n        if (!Live2DCubismCore.Logging.csmGetLogFunction()) {\n            return;\n        }\n        Live2DCubismCore.Logging.csmGetLogFunction()(message);\n    };\n    CubismFramework.getLoggingLevel = function () {\n        if (s_option != null) {\n            return s_option.loggingLevel;\n        }\n        return LogLevel.LogLevel_Off;\n    };\n    CubismFramework.getIdManager = function () {\n        return s_cubismIdManager;\n    };\n    return CubismFramework;\n}());\nexports.CubismFramework = CubismFramework;\nvar Option = (function () {\n    function Option() {\n    }\n    return Option;\n}());\nexports.Option = Option;\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"LogLevel_Verbose\"] = 0] = \"LogLevel_Verbose\";\n    LogLevel[LogLevel[\"LogLevel_Debug\"] = 1] = \"LogLevel_Debug\";\n    LogLevel[LogLevel[\"LogLevel_Info\"] = 2] = \"LogLevel_Info\";\n    LogLevel[LogLevel[\"LogLevel_Warning\"] = 3] = \"LogLevel_Warning\";\n    LogLevel[LogLevel[\"LogLevel_Error\"] = 4] = \"LogLevel_Error\";\n    LogLevel[LogLevel[\"LogLevel_Off\"] = 5] = \"LogLevel_Off\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nvar $ = __importStar(__webpack_require__(/*! ./live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.Constant = $.Constant;\n    Live2DCubismFramework.csmDelete = $.csmDelete;\n    Live2DCubismFramework.CubismFramework = $.CubismFramework;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/live2dcubismframework.ts?");

/***/ }),

/***/ "./src/live2d/framework/math/cubismmath.ts":
/*!*************************************************!*\
  !*** ./src/live2d/framework/math/cubismmath.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMath = void 0;\nvar cubismvector2_1 = __webpack_require__(/*! ./cubismvector2 */ \"./src/live2d/framework/math/cubismvector2.ts\");\nvar CubismMath = exports.CubismMath = (function () {\n    function CubismMath() {\n    }\n    CubismMath.range = function (value, min, max) {\n        if (value < min) {\n            value = min;\n        }\n        else if (value > max) {\n            value = max;\n        }\n        return value;\n    };\n    CubismMath.sin = function (x) {\n        return Math.sin(x);\n    };\n    CubismMath.cos = function (x) {\n        return Math.cos(x);\n    };\n    CubismMath.abs = function (x) {\n        return Math.abs(x);\n    };\n    CubismMath.sqrt = function (x) {\n        return Math.sqrt(x);\n    };\n    CubismMath.cbrt = function (x) {\n        if (x === 0) {\n            return x;\n        }\n        var cx = x;\n        var isNegativeNumber = cx < 0;\n        if (isNegativeNumber) {\n            cx = -cx;\n        }\n        var ret;\n        if (cx === Infinity) {\n            ret = Infinity;\n        }\n        else {\n            ret = Math.exp(Math.log(cx) / 3);\n            ret = (cx / (ret * ret) + 2 * ret) / 3;\n        }\n        return isNegativeNumber ? -ret : ret;\n    };\n    CubismMath.getEasingSine = function (value) {\n        if (value < 0.0) {\n            return 0.0;\n        }\n        else if (value > 1.0) {\n            return 1.0;\n        }\n        return 0.5 - 0.5 * this.cos(value * Math.PI);\n    };\n    CubismMath.max = function (left, right) {\n        return left > right ? left : right;\n    };\n    CubismMath.min = function (left, right) {\n        return left > right ? right : left;\n    };\n    CubismMath.degreesToRadian = function (degrees) {\n        return (degrees / 180.0) * Math.PI;\n    };\n    CubismMath.radianToDegrees = function (radian) {\n        return (radian * 180.0) / Math.PI;\n    };\n    CubismMath.directionToRadian = function (from, to) {\n        var q1 = Math.atan2(to.y, to.x);\n        var q2 = Math.atan2(from.y, from.x);\n        var ret = q1 - q2;\n        while (ret < -Math.PI) {\n            ret += Math.PI * 2.0;\n        }\n        while (ret > Math.PI) {\n            ret -= Math.PI * 2.0;\n        }\n        return ret;\n    };\n    CubismMath.directionToDegrees = function (from, to) {\n        var radian = this.directionToRadian(from, to);\n        var degree = this.radianToDegrees(radian);\n        if (to.x - from.x > 0.0) {\n            degree = -degree;\n        }\n        return degree;\n    };\n    CubismMath.radianToDirection = function (totalAngle) {\n        var ret = new cubismvector2_1.CubismVector2();\n        ret.x = this.sin(totalAngle);\n        ret.y = this.cos(totalAngle);\n        return ret;\n    };\n    CubismMath.quadraticEquation = function (a, b, c) {\n        if (this.abs(a) < CubismMath.Epsilon) {\n            if (this.abs(b) < CubismMath.Epsilon) {\n                return -c;\n            }\n            return -c / b;\n        }\n        return -(b + this.sqrt(b * b - 4.0 * a * c)) / (2.0 * a);\n    };\n    CubismMath.cardanoAlgorithmForBezier = function (a, b, c, d) {\n        if (this.sqrt(a) < CubismMath.Epsilon) {\n            return this.range(this.quadraticEquation(b, c, d), 0.0, 1.0);\n        }\n        var ba = b / a;\n        var ca = c / a;\n        var da = d / a;\n        var p = (3.0 * ca - ba * ba) / 3.0;\n        var p3 = p / 3.0;\n        var q = (2.0 * ba * ba * ba - 9.0 * ba * ca + 27.0 * da) / 27.0;\n        var q2 = q / 2.0;\n        var discriminant = q2 * q2 + p3 * p3 * p3;\n        var center = 0.5;\n        var threshold = center + 0.01;\n        if (discriminant < 0.0) {\n            var mp3 = -p / 3.0;\n            var mp33 = mp3 * mp3 * mp3;\n            var r = this.sqrt(mp33);\n            var t = -q / (2.0 * r);\n            var cosphi = this.range(t, -1.0, 1.0);\n            var phi = Math.acos(cosphi);\n            var crtr = this.cbrt(r);\n            var t1 = 2.0 * crtr;\n            var root1_1 = t1 * this.cos(phi / 3.0) - ba / 3.0;\n            if (this.abs(root1_1 - center) < threshold) {\n                return this.range(root1_1, 0.0, 1.0);\n            }\n            var root2 = t1 * this.cos((phi + 2.0 * Math.PI) / 3.0) - ba / 3.0;\n            if (this.abs(root2 - center) < threshold) {\n                return this.range(root2, 0.0, 1.0);\n            }\n            var root3 = t1 * this.cos((phi + 4.0 * Math.PI) / 3.0) - ba / 3.0;\n            return this.range(root3, 0.0, 1.0);\n        }\n        if (discriminant == 0.0) {\n            var u1_1;\n            if (q2 < 0.0) {\n                u1_1 = this.cbrt(-q2);\n            }\n            else {\n                u1_1 = -this.cbrt(q2);\n            }\n            var root1_2 = 2.0 * u1_1 - ba / 3.0;\n            if (this.abs(root1_2 - center) < threshold) {\n                return this.range(root1_2, 0.0, 1.0);\n            }\n            var root2 = -u1_1 - ba / 3.0;\n            return this.range(root2, 0.0, 1.0);\n        }\n        var sd = this.sqrt(discriminant);\n        var u1 = this.cbrt(sd - q2);\n        var v1 = this.cbrt(sd + q2);\n        var root1 = u1 - v1 - ba / 3.0;\n        return this.range(root1, 0.0, 1.0);\n    };\n    CubismMath.Epsilon = 0.00001;\n    return CubismMath;\n}());\nvar $ = __importStar(__webpack_require__(/*! ./cubismmath */ \"./src/live2d/framework/math/cubismmath.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMath = $.CubismMath;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/math/cubismmath.ts?");

/***/ }),

/***/ "./src/live2d/framework/math/cubismmatrix44.ts":
/*!*****************************************************!*\
  !*** ./src/live2d/framework/math/cubismmatrix44.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMatrix44 = void 0;\nvar CubismMatrix44 = (function () {\n    function CubismMatrix44() {\n        this._tr = new Float32Array(16);\n        this.loadIdentity();\n    }\n    CubismMatrix44.multiply = function (a, b, dst) {\n        var c = new Float32Array([\n            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,\n            0.0,\n        ]);\n        var n = 4;\n        for (var i = 0; i < n; ++i) {\n            for (var j = 0; j < n; ++j) {\n                for (var k = 0; k < n; ++k) {\n                    c[j + i * 4] += a[k + i * 4] * b[j + k * 4];\n                }\n            }\n        }\n        for (var i = 0; i < 16; ++i) {\n            dst[i] = c[i];\n        }\n    };\n    CubismMatrix44.prototype.loadIdentity = function () {\n        var c = new Float32Array([\n            1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0,\n            1.0,\n        ]);\n        this.setMatrix(c);\n    };\n    CubismMatrix44.prototype.setMatrix = function (tr) {\n        for (var i = 0; i < 16; ++i) {\n            this._tr[i] = tr[i];\n        }\n    };\n    CubismMatrix44.prototype.getArray = function () {\n        return this._tr;\n    };\n    CubismMatrix44.prototype.getScaleX = function () {\n        return this._tr[0];\n    };\n    CubismMatrix44.prototype.getScaleY = function () {\n        return this._tr[5];\n    };\n    CubismMatrix44.prototype.getTranslateX = function () {\n        return this._tr[12];\n    };\n    CubismMatrix44.prototype.getTranslateY = function () {\n        return this._tr[13];\n    };\n    CubismMatrix44.prototype.transformX = function (src) {\n        return this._tr[0] * src + this._tr[12];\n    };\n    CubismMatrix44.prototype.transformY = function (src) {\n        return this._tr[5] * src + this._tr[13];\n    };\n    CubismMatrix44.prototype.invertTransformX = function (src) {\n        return (src - this._tr[12]) / this._tr[0];\n    };\n    CubismMatrix44.prototype.invertTransformY = function (src) {\n        return (src - this._tr[13]) / this._tr[5];\n    };\n    CubismMatrix44.prototype.translateRelative = function (x, y) {\n        var tr1 = new Float32Array([\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            x,\n            y,\n            0.0,\n            1.0,\n        ]);\n        CubismMatrix44.multiply(tr1, this._tr, this._tr);\n    };\n    CubismMatrix44.prototype.translate = function (x, y) {\n        this._tr[12] = x;\n        this._tr[13] = y;\n    };\n    CubismMatrix44.prototype.translateX = function (x) {\n        this._tr[12] = x;\n    };\n    CubismMatrix44.prototype.translateY = function (y) {\n        this._tr[13] = y;\n    };\n    CubismMatrix44.prototype.scaleRelative = function (x, y) {\n        var tr1 = new Float32Array([\n            x,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            y,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n        ]);\n        CubismMatrix44.multiply(tr1, this._tr, this._tr);\n    };\n    CubismMatrix44.prototype.scale = function (x, y) {\n        this._tr[0] = x;\n        this._tr[5] = y;\n    };\n    CubismMatrix44.prototype.multiplyByMatrix = function (m) {\n        CubismMatrix44.multiply(m.getArray(), this._tr, this._tr);\n    };\n    CubismMatrix44.prototype.clone = function () {\n        var cloneMatrix = new CubismMatrix44();\n        for (var i = 0; i < this._tr.length; i++) {\n            cloneMatrix._tr[i] = this._tr[i];\n        }\n        return cloneMatrix;\n    };\n    return CubismMatrix44;\n}());\nexports.CubismMatrix44 = CubismMatrix44;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmatrix44 */ \"./src/live2d/framework/math/cubismmatrix44.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMatrix44 = $.CubismMatrix44;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/math/cubismmatrix44.ts?");

/***/ }),

/***/ "./src/live2d/framework/math/cubismmodelmatrix.ts":
/*!********************************************************!*\
  !*** ./src/live2d/framework/math/cubismmodelmatrix.ts ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModelMatrix = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! ./cubismmatrix44 */ \"./src/live2d/framework/math/cubismmatrix44.ts\");\nvar CubismModelMatrix = (function (_super) {\n    __extends(CubismModelMatrix, _super);\n    function CubismModelMatrix(w, h) {\n        var _this = _super.call(this) || this;\n        _this._width = w !== undefined ? w : 0.0;\n        _this._height = h !== undefined ? h : 0.0;\n        _this.setHeight(2.0);\n        return _this;\n    }\n    CubismModelMatrix.prototype.setWidth = function (w) {\n        var scaleX = w / this._width;\n        var scaleY = scaleX;\n        this.scale(scaleX, scaleY);\n    };\n    CubismModelMatrix.prototype.setHeight = function (h) {\n        var scaleX = h / this._height;\n        var scaleY = scaleX;\n        this.scale(scaleX, scaleY);\n    };\n    CubismModelMatrix.prototype.setPosition = function (x, y) {\n        this.translate(x, y);\n    };\n    CubismModelMatrix.prototype.setCenterPosition = function (x, y) {\n        this.centerX(x);\n        this.centerY(y);\n    };\n    CubismModelMatrix.prototype.top = function (y) {\n        this.setY(y);\n    };\n    CubismModelMatrix.prototype.bottom = function (y) {\n        var h = this._height * this.getScaleY();\n        this.translateY(y - h);\n    };\n    CubismModelMatrix.prototype.left = function (x) {\n        this.setX(x);\n    };\n    CubismModelMatrix.prototype.right = function (x) {\n        var w = this._width * this.getScaleX();\n        this.translateX(x - w);\n    };\n    CubismModelMatrix.prototype.centerX = function (x) {\n        var w = this._width * this.getScaleX();\n        this.translateX(x - w / 2.0);\n    };\n    CubismModelMatrix.prototype.setX = function (x) {\n        this.translateX(x);\n    };\n    CubismModelMatrix.prototype.centerY = function (y) {\n        var h = this._height * this.getScaleY();\n        this.translateY(y - h / 2.0);\n    };\n    CubismModelMatrix.prototype.setY = function (y) {\n        this.translateY(y);\n    };\n    CubismModelMatrix.prototype.setupFromLayout = function (layout) {\n        var keyWidth = 'width';\n        var keyHeight = 'height';\n        var keyX = 'x';\n        var keyY = 'y';\n        var keyCenterX = 'center_x';\n        var keyCenterY = 'center_y';\n        var keyTop = 'top';\n        var keyBottom = 'bottom';\n        var keyLeft = 'left';\n        var keyRight = 'right';\n        for (var ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\n            var key = ite.ptr().first;\n            var value = ite.ptr().second;\n            if (key == keyWidth) {\n                this.setWidth(value);\n            }\n            else if (key == keyHeight) {\n                this.setHeight(value);\n            }\n        }\n        for (var ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\n            var key = ite.ptr().first;\n            var value = ite.ptr().second;\n            if (key == keyX) {\n                this.setX(value);\n            }\n            else if (key == keyY) {\n                this.setY(value);\n            }\n            else if (key == keyCenterX) {\n                this.centerX(value);\n            }\n            else if (key == keyCenterY) {\n                this.centerY(value);\n            }\n            else if (key == keyTop) {\n                this.top(value);\n            }\n            else if (key == keyBottom) {\n                this.bottom(value);\n            }\n            else if (key == keyLeft) {\n                this.left(value);\n            }\n            else if (key == keyRight) {\n                this.right(value);\n            }\n        }\n    };\n    return CubismModelMatrix;\n}(cubismmatrix44_1.CubismMatrix44));\nexports.CubismModelMatrix = CubismModelMatrix;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmodelmatrix */ \"./src/live2d/framework/math/cubismmodelmatrix.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModelMatrix = $.CubismModelMatrix;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/math/cubismmodelmatrix.ts?");

/***/ }),

/***/ "./src/live2d/framework/math/cubismtargetpoint.ts":
/*!********************************************************!*\
  !*** ./src/live2d/framework/math/cubismtargetpoint.ts ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismTargetPoint = void 0;\nvar cubismmath_1 = __webpack_require__(/*! ./cubismmath */ \"./src/live2d/framework/math/cubismmath.ts\");\nvar FrameRate = 30;\nvar Epsilon = 0.01;\nvar CubismTargetPoint = (function () {\n    function CubismTargetPoint() {\n        this._faceTargetX = 0.0;\n        this._faceTargetY = 0.0;\n        this._faceX = 0.0;\n        this._faceY = 0.0;\n        this._faceVX = 0.0;\n        this._faceVY = 0.0;\n        this._lastTimeSeconds = 0.0;\n        this._userTimeSeconds = 0.0;\n    }\n    CubismTargetPoint.prototype.update = function (deltaTimeSeconds) {\n        this._userTimeSeconds += deltaTimeSeconds;\n        var faceParamMaxV = 40.0 / 10.0;\n        var maxV = (faceParamMaxV * 1.0) / FrameRate;\n        if (this._lastTimeSeconds == 0.0) {\n            this._lastTimeSeconds = this._userTimeSeconds;\n            return;\n        }\n        var deltaTimeWeight = (this._userTimeSeconds - this._lastTimeSeconds) * FrameRate;\n        this._lastTimeSeconds = this._userTimeSeconds;\n        var timeToMaxSpeed = 0.15;\n        var frameToMaxSpeed = timeToMaxSpeed * FrameRate;\n        var maxA = (deltaTimeWeight * maxV) / frameToMaxSpeed;\n        var dx = this._faceTargetX - this._faceX;\n        var dy = this._faceTargetY - this._faceY;\n        if (cubismmath_1.CubismMath.abs(dx) <= Epsilon && cubismmath_1.CubismMath.abs(dy) <= Epsilon) {\n            return;\n        }\n        var d = cubismmath_1.CubismMath.sqrt(dx * dx + dy * dy);\n        var vx = (maxV * dx) / d;\n        var vy = (maxV * dy) / d;\n        var ax = vx - this._faceVX;\n        var ay = vy - this._faceVY;\n        var a = cubismmath_1.CubismMath.sqrt(ax * ax + ay * ay);\n        if (a < -maxA || a > maxA) {\n            ax *= maxA / a;\n            ay *= maxA / a;\n        }\n        this._faceVX += ax;\n        this._faceVY += ay;\n        {\n            var maxV_1 = 0.5 *\n                (cubismmath_1.CubismMath.sqrt(maxA * maxA + 16.0 * maxA * d - 8.0 * maxA * d) -\n                    maxA);\n            var curV = cubismmath_1.CubismMath.sqrt(this._faceVX * this._faceVX + this._faceVY * this._faceVY);\n            if (curV > maxV_1) {\n                this._faceVX *= maxV_1 / curV;\n                this._faceVY *= maxV_1 / curV;\n            }\n        }\n        this._faceX += this._faceVX;\n        this._faceY += this._faceVY;\n    };\n    CubismTargetPoint.prototype.getX = function () {\n        return this._faceX;\n    };\n    CubismTargetPoint.prototype.getY = function () {\n        return this._faceY;\n    };\n    CubismTargetPoint.prototype.set = function (x, y) {\n        this._faceTargetX = x;\n        this._faceTargetY = y;\n    };\n    return CubismTargetPoint;\n}());\nexports.CubismTargetPoint = CubismTargetPoint;\nvar $ = __importStar(__webpack_require__(/*! ./cubismtargetpoint */ \"./src/live2d/framework/math/cubismtargetpoint.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismTargetPoint = $.CubismTargetPoint;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/math/cubismtargetpoint.ts?");

/***/ }),

/***/ "./src/live2d/framework/math/cubismvector2.ts":
/*!****************************************************!*\
  !*** ./src/live2d/framework/math/cubismvector2.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismVector2 = void 0;\nvar CubismVector2 = (function () {\n    function CubismVector2(x, y) {\n        this.x = x;\n        this.y = y;\n        this.x = x == undefined ? 0.0 : x;\n        this.y = y == undefined ? 0.0 : y;\n    }\n    CubismVector2.prototype.add = function (vector2) {\n        var ret = new CubismVector2(0.0, 0.0);\n        ret.x = this.x + vector2.x;\n        ret.y = this.y + vector2.y;\n        return ret;\n    };\n    CubismVector2.prototype.substract = function (vector2) {\n        var ret = new CubismVector2(0.0, 0.0);\n        ret.x = this.x - vector2.x;\n        ret.y = this.y - vector2.y;\n        return ret;\n    };\n    CubismVector2.prototype.multiply = function (vector2) {\n        var ret = new CubismVector2(0.0, 0.0);\n        ret.x = this.x * vector2.x;\n        ret.y = this.y * vector2.y;\n        return ret;\n    };\n    CubismVector2.prototype.multiplyByScaler = function (scalar) {\n        return this.multiply(new CubismVector2(scalar, scalar));\n    };\n    CubismVector2.prototype.division = function (vector2) {\n        var ret = new CubismVector2(0.0, 0.0);\n        ret.x = this.x / vector2.x;\n        ret.y = this.y / vector2.y;\n        return ret;\n    };\n    CubismVector2.prototype.divisionByScalar = function (scalar) {\n        return this.division(new CubismVector2(scalar, scalar));\n    };\n    CubismVector2.prototype.getLength = function () {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    };\n    CubismVector2.prototype.getDistanceWith = function (a) {\n        return Math.sqrt((this.x - a.x) * (this.x - a.x) + (this.y - a.y) * (this.y - a.y));\n    };\n    CubismVector2.prototype.dot = function (a) {\n        return this.x * a.x + this.y * a.y;\n    };\n    CubismVector2.prototype.normalize = function () {\n        var length = Math.pow(this.x * this.x + this.y * this.y, 0.5);\n        this.x = this.x / length;\n        this.y = this.y / length;\n    };\n    CubismVector2.prototype.isEqual = function (rhs) {\n        return this.x == rhs.x && this.y == rhs.y;\n    };\n    CubismVector2.prototype.isNotEqual = function (rhs) {\n        return !this.isEqual(rhs);\n    };\n    return CubismVector2;\n}());\nexports.CubismVector2 = CubismVector2;\nvar $ = __importStar(__webpack_require__(/*! ./cubismvector2 */ \"./src/live2d/framework/math/cubismvector2.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismVector2 = $.CubismVector2;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/math/cubismvector2.ts?");

/***/ }),

/***/ "./src/live2d/framework/math/cubismviewmatrix.ts":
/*!*******************************************************!*\
  !*** ./src/live2d/framework/math/cubismviewmatrix.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismViewMatrix = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! ./cubismmatrix44 */ \"./src/live2d/framework/math/cubismmatrix44.ts\");\nvar CubismViewMatrix = (function (_super) {\n    __extends(CubismViewMatrix, _super);\n    function CubismViewMatrix() {\n        var _this = _super.call(this) || this;\n        _this._screenLeft = 0.0;\n        _this._screenRight = 0.0;\n        _this._screenTop = 0.0;\n        _this._screenBottom = 0.0;\n        _this._maxLeft = 0.0;\n        _this._maxRight = 0.0;\n        _this._maxTop = 0.0;\n        _this._maxBottom = 0.0;\n        _this._maxScale = 0.0;\n        _this._minScale = 0.0;\n        return _this;\n    }\n    CubismViewMatrix.prototype.adjustTranslate = function (x, y) {\n        if (this._tr[0] * this._maxLeft + (this._tr[12] + x) > this._screenLeft) {\n            x = this._screenLeft - this._tr[0] * this._maxLeft - this._tr[12];\n        }\n        if (this._tr[0] * this._maxRight + (this._tr[12] + x) < this._screenRight) {\n            x = this._screenRight - this._tr[0] * this._maxRight - this._tr[12];\n        }\n        if (this._tr[5] * this._maxTop + (this._tr[13] + y) < this._screenTop) {\n            y = this._screenTop - this._tr[5] * this._maxTop - this._tr[13];\n        }\n        if (this._tr[5] * this._maxBottom + (this._tr[13] + y) >\n            this._screenBottom) {\n            y = this._screenBottom - this._tr[5] * this._maxBottom - this._tr[13];\n        }\n        var tr1 = new Float32Array([\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            x,\n            y,\n            0.0,\n            1.0,\n        ]);\n        cubismmatrix44_1.CubismMatrix44.multiply(tr1, this._tr, this._tr);\n    };\n    CubismViewMatrix.prototype.adjustScale = function (cx, cy, scale) {\n        var maxScale = this.getMaxScale();\n        var minScale = this.getMinScale();\n        var targetScale = scale * this._tr[0];\n        if (targetScale < minScale) {\n            if (this._tr[0] > 0.0) {\n                scale = minScale / this._tr[0];\n            }\n        }\n        else if (targetScale > maxScale) {\n            if (this._tr[0] > 0.0) {\n                scale = maxScale / this._tr[0];\n            }\n        }\n        var tr1 = new Float32Array([\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            cx,\n            cy,\n            0.0,\n            1.0,\n        ]);\n        var tr2 = new Float32Array([\n            scale,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            scale,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n        ]);\n        var tr3 = new Float32Array([\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            -cx,\n            -cy,\n            0.0,\n            1.0,\n        ]);\n        cubismmatrix44_1.CubismMatrix44.multiply(tr3, this._tr, this._tr);\n        cubismmatrix44_1.CubismMatrix44.multiply(tr2, this._tr, this._tr);\n        cubismmatrix44_1.CubismMatrix44.multiply(tr1, this._tr, this._tr);\n    };\n    CubismViewMatrix.prototype.setScreenRect = function (left, right, bottom, top) {\n        this._screenLeft = left;\n        this._screenRight = right;\n        this._screenBottom = bottom;\n        this._screenTop = top;\n    };\n    CubismViewMatrix.prototype.setMaxScreenRect = function (left, right, bottom, top) {\n        this._maxLeft = left;\n        this._maxRight = right;\n        this._maxTop = top;\n        this._maxBottom = bottom;\n    };\n    CubismViewMatrix.prototype.setMaxScale = function (maxScale) {\n        this._maxScale = maxScale;\n    };\n    CubismViewMatrix.prototype.setMinScale = function (minScale) {\n        this._minScale = minScale;\n    };\n    CubismViewMatrix.prototype.getMaxScale = function () {\n        return this._maxScale;\n    };\n    CubismViewMatrix.prototype.getMinScale = function () {\n        return this._minScale;\n    };\n    CubismViewMatrix.prototype.isMaxScale = function () {\n        return this.getScaleX() >= this._maxScale;\n    };\n    CubismViewMatrix.prototype.isMinScale = function () {\n        return this.getScaleX() <= this._minScale;\n    };\n    CubismViewMatrix.prototype.getScreenLeft = function () {\n        return this._screenLeft;\n    };\n    CubismViewMatrix.prototype.getScreenRight = function () {\n        return this._screenRight;\n    };\n    CubismViewMatrix.prototype.getScreenBottom = function () {\n        return this._screenBottom;\n    };\n    CubismViewMatrix.prototype.getScreenTop = function () {\n        return this._screenTop;\n    };\n    CubismViewMatrix.prototype.getMaxLeft = function () {\n        return this._maxLeft;\n    };\n    CubismViewMatrix.prototype.getMaxRight = function () {\n        return this._maxRight;\n    };\n    CubismViewMatrix.prototype.getMaxBottom = function () {\n        return this._maxBottom;\n    };\n    CubismViewMatrix.prototype.getMaxTop = function () {\n        return this._maxTop;\n    };\n    return CubismViewMatrix;\n}(cubismmatrix44_1.CubismMatrix44));\nexports.CubismViewMatrix = CubismViewMatrix;\nvar $ = __importStar(__webpack_require__(/*! ./cubismviewmatrix */ \"./src/live2d/framework/math/cubismviewmatrix.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismViewMatrix = $.CubismViewMatrix;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/math/cubismviewmatrix.ts?");

/***/ }),

/***/ "./src/live2d/framework/model/cubismmoc.ts":
/*!*************************************************!*\
  !*** ./src/live2d/framework/model/cubismmoc.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMoc = void 0;\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar cubismmodel_1 = __webpack_require__(/*! ./cubismmodel */ \"./src/live2d/framework/model/cubismmodel.ts\");\nvar CubismMoc = (function () {\n    function CubismMoc(moc) {\n        this._moc = moc;\n        this._modelCount = 0;\n        this._mocVersion = 0;\n    }\n    CubismMoc.create = function (mocBytes, shouldCheckMocConsistency) {\n        var cubismMoc = null;\n        if (shouldCheckMocConsistency) {\n            var consistency = this.hasMocConsistency(mocBytes);\n            if (!consistency) {\n                (0, cubismdebug_1.CubismLogError)(\"Inconsistent MOC3.\");\n                return cubismMoc;\n            }\n        }\n        var moc = Live2DCubismCore.Moc.fromArrayBuffer(mocBytes);\n        if (moc) {\n            cubismMoc = new CubismMoc(moc);\n            cubismMoc._mocVersion = Live2DCubismCore.Version.csmGetMocVersion(moc, mocBytes);\n        }\n        return cubismMoc;\n    };\n    CubismMoc.delete = function (moc) {\n        moc._moc._release();\n        moc._moc = null;\n        moc = null;\n    };\n    CubismMoc.prototype.createModel = function () {\n        var cubismModel = null;\n        var model = Live2DCubismCore.Model.fromMoc(this._moc);\n        if (model) {\n            cubismModel = new cubismmodel_1.CubismModel(model);\n            cubismModel.initialize();\n            ++this._modelCount;\n        }\n        return cubismModel;\n    };\n    CubismMoc.prototype.deleteModel = function (model) {\n        if (model != null) {\n            model.release();\n            model = null;\n            --this._modelCount;\n        }\n    };\n    CubismMoc.prototype.release = function () {\n        (0, cubismdebug_1.CSM_ASSERT)(this._modelCount == 0);\n        this._moc._release();\n        this._moc = null;\n    };\n    CubismMoc.prototype.getLatestMocVersion = function () {\n        return Live2DCubismCore.Version.csmGetLatestMocVersion();\n    };\n    CubismMoc.prototype.getMocVersion = function () {\n        return this._mocVersion;\n    };\n    CubismMoc.hasMocConsistency = function (mocBytes) {\n        var isConsistent = Live2DCubismCore.Moc.prototype.hasMocConsistency(mocBytes);\n        return isConsistent === 1 ? true : false;\n    };\n    return CubismMoc;\n}());\nexports.CubismMoc = CubismMoc;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmoc */ \"./src/live2d/framework/model/cubismmoc.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMoc = $.CubismMoc;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/model/cubismmoc.ts?");

/***/ }),

/***/ "./src/live2d/framework/model/cubismmodel.ts":
/*!***************************************************!*\
  !*** ./src/live2d/framework/model/cubismmodel.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModel = exports.DrawableCullingData = exports.PartColorData = exports.DrawableColorData = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar cubismrenderer_1 = __webpack_require__(/*! ../rendering/cubismrenderer */ \"./src/live2d/framework/rendering/cubismrenderer.ts\");\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./src/live2d/framework/type/csmmap.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar DrawableColorData = (function () {\n    function DrawableColorData(isOverwritten, color) {\n        if (isOverwritten === void 0) { isOverwritten = false; }\n        if (color === void 0) { color = new cubismrenderer_1.CubismTextureColor(); }\n        this.isOverwritten = isOverwritten;\n        this.Color = color;\n    }\n    return DrawableColorData;\n}());\nexports.DrawableColorData = DrawableColorData;\nvar PartColorData = (function () {\n    function PartColorData(isOverwritten, color) {\n        if (isOverwritten === void 0) { isOverwritten = false; }\n        if (color === void 0) { color = new cubismrenderer_1.CubismTextureColor(); }\n        this.isOverwritten = isOverwritten;\n        this.Color = color;\n    }\n    return PartColorData;\n}());\nexports.PartColorData = PartColorData;\nvar DrawableCullingData = (function () {\n    function DrawableCullingData(isOverwritten, isCulling) {\n        if (isOverwritten === void 0) { isOverwritten = false; }\n        if (isCulling === void 0) { isCulling = false; }\n        this.isOverwritten = isOverwritten;\n        this.isCulling = isCulling;\n    }\n    return DrawableCullingData;\n}());\nexports.DrawableCullingData = DrawableCullingData;\nvar CubismModel = (function () {\n    function CubismModel(model) {\n        this._model = model;\n        this._parameterValues = null;\n        this._parameterMaximumValues = null;\n        this._parameterMinimumValues = null;\n        this._partOpacities = null;\n        this._savedParameters = new csmvector_1.csmVector();\n        this._parameterIds = new csmvector_1.csmVector();\n        this._drawableIds = new csmvector_1.csmVector();\n        this._partIds = new csmvector_1.csmVector();\n        this._isOverwrittenModelMultiplyColors = false;\n        this._isOverwrittenModelScreenColors = false;\n        this._isOverwrittenCullings = false;\n        this._modelOpacity = 1.0;\n        this._userMultiplyColors = new csmvector_1.csmVector();\n        this._userScreenColors = new csmvector_1.csmVector();\n        this._userCullings = new csmvector_1.csmVector();\n        this._userPartMultiplyColors = new csmvector_1.csmVector();\n        this._userPartScreenColors = new csmvector_1.csmVector();\n        this._partChildDrawables = new csmvector_1.csmVector();\n        this._notExistPartId = new csmmap_1.csmMap();\n        this._notExistParameterId = new csmmap_1.csmMap();\n        this._notExistParameterValues = new csmmap_1.csmMap();\n        this._notExistPartOpacities = new csmmap_1.csmMap();\n    }\n    CubismModel.prototype.update = function () {\n        this._model.update();\n        this._model.drawables.resetDynamicFlags();\n    };\n    CubismModel.prototype.getPixelsPerUnit = function () {\n        if (this._model == null) {\n            return 0.0;\n        }\n        return this._model.canvasinfo.PixelsPerUnit;\n    };\n    CubismModel.prototype.getCanvasWidth = function () {\n        if (this._model == null) {\n            return 0.0;\n        }\n        return (this._model.canvasinfo.CanvasWidth / this._model.canvasinfo.PixelsPerUnit);\n    };\n    CubismModel.prototype.getCanvasHeight = function () {\n        if (this._model == null) {\n            return 0.0;\n        }\n        return (this._model.canvasinfo.CanvasHeight / this._model.canvasinfo.PixelsPerUnit);\n    };\n    CubismModel.prototype.saveParameters = function () {\n        var parameterCount = this._model.parameters.count;\n        var savedParameterCount = this._savedParameters.getSize();\n        for (var i = 0; i < parameterCount; ++i) {\n            if (i < savedParameterCount) {\n                this._savedParameters.set(i, this._parameterValues[i]);\n            }\n            else {\n                this._savedParameters.pushBack(this._parameterValues[i]);\n            }\n        }\n    };\n    CubismModel.prototype.getMultiplyColor = function (index) {\n        if (this.getOverwriteFlagForModelMultiplyColors() ||\n            this.getOverwriteFlagForDrawableMultiplyColors(index)) {\n            return this._userMultiplyColors.at(index).Color;\n        }\n        var color = this.getDrawableMultiplyColor(index);\n        return color;\n    };\n    CubismModel.prototype.getScreenColor = function (index) {\n        if (this.getOverwriteFlagForModelScreenColors() ||\n            this.getOverwriteFlagForDrawableScreenColors(index)) {\n            return this._userScreenColors.at(index).Color;\n        }\n        var color = this.getDrawableScreenColor(index);\n        return color;\n    };\n    CubismModel.prototype.setMultiplyColorByTextureColor = function (index, color) {\n        this.setMultiplyColorByRGBA(index, color.R, color.G, color.B, color.A);\n    };\n    CubismModel.prototype.setMultiplyColorByRGBA = function (index, r, g, b, a) {\n        if (a === void 0) { a = 1.0; }\n        this._userMultiplyColors.at(index).Color.R = r;\n        this._userMultiplyColors.at(index).Color.G = g;\n        this._userMultiplyColors.at(index).Color.B = b;\n        this._userMultiplyColors.at(index).Color.A = a;\n    };\n    CubismModel.prototype.setScreenColorByTextureColor = function (index, color) {\n        this.setScreenColorByRGBA(index, color.R, color.G, color.B, color.A);\n    };\n    CubismModel.prototype.setScreenColorByRGBA = function (index, r, g, b, a) {\n        if (a === void 0) { a = 1.0; }\n        this._userScreenColors.at(index).Color.R = r;\n        this._userScreenColors.at(index).Color.G = g;\n        this._userScreenColors.at(index).Color.B = b;\n        this._userScreenColors.at(index).Color.A = a;\n    };\n    CubismModel.prototype.getPartMultiplyColor = function (partIndex) {\n        return this._userPartMultiplyColors.at(partIndex).Color;\n    };\n    CubismModel.prototype.getPartScreenColor = function (partIndex) {\n        return this._userPartScreenColors.at(partIndex).Color;\n    };\n    CubismModel.prototype.setPartColor = function (partIndex, r, g, b, a, partColors, drawableColors) {\n        partColors.at(partIndex).Color.R = r;\n        partColors.at(partIndex).Color.G = g;\n        partColors.at(partIndex).Color.B = b;\n        partColors.at(partIndex).Color.A = a;\n        if (partColors.at(partIndex).isOverwritten) {\n            for (var i = 0; i < this._partChildDrawables.at(partIndex).getSize(); ++i) {\n                var drawableIndex = this._partChildDrawables.at(partIndex).at(i);\n                drawableColors.at(drawableIndex).Color.R = r;\n                drawableColors.at(drawableIndex).Color.G = g;\n                drawableColors.at(drawableIndex).Color.B = b;\n                drawableColors.at(drawableIndex).Color.A = a;\n            }\n        }\n    };\n    CubismModel.prototype.setPartMultiplyColorByTextureColor = function (partIndex, color) {\n        this.setPartMultiplyColorByRGBA(partIndex, color.R, color.G, color.B, color.A);\n    };\n    CubismModel.prototype.setPartMultiplyColorByRGBA = function (partIndex, r, g, b, a) {\n        this.setPartColor(partIndex, r, g, b, a, this._userPartMultiplyColors, this._userMultiplyColors);\n    };\n    CubismModel.prototype.setPartScreenColorByTextureColor = function (partIndex, color) {\n        this.setPartScreenColorByRGBA(partIndex, color.R, color.G, color.B, color.A);\n    };\n    CubismModel.prototype.setPartScreenColorByRGBA = function (partIndex, r, g, b, a) {\n        this.setPartColor(partIndex, r, g, b, a, this._userPartScreenColors, this._userScreenColors);\n    };\n    CubismModel.prototype.getOverwriteFlagForModelMultiplyColors = function () {\n        return this._isOverwrittenModelMultiplyColors;\n    };\n    CubismModel.prototype.getOverwriteFlagForModelScreenColors = function () {\n        return this._isOverwrittenModelScreenColors;\n    };\n    CubismModel.prototype.setOverwriteFlagForModelMultiplyColors = function (value) {\n        this._isOverwrittenModelMultiplyColors = value;\n    };\n    CubismModel.prototype.setOverwriteFlagForModelScreenColors = function (value) {\n        this._isOverwrittenModelScreenColors = value;\n    };\n    CubismModel.prototype.getOverwriteFlagForDrawableMultiplyColors = function (drawableindex) {\n        return this._userMultiplyColors.at(drawableindex).isOverwritten;\n    };\n    CubismModel.prototype.getOverwriteFlagForDrawableScreenColors = function (drawableindex) {\n        return this._userScreenColors.at(drawableindex).isOverwritten;\n    };\n    CubismModel.prototype.setOverwriteFlagForDrawableMultiplyColors = function (drawableindex, value) {\n        this._userMultiplyColors.at(drawableindex).isOverwritten = value;\n    };\n    CubismModel.prototype.setOverwriteFlagForDrawableScreenColors = function (drawableindex, value) {\n        this._userScreenColors.at(drawableindex).isOverwritten = value;\n    };\n    CubismModel.prototype.getOverwriteColorForPartMultiplyColors = function (partIndex) {\n        return this._userPartMultiplyColors.at(partIndex).isOverwritten;\n    };\n    CubismModel.prototype.getOverwriteColorForPartScreenColors = function (partIndex) {\n        return this._userPartScreenColors.at(partIndex).isOverwritten;\n    };\n    CubismModel.prototype.setOverwriteColorForPartColors = function (partIndex, value, partColors, drawableColors) {\n        partColors.at(partIndex).isOverwritten = value;\n        for (var i = 0; i < this._partChildDrawables.at(partIndex).getSize(); ++i) {\n            var drawableIndex = this._partChildDrawables.at(partIndex).at(i);\n            drawableColors.at(drawableIndex).isOverwritten = value;\n            if (value) {\n                drawableColors.at(drawableIndex).Color.R =\n                    partColors.at(partIndex).Color.R;\n                drawableColors.at(drawableIndex).Color.G =\n                    partColors.at(partIndex).Color.G;\n                drawableColors.at(drawableIndex).Color.B =\n                    partColors.at(partIndex).Color.B;\n                drawableColors.at(drawableIndex).Color.A =\n                    partColors.at(partIndex).Color.A;\n            }\n        }\n    };\n    CubismModel.prototype.setOverwriteColorForPartMultiplyColors = function (partIndex, value) {\n        this._userPartMultiplyColors.at(partIndex).isOverwritten = value;\n        this.setOverwriteColorForPartColors(partIndex, value, this._userPartMultiplyColors, this._userMultiplyColors);\n    };\n    CubismModel.prototype.setOverwriteColorForPartScreenColors = function (partIndex, value) {\n        this._userPartScreenColors.at(partIndex).isOverwritten = value;\n        this.setOverwriteColorForPartColors(partIndex, value, this._userPartScreenColors, this._userScreenColors);\n    };\n    CubismModel.prototype.getDrawableCulling = function (drawableIndex) {\n        if (this.getOverwriteFlagForModelCullings() ||\n            this.getOverwriteFlagForDrawableCullings(drawableIndex)) {\n            return this._userCullings.at(drawableIndex).isCulling;\n        }\n        var constantFlags = this._model.drawables.constantFlags;\n        return !Live2DCubismCore.Utils.hasIsDoubleSidedBit(constantFlags[drawableIndex]);\n    };\n    CubismModel.prototype.setDrawableCulling = function (drawableIndex, isCulling) {\n        this._userCullings.at(drawableIndex).isCulling = isCulling;\n    };\n    CubismModel.prototype.getOverwriteFlagForModelCullings = function () {\n        return this._isOverwrittenCullings;\n    };\n    CubismModel.prototype.setOverwriteFlagForModelCullings = function (isOverwrittenCullings) {\n        this._isOverwrittenCullings = isOverwrittenCullings;\n    };\n    CubismModel.prototype.getOverwriteFlagForDrawableCullings = function (drawableIndex) {\n        return this._userCullings.at(drawableIndex).isOverwritten;\n    };\n    CubismModel.prototype.setOverwriteFlagForDrawableCullings = function (drawableIndex, isOverwrittenCullings) {\n        this._userCullings.at(drawableIndex).isOverwritten = isOverwrittenCullings;\n    };\n    CubismModel.prototype.getModelOapcity = function () {\n        return this._modelOpacity;\n    };\n    CubismModel.prototype.setModelOapcity = function (value) {\n        this._modelOpacity = value;\n    };\n    CubismModel.prototype.getModel = function () {\n        return this._model;\n    };\n    CubismModel.prototype.getPartIndex = function (partId) {\n        var partIndex;\n        var partCount = this._model.parts.count;\n        for (partIndex = 0; partIndex < partCount; ++partIndex) {\n            if (partId == this._partIds.at(partIndex)) {\n                return partIndex;\n            }\n        }\n        if (this._notExistPartId.isExist(partId)) {\n            return this._notExistPartId.getValue(partId);\n        }\n        partIndex = partCount + this._notExistPartId.getSize();\n        this._notExistPartId.setValue(partId, partIndex);\n        this._notExistPartOpacities.appendKey(partIndex);\n        return partIndex;\n    };\n    CubismModel.prototype.getPartId = function (partIndex) {\n        var partId = this._model.parts.ids[partIndex];\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(partId);\n    };\n    CubismModel.prototype.getPartCount = function () {\n        var partCount = this._model.parts.count;\n        return partCount;\n    };\n    CubismModel.prototype.setPartOpacityByIndex = function (partIndex, opacity) {\n        if (this._notExistPartOpacities.isExist(partIndex)) {\n            this._notExistPartOpacities.setValue(partIndex, opacity);\n            return;\n        }\n        (0, cubismdebug_1.CSM_ASSERT)(0 <= partIndex && partIndex < this.getPartCount());\n        this._partOpacities[partIndex] = opacity;\n    };\n    CubismModel.prototype.setPartOpacityById = function (partId, opacity) {\n        var index = this.getPartIndex(partId);\n        if (index < 0) {\n            return;\n        }\n        this.setPartOpacityByIndex(index, opacity);\n    };\n    CubismModel.prototype.getPartOpacityByIndex = function (partIndex) {\n        if (this._notExistPartOpacities.isExist(partIndex)) {\n            return this._notExistPartOpacities.getValue(partIndex);\n        }\n        (0, cubismdebug_1.CSM_ASSERT)(0 <= partIndex && partIndex < this.getPartCount());\n        return this._partOpacities[partIndex];\n    };\n    CubismModel.prototype.getPartOpacityById = function (partId) {\n        var index = this.getPartIndex(partId);\n        if (index < 0) {\n            return 0;\n        }\n        return this.getPartOpacityByIndex(index);\n    };\n    CubismModel.prototype.getParameterIndex = function (parameterId) {\n        var parameterIndex;\n        var idCount = this._model.parameters.count;\n        for (parameterIndex = 0; parameterIndex < idCount; ++parameterIndex) {\n            if (parameterId != this._parameterIds.at(parameterIndex)) {\n                continue;\n            }\n            return parameterIndex;\n        }\n        if (this._notExistParameterId.isExist(parameterId)) {\n            return this._notExistParameterId.getValue(parameterId);\n        }\n        parameterIndex =\n            this._model.parameters.count + this._notExistParameterId.getSize();\n        this._notExistParameterId.setValue(parameterId, parameterIndex);\n        this._notExistParameterValues.appendKey(parameterIndex);\n        return parameterIndex;\n    };\n    CubismModel.prototype.getParameterCount = function () {\n        return this._model.parameters.count;\n    };\n    CubismModel.prototype.getParameterType = function (parameterIndex) {\n        return this._model.parameters.types[parameterIndex];\n    };\n    CubismModel.prototype.getParameterMaximumValue = function (parameterIndex) {\n        return this._model.parameters.maximumValues[parameterIndex];\n    };\n    CubismModel.prototype.getParameterMinimumValue = function (parameterIndex) {\n        return this._model.parameters.minimumValues[parameterIndex];\n    };\n    CubismModel.prototype.getParameterDefaultValue = function (parameterIndex) {\n        return this._model.parameters.defaultValues[parameterIndex];\n    };\n    CubismModel.prototype.getParameterValueByIndex = function (parameterIndex) {\n        if (this._notExistParameterValues.isExist(parameterIndex)) {\n            return this._notExistParameterValues.getValue(parameterIndex);\n        }\n        (0, cubismdebug_1.CSM_ASSERT)(0 <= parameterIndex && parameterIndex < this.getParameterCount());\n        return this._parameterValues[parameterIndex];\n    };\n    CubismModel.prototype.getParameterValueById = function (parameterId) {\n        var parameterIndex = this.getParameterIndex(parameterId);\n        return this.getParameterValueByIndex(parameterIndex);\n    };\n    CubismModel.prototype.setParameterValueByIndex = function (parameterIndex, value, weight) {\n        if (weight === void 0) { weight = 1.0; }\n        if (this._notExistParameterValues.isExist(parameterIndex)) {\n            this._notExistParameterValues.setValue(parameterIndex, weight == 1\n                ? value\n                : this._notExistParameterValues.getValue(parameterIndex) *\n                    (1 - weight) +\n                    value * weight);\n            return;\n        }\n        (0, cubismdebug_1.CSM_ASSERT)(0 <= parameterIndex && parameterIndex < this.getParameterCount());\n        if (this._model.parameters.maximumValues[parameterIndex] < value) {\n            value = this._model.parameters.maximumValues[parameterIndex];\n        }\n        if (this._model.parameters.minimumValues[parameterIndex] > value) {\n            value = this._model.parameters.minimumValues[parameterIndex];\n        }\n        this._parameterValues[parameterIndex] =\n            weight == 1\n                ? value\n                : (this._parameterValues[parameterIndex] =\n                    this._parameterValues[parameterIndex] * (1 - weight) +\n                        value * weight);\n    };\n    CubismModel.prototype.setParameterValueById = function (parameterId, value, weight) {\n        if (weight === void 0) { weight = 1.0; }\n        var index = this.getParameterIndex(parameterId);\n        this.setParameterValueByIndex(index, value, weight);\n    };\n    CubismModel.prototype.addParameterValueByIndex = function (parameterIndex, value, weight) {\n        if (weight === void 0) { weight = 1.0; }\n        this.setParameterValueByIndex(parameterIndex, this.getParameterValueByIndex(parameterIndex) + value * weight);\n    };\n    CubismModel.prototype.addParameterValueById = function (parameterId, value, weight) {\n        if (weight === void 0) { weight = 1.0; }\n        var index = this.getParameterIndex(parameterId);\n        this.addParameterValueByIndex(index, value, weight);\n    };\n    CubismModel.prototype.multiplyParameterValueById = function (parameterId, value, weight) {\n        if (weight === void 0) { weight = 1.0; }\n        var index = this.getParameterIndex(parameterId);\n        this.multiplyParameterValueByIndex(index, value, weight);\n    };\n    CubismModel.prototype.multiplyParameterValueByIndex = function (parameterIndex, value, weight) {\n        if (weight === void 0) { weight = 1.0; }\n        this.setParameterValueByIndex(parameterIndex, this.getParameterValueByIndex(parameterIndex) *\n            (1.0 + (value - 1.0) * weight));\n    };\n    CubismModel.prototype.getDrawableIndex = function (drawableId) {\n        var drawableCount = this._model.drawables.count;\n        for (var drawableIndex = 0; drawableIndex < drawableCount; ++drawableIndex) {\n            if (this._drawableIds.at(drawableIndex) == drawableId) {\n                return drawableIndex;\n            }\n        }\n        return -1;\n    };\n    CubismModel.prototype.getDrawableCount = function () {\n        var drawableCount = this._model.drawables.count;\n        return drawableCount;\n    };\n    CubismModel.prototype.getDrawableId = function (drawableIndex) {\n        var parameterIds = this._model.drawables.ids;\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(parameterIds[drawableIndex]);\n    };\n    CubismModel.prototype.getDrawableRenderOrders = function () {\n        var renderOrders = this._model.drawables.renderOrders;\n        return renderOrders;\n    };\n    CubismModel.prototype.getDrawableTextureIndices = function (drawableIndex) {\n        return this.getDrawableTextureIndex(drawableIndex);\n    };\n    CubismModel.prototype.getDrawableTextureIndex = function (drawableIndex) {\n        var textureIndices = this._model.drawables.textureIndices;\n        return textureIndices[drawableIndex];\n    };\n    CubismModel.prototype.getDrawableDynamicFlagVertexPositionsDidChange = function (drawableIndex) {\n        var dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(dynamicFlags[drawableIndex]);\n    };\n    CubismModel.prototype.getDrawableVertexIndexCount = function (drawableIndex) {\n        var indexCounts = this._model.drawables.indexCounts;\n        return indexCounts[drawableIndex];\n    };\n    CubismModel.prototype.getDrawableVertexCount = function (drawableIndex) {\n        var vertexCounts = this._model.drawables.vertexCounts;\n        return vertexCounts[drawableIndex];\n    };\n    CubismModel.prototype.getDrawableVertices = function (drawableIndex) {\n        return this.getDrawableVertexPositions(drawableIndex);\n    };\n    CubismModel.prototype.getDrawableVertexIndices = function (drawableIndex) {\n        var indicesArray = this._model.drawables.indices;\n        return indicesArray[drawableIndex];\n    };\n    CubismModel.prototype.getDrawableVertexPositions = function (drawableIndex) {\n        var verticesArray = this._model.drawables.vertexPositions;\n        return verticesArray[drawableIndex];\n    };\n    CubismModel.prototype.getDrawableVertexUvs = function (drawableIndex) {\n        var uvsArray = this._model.drawables.vertexUvs;\n        return uvsArray[drawableIndex];\n    };\n    CubismModel.prototype.getDrawableOpacity = function (drawableIndex) {\n        var opacities = this._model.drawables.opacities;\n        return opacities[drawableIndex];\n    };\n    CubismModel.prototype.getDrawableMultiplyColor = function (drawableIndex) {\n        var multiplyColors = this._model.drawables.multiplyColors;\n        var index = drawableIndex * 4;\n        var multiplyColor = new cubismrenderer_1.CubismTextureColor();\n        multiplyColor.R = multiplyColors[index];\n        multiplyColor.G = multiplyColors[index + 1];\n        multiplyColor.B = multiplyColors[index + 2];\n        multiplyColor.A = multiplyColors[index + 3];\n        return multiplyColor;\n    };\n    CubismModel.prototype.getDrawableScreenColor = function (drawableIndex) {\n        var screenColors = this._model.drawables.screenColors;\n        var index = drawableIndex * 4;\n        var screenColor = new cubismrenderer_1.CubismTextureColor();\n        screenColor.R = screenColors[index];\n        screenColor.G = screenColors[index + 1];\n        screenColor.B = screenColors[index + 2];\n        screenColor.A = screenColors[index + 3];\n        return screenColor;\n    };\n    CubismModel.prototype.getDrawableParentPartIndex = function (drawableIndex) {\n        return this._model.drawables.parentPartIndices[drawableIndex];\n    };\n    CubismModel.prototype.getDrawableBlendMode = function (drawableIndex) {\n        var constantFlags = this._model.drawables.constantFlags;\n        return Live2DCubismCore.Utils.hasBlendAdditiveBit(constantFlags[drawableIndex])\n            ? cubismrenderer_1.CubismBlendMode.CubismBlendMode_Additive\n            : Live2DCubismCore.Utils.hasBlendMultiplicativeBit(constantFlags[drawableIndex])\n                ? cubismrenderer_1.CubismBlendMode.CubismBlendMode_Multiplicative\n                : cubismrenderer_1.CubismBlendMode.CubismBlendMode_Normal;\n    };\n    CubismModel.prototype.getDrawableInvertedMaskBit = function (drawableIndex) {\n        var constantFlags = this._model.drawables.constantFlags;\n        return Live2DCubismCore.Utils.hasIsInvertedMaskBit(constantFlags[drawableIndex]);\n    };\n    CubismModel.prototype.getDrawableMasks = function () {\n        var masks = this._model.drawables.masks;\n        return masks;\n    };\n    CubismModel.prototype.getDrawableMaskCounts = function () {\n        var maskCounts = this._model.drawables.maskCounts;\n        return maskCounts;\n    };\n    CubismModel.prototype.isUsingMasking = function () {\n        for (var d = 0; d < this._model.drawables.count; ++d) {\n            if (this._model.drawables.maskCounts[d] <= 0) {\n                continue;\n            }\n            return true;\n        }\n        return false;\n    };\n    CubismModel.prototype.getDrawableDynamicFlagIsVisible = function (drawableIndex) {\n        var dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasIsVisibleBit(dynamicFlags[drawableIndex]);\n    };\n    CubismModel.prototype.getDrawableDynamicFlagVisibilityDidChange = function (drawableIndex) {\n        var dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(dynamicFlags[drawableIndex]);\n    };\n    CubismModel.prototype.getDrawableDynamicFlagOpacityDidChange = function (drawableIndex) {\n        var dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasOpacityDidChangeBit(dynamicFlags[drawableIndex]);\n    };\n    CubismModel.prototype.getDrawableDynamicFlagRenderOrderDidChange = function (drawableIndex) {\n        var dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(dynamicFlags[drawableIndex]);\n    };\n    CubismModel.prototype.getDrawableDynamicFlagBlendColorDidChange = function (drawableIndex) {\n        var dynamicFlags = this._model.drawables.dynamicFlags;\n        return Live2DCubismCore.Utils.hasBlendColorDidChangeBit(dynamicFlags[drawableIndex]);\n    };\n    CubismModel.prototype.loadParameters = function () {\n        var parameterCount = this._model.parameters.count;\n        var savedParameterCount = this._savedParameters.getSize();\n        if (parameterCount > savedParameterCount) {\n            parameterCount = savedParameterCount;\n        }\n        for (var i = 0; i < parameterCount; ++i) {\n            this._parameterValues[i] = this._savedParameters.at(i);\n        }\n    };\n    CubismModel.prototype.initialize = function () {\n        (0, cubismdebug_1.CSM_ASSERT)(this._model);\n        this._parameterValues = this._model.parameters.values;\n        this._partOpacities = this._model.parts.opacities;\n        this._parameterMaximumValues = this._model.parameters.maximumValues;\n        this._parameterMinimumValues = this._model.parameters.minimumValues;\n        {\n            var parameterIds = this._model.parameters.ids;\n            var parameterCount = this._model.parameters.count;\n            this._parameterIds.prepareCapacity(parameterCount);\n            for (var i = 0; i < parameterCount; ++i) {\n                this._parameterIds.pushBack(live2dcubismframework_1.CubismFramework.getIdManager().getId(parameterIds[i]));\n            }\n        }\n        var partCount = this._model.parts.count;\n        {\n            var partIds = this._model.parts.ids;\n            this._partIds.prepareCapacity(partCount);\n            for (var i = 0; i < partCount; ++i) {\n                this._partIds.pushBack(live2dcubismframework_1.CubismFramework.getIdManager().getId(partIds[i]));\n            }\n            this._userPartMultiplyColors.prepareCapacity(partCount);\n            this._userPartScreenColors.prepareCapacity(partCount);\n            this._partChildDrawables.prepareCapacity(partCount);\n        }\n        {\n            var drawableIds = this._model.drawables.ids;\n            var drawableCount = this._model.drawables.count;\n            this._userMultiplyColors.prepareCapacity(drawableCount);\n            this._userScreenColors.prepareCapacity(drawableCount);\n            this._userCullings.prepareCapacity(drawableCount);\n            var userCulling = new DrawableCullingData(false, false);\n            {\n                for (var i = 0; i < partCount; ++i) {\n                    var multiplyColor = new cubismrenderer_1.CubismTextureColor(1.0, 1.0, 1.0, 1.0);\n                    var screenColor = new cubismrenderer_1.CubismTextureColor(0.0, 0.0, 0.0, 1.0);\n                    var userMultiplyColor = new PartColorData(false, multiplyColor);\n                    var userScreenColor = new PartColorData(false, screenColor);\n                    this._userPartMultiplyColors.pushBack(userMultiplyColor);\n                    this._userPartScreenColors.pushBack(userScreenColor);\n                    this._partChildDrawables.pushBack(new csmvector_1.csmVector());\n                    this._partChildDrawables.at(i).prepareCapacity(drawableCount);\n                }\n            }\n            {\n                for (var i = 0; i < drawableCount; ++i) {\n                    var multiplyColor = new cubismrenderer_1.CubismTextureColor(1.0, 1.0, 1.0, 1.0);\n                    var screenColor = new cubismrenderer_1.CubismTextureColor(0.0, 0.0, 0.0, 1.0);\n                    var userMultiplyColor = new DrawableColorData(false, multiplyColor);\n                    var userScreenColor = new DrawableColorData(false, screenColor);\n                    this._drawableIds.pushBack(live2dcubismframework_1.CubismFramework.getIdManager().getId(drawableIds[i]));\n                    this._userMultiplyColors.pushBack(userMultiplyColor);\n                    this._userScreenColors.pushBack(userScreenColor);\n                    this._userCullings.pushBack(userCulling);\n                    var parentIndex = this.getDrawableParentPartIndex(i);\n                    if (parentIndex >= 0) {\n                        this._partChildDrawables.at(parentIndex).pushBack(i);\n                    }\n                }\n            }\n        }\n    };\n    CubismModel.prototype.release = function () {\n        this._model.release();\n        this._model = null;\n    };\n    return CubismModel;\n}());\nexports.CubismModel = CubismModel;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmodel */ \"./src/live2d/framework/model/cubismmodel.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModel = $.CubismModel;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/model/cubismmodel.ts?");

/***/ }),

/***/ "./src/live2d/framework/model/cubismmodeluserdata.ts":
/*!***********************************************************!*\
  !*** ./src/live2d/framework/model/cubismmodeluserdata.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModelUserData = exports.CubismModelUserDataNode = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./src/live2d/framework/type/csmstring.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismmodeluserdatajson_1 = __webpack_require__(/*! ./cubismmodeluserdatajson */ \"./src/live2d/framework/model/cubismmodeluserdatajson.ts\");\nvar ArtMesh = 'ArtMesh';\nvar CubismModelUserDataNode = (function () {\n    function CubismModelUserDataNode() {\n    }\n    return CubismModelUserDataNode;\n}());\nexports.CubismModelUserDataNode = CubismModelUserDataNode;\nvar CubismModelUserData = (function () {\n    function CubismModelUserData() {\n        this._userDataNodes = new csmvector_1.csmVector();\n        this._artMeshUserDataNode = new csmvector_1.csmVector();\n    }\n    CubismModelUserData.create = function (buffer, size) {\n        var ret = new CubismModelUserData();\n        ret.parseUserData(buffer, size);\n        return ret;\n    };\n    CubismModelUserData.delete = function (modelUserData) {\n        if (modelUserData != null) {\n            modelUserData.release();\n            modelUserData = null;\n        }\n    };\n    CubismModelUserData.prototype.getArtMeshUserDatas = function () {\n        return this._artMeshUserDataNode;\n    };\n    CubismModelUserData.prototype.parseUserData = function (buffer, size) {\n        var json = new cubismmodeluserdatajson_1.CubismModelUserDataJson(buffer, size);\n        var typeOfArtMesh = live2dcubismframework_1.CubismFramework.getIdManager().getId(ArtMesh);\n        var nodeCount = json.getUserDataCount();\n        for (var i = 0; i < nodeCount; i++) {\n            var addNode = new CubismModelUserDataNode();\n            addNode.targetId = json.getUserDataId(i);\n            addNode.targetType = live2dcubismframework_1.CubismFramework.getIdManager().getId(json.getUserDataTargetType(i));\n            addNode.value = new csmstring_1.csmString(json.getUserDataValue(i));\n            this._userDataNodes.pushBack(addNode);\n            if (addNode.targetType == typeOfArtMesh) {\n                this._artMeshUserDataNode.pushBack(addNode);\n            }\n        }\n        json.release();\n        json = void 0;\n    };\n    CubismModelUserData.prototype.release = function () {\n        for (var i = 0; i < this._userDataNodes.getSize(); ++i) {\n            this._userDataNodes.set(i, null);\n        }\n        this._userDataNodes = null;\n    };\n    return CubismModelUserData;\n}());\nexports.CubismModelUserData = CubismModelUserData;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmodeluserdata */ \"./src/live2d/framework/model/cubismmodeluserdata.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModelUserData = $.CubismModelUserData;\n    Live2DCubismFramework.CubismModelUserDataNode = $.CubismModelUserDataNode;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/model/cubismmodeluserdata.ts?");

/***/ }),

/***/ "./src/live2d/framework/model/cubismmodeluserdatajson.ts":
/*!***************************************************************!*\
  !*** ./src/live2d/framework/model/cubismmodeluserdatajson.ts ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismModelUserDataJson = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\");\nvar Meta = 'Meta';\nvar UserDataCount = 'UserDataCount';\nvar TotalUserDataSize = 'TotalUserDataSize';\nvar UserData = 'UserData';\nvar Target = 'Target';\nvar Id = 'Id';\nvar Value = 'Value';\nvar CubismModelUserDataJson = (function () {\n    function CubismModelUserDataJson(buffer, size) {\n        this._json = cubismjson_1.CubismJson.create(buffer, size);\n    }\n    CubismModelUserDataJson.prototype.release = function () {\n        cubismjson_1.CubismJson.delete(this._json);\n    };\n    CubismModelUserDataJson.prototype.getUserDataCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(UserDataCount)\n            .toInt();\n    };\n    CubismModelUserDataJson.prototype.getTotalUserDataSize = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalUserDataSize)\n            .toInt();\n    };\n    CubismModelUserDataJson.prototype.getUserDataTargetType = function (i) {\n        return this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(i)\n            .getValueByString(Target)\n            .getRawString();\n    };\n    CubismModelUserDataJson.prototype.getUserDataId = function (i) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(i)\n            .getValueByString(Id)\n            .getRawString());\n    };\n    CubismModelUserDataJson.prototype.getUserDataValue = function (i) {\n        return this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(i)\n            .getValueByString(Value)\n            .getRawString();\n    };\n    return CubismModelUserDataJson;\n}());\nexports.CubismModelUserDataJson = CubismModelUserDataJson;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmodeluserdatajson */ \"./src/live2d/framework/model/cubismmodeluserdatajson.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismModelUserDataJson = $.CubismModelUserDataJson;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/model/cubismmodeluserdatajson.ts?");

/***/ }),

/***/ "./src/live2d/framework/model/cubismusermodel.ts":
/*!*******************************************************!*\
  !*** ./src/live2d/framework/model/cubismusermodel.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismUserModel = void 0;\nvar cubismbreath_1 = __webpack_require__(/*! ../effect/cubismbreath */ \"./src/live2d/framework/effect/cubismbreath.ts\");\nvar cubismeyeblink_1 = __webpack_require__(/*! ../effect/cubismeyeblink */ \"./src/live2d/framework/effect/cubismeyeblink.ts\");\nvar cubismpose_1 = __webpack_require__(/*! ../effect/cubismpose */ \"./src/live2d/framework/effect/cubismpose.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar cubismmodelmatrix_1 = __webpack_require__(/*! ../math/cubismmodelmatrix */ \"./src/live2d/framework/math/cubismmodelmatrix.ts\");\nvar cubismtargetpoint_1 = __webpack_require__(/*! ../math/cubismtargetpoint */ \"./src/live2d/framework/math/cubismtargetpoint.ts\");\nvar cubismexpressionmotion_1 = __webpack_require__(/*! ../motion/cubismexpressionmotion */ \"./src/live2d/framework/motion/cubismexpressionmotion.ts\");\nvar cubismmotion_1 = __webpack_require__(/*! ../motion/cubismmotion */ \"./src/live2d/framework/motion/cubismmotion.ts\");\nvar cubismmotionmanager_1 = __webpack_require__(/*! ../motion/cubismmotionmanager */ \"./src/live2d/framework/motion/cubismmotionmanager.ts\");\nvar cubismphysics_1 = __webpack_require__(/*! ../physics/cubismphysics */ \"./src/live2d/framework/physics/cubismphysics.ts\");\nvar cubismrenderer_webgl_1 = __webpack_require__(/*! ../rendering/cubismrenderer_webgl */ \"./src/live2d/framework/rendering/cubismrenderer_webgl.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar cubismmoc_1 = __webpack_require__(/*! ./cubismmoc */ \"./src/live2d/framework/model/cubismmoc.ts\");\nvar cubismmodeluserdata_1 = __webpack_require__(/*! ./cubismmodeluserdata */ \"./src/live2d/framework/model/cubismmodeluserdata.ts\");\nvar CubismUserModel = (function () {\n    function CubismUserModel() {\n        this.loadMotion = function (buffer, size, name, onFinishedMotionHandler) { return cubismmotion_1.CubismMotion.create(buffer, size, onFinishedMotionHandler); };\n        this._moc = null;\n        this._model = null;\n        this._motionManager = null;\n        this._expressionManager = null;\n        this._eyeBlink = null;\n        this._breath = null;\n        this._modelMatrix = null;\n        this._pose = null;\n        this._dragManager = null;\n        this._physics = null;\n        this._modelUserData = null;\n        this._initialized = false;\n        this._updating = false;\n        this._opacity = 1.0;\n        this._lipsync = true;\n        this._lastLipSyncValue = 0.0;\n        this._dragX = 0.0;\n        this._dragY = 0.0;\n        this._accelerationX = 0.0;\n        this._accelerationY = 0.0;\n        this._accelerationZ = 0.0;\n        this._mocConsistency = false;\n        this._debugMode = false;\n        this._renderer = null;\n        this._motionManager = new cubismmotionmanager_1.CubismMotionManager();\n        this._motionManager.setEventCallback(CubismUserModel.cubismDefaultMotionEventCallback, this);\n        this._expressionManager = new cubismmotionmanager_1.CubismMotionManager();\n        this._dragManager = new cubismtargetpoint_1.CubismTargetPoint();\n    }\n    CubismUserModel.prototype.isInitialized = function () {\n        return this._initialized;\n    };\n    CubismUserModel.prototype.setInitialized = function (v) {\n        this._initialized = v;\n    };\n    CubismUserModel.prototype.isUpdating = function () {\n        return this._updating;\n    };\n    CubismUserModel.prototype.setUpdating = function (v) {\n        this._updating = v;\n    };\n    CubismUserModel.prototype.setDragging = function (x, y) {\n        this._dragManager.set(x, y);\n    };\n    CubismUserModel.prototype.setAcceleration = function (x, y, z) {\n        this._accelerationX = x;\n        this._accelerationY = y;\n        this._accelerationZ = z;\n    };\n    CubismUserModel.prototype.getModelMatrix = function () {\n        return this._modelMatrix;\n    };\n    CubismUserModel.prototype.setOpacity = function (a) {\n        this._opacity = a;\n    };\n    CubismUserModel.prototype.getOpacity = function () {\n        return this._opacity;\n    };\n    CubismUserModel.prototype.loadModel = function (buffer, shouldCheckMocConsistency) {\n        if (shouldCheckMocConsistency === void 0) { shouldCheckMocConsistency = false; }\n        this._moc = cubismmoc_1.CubismMoc.create(buffer, shouldCheckMocConsistency);\n        if (this._moc == null) {\n            (0, cubismdebug_1.CubismLogError)('Failed to CubismMoc.create().');\n            return;\n        }\n        this._model = this._moc.createModel();\n        if (this._model == null) {\n            (0, cubismdebug_1.CubismLogError)('Failed to CreateModel().');\n            return;\n        }\n        this._model.saveParameters();\n        this._modelMatrix = new cubismmodelmatrix_1.CubismModelMatrix(this._model.getCanvasWidth(), this._model.getCanvasHeight());\n    };\n    CubismUserModel.prototype.loadExpression = function (buffer, size, name) {\n        return cubismexpressionmotion_1.CubismExpressionMotion.create(buffer, size);\n    };\n    CubismUserModel.prototype.loadPose = function (buffer, size) {\n        this._pose = cubismpose_1.CubismPose.create(buffer, size);\n    };\n    CubismUserModel.prototype.loadUserData = function (buffer, size) {\n        this._modelUserData = cubismmodeluserdata_1.CubismModelUserData.create(buffer, size);\n    };\n    CubismUserModel.prototype.loadPhysics = function (buffer, size) {\n        this._physics = cubismphysics_1.CubismPhysics.create(buffer, size);\n    };\n    CubismUserModel.prototype.isHit = function (drawableId, pointX, pointY) {\n        var drawIndex = this._model.getDrawableIndex(drawableId);\n        if (drawIndex < 0) {\n            return false;\n        }\n        var count = this._model.getDrawableVertexCount(drawIndex);\n        var vertices = this._model.getDrawableVertices(drawIndex);\n        var left = vertices[0];\n        var right = vertices[0];\n        var top = vertices[1];\n        var bottom = vertices[1];\n        for (var j = 1; j < count; ++j) {\n            var x = vertices[live2dcubismframework_1.Constant.vertexOffset + j * live2dcubismframework_1.Constant.vertexStep];\n            var y = vertices[live2dcubismframework_1.Constant.vertexOffset + j * live2dcubismframework_1.Constant.vertexStep + 1];\n            if (x < left) {\n                left = x;\n            }\n            if (x > right) {\n                right = x;\n            }\n            if (y < top) {\n                top = y;\n            }\n            if (y > bottom) {\n                bottom = y;\n            }\n        }\n        var tx = this._modelMatrix.invertTransformX(pointX);\n        var ty = this._modelMatrix.invertTransformY(pointY);\n        return left <= tx && tx <= right && top <= ty && ty <= bottom;\n    };\n    CubismUserModel.prototype.getModel = function () {\n        return this._model;\n    };\n    CubismUserModel.prototype.getRenderer = function () {\n        return this._renderer;\n    };\n    CubismUserModel.prototype.createRenderer = function (maskBufferCount) {\n        if (maskBufferCount === void 0) { maskBufferCount = 1; }\n        if (this._renderer) {\n            this.deleteRenderer();\n        }\n        this._renderer = new cubismrenderer_webgl_1.CubismRenderer_WebGL();\n        this._renderer.initialize(this._model, maskBufferCount);\n    };\n    CubismUserModel.prototype.deleteRenderer = function () {\n        if (this._renderer != null) {\n            this._renderer.release();\n            this._renderer = null;\n        }\n    };\n    CubismUserModel.prototype.motionEventFired = function (eventValue) {\n        (0, cubismdebug_1.CubismLogInfo)('{0}', eventValue.s);\n    };\n    CubismUserModel.cubismDefaultMotionEventCallback = function (caller, eventValue, customData) {\n        var model = customData;\n        if (model != null) {\n            model.motionEventFired(eventValue);\n        }\n    };\n    CubismUserModel.prototype.release = function () {\n        if (this._motionManager != null) {\n            this._motionManager.release();\n            this._motionManager = null;\n        }\n        if (this._expressionManager != null) {\n            this._expressionManager.release();\n            this._expressionManager = null;\n        }\n        if (this._moc != null) {\n            this._moc.deleteModel(this._model);\n            this._moc.release();\n            this._moc = null;\n        }\n        this._modelMatrix = null;\n        cubismpose_1.CubismPose.delete(this._pose);\n        cubismeyeblink_1.CubismEyeBlink.delete(this._eyeBlink);\n        cubismbreath_1.CubismBreath.delete(this._breath);\n        this._dragManager = null;\n        cubismphysics_1.CubismPhysics.delete(this._physics);\n        cubismmodeluserdata_1.CubismModelUserData.delete(this._modelUserData);\n        this.deleteRenderer();\n    };\n    return CubismUserModel;\n}());\nexports.CubismUserModel = CubismUserModel;\nvar $ = __importStar(__webpack_require__(/*! ./cubismusermodel */ \"./src/live2d/framework/model/cubismusermodel.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismUserModel = $.CubismUserModel;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/model/cubismusermodel.ts?");

/***/ }),

/***/ "./src/live2d/framework/motion/acubismmotion.ts":
/*!******************************************************!*\
  !*** ./src/live2d/framework/motion/acubismmotion.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.ACubismMotion = void 0;\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./src/live2d/framework/math/cubismmath.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar ACubismMotion = (function () {\n    function ACubismMotion() {\n        var _this = this;\n        this.setFinishedMotionHandler = function (onFinishedMotionHandler) { return (_this._onFinishedMotion = onFinishedMotionHandler); };\n        this.getFinishedMotionHandler = function () { return _this._onFinishedMotion; };\n        this._fadeInSeconds = -1.0;\n        this._fadeOutSeconds = -1.0;\n        this._weight = 1.0;\n        this._offsetSeconds = 0.0;\n        this._firedEventValues = new csmvector_1.csmVector();\n    }\n    ACubismMotion.delete = function (motion) {\n        motion.release();\n        motion = null;\n    };\n    ACubismMotion.prototype.release = function () {\n        this._weight = 0.0;\n    };\n    ACubismMotion.prototype.updateParameters = function (model, motionQueueEntry, userTimeSeconds) {\n        if (!motionQueueEntry.isAvailable() || motionQueueEntry.isFinished()) {\n            return;\n        }\n        if (!motionQueueEntry.isStarted()) {\n            motionQueueEntry.setIsStarted(true);\n            motionQueueEntry.setStartTime(userTimeSeconds - this._offsetSeconds);\n            motionQueueEntry.setFadeInStartTime(userTimeSeconds);\n            var duration = this.getDuration();\n            if (motionQueueEntry.getEndTime() < 0) {\n                motionQueueEntry.setEndTime(duration <= 0 ? -1 : motionQueueEntry.getStartTime() + duration);\n            }\n        }\n        var fadeWeight = this._weight;\n        var fadeIn = this._fadeInSeconds == 0.0\n            ? 1.0\n            : cubismmath_1.CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                this._fadeInSeconds);\n        var fadeOut = this._fadeOutSeconds == 0.0 || motionQueueEntry.getEndTime() < 0.0\n            ? 1.0\n            : cubismmath_1.CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                this._fadeOutSeconds);\n        fadeWeight = fadeWeight * fadeIn * fadeOut;\n        motionQueueEntry.setState(userTimeSeconds, fadeWeight);\n        (0, cubismdebug_1.CSM_ASSERT)(0.0 <= fadeWeight && fadeWeight <= 1.0);\n        this.doUpdateParameters(model, userTimeSeconds, fadeWeight, motionQueueEntry);\n        if (motionQueueEntry.getEndTime() > 0 &&\n            motionQueueEntry.getEndTime() < userTimeSeconds) {\n            motionQueueEntry.setIsFinished(true);\n        }\n    };\n    ACubismMotion.prototype.setFadeInTime = function (fadeInSeconds) {\n        this._fadeInSeconds = fadeInSeconds;\n    };\n    ACubismMotion.prototype.setFadeOutTime = function (fadeOutSeconds) {\n        this._fadeOutSeconds = fadeOutSeconds;\n    };\n    ACubismMotion.prototype.getFadeOutTime = function () {\n        return this._fadeOutSeconds;\n    };\n    ACubismMotion.prototype.getFadeInTime = function () {\n        return this._fadeInSeconds;\n    };\n    ACubismMotion.prototype.setWeight = function (weight) {\n        this._weight = weight;\n    };\n    ACubismMotion.prototype.getWeight = function () {\n        return this._weight;\n    };\n    ACubismMotion.prototype.getDuration = function () {\n        return -1.0;\n    };\n    ACubismMotion.prototype.getLoopDuration = function () {\n        return -1.0;\n    };\n    ACubismMotion.prototype.setOffsetTime = function (offsetSeconds) {\n        this._offsetSeconds = offsetSeconds;\n    };\n    ACubismMotion.prototype.getFiredEvent = function (beforeCheckTimeSeconds, motionTimeSeconds) {\n        return this._firedEventValues;\n    };\n    ACubismMotion.prototype.isExistModelOpacity = function () {\n        return false;\n    };\n    ACubismMotion.prototype.getModelOpacityIndex = function () {\n        return -1;\n    };\n    ACubismMotion.prototype.getModelOpacityId = function (index) {\n        return null;\n    };\n    ACubismMotion.prototype.getModelOpacityValue = function () {\n        return 1.0;\n    };\n    return ACubismMotion;\n}());\nexports.ACubismMotion = ACubismMotion;\nvar $ = __importStar(__webpack_require__(/*! ./acubismmotion */ \"./src/live2d/framework/motion/acubismmotion.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.ACubismMotion = $.ACubismMotion;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/motion/acubismmotion.ts?");

/***/ }),

/***/ "./src/live2d/framework/motion/cubismexpressionmotion.ts":
/*!***************************************************************!*\
  !*** ./src/live2d/framework/motion/cubismexpressionmotion.ts ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.ExpressionParameter = exports.ExpressionBlendType = exports.CubismExpressionMotion = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\");\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./src/live2d/framework/motion/acubismmotion.ts\");\nvar ExpressionKeyFadeIn = 'FadeInTime';\nvar ExpressionKeyFadeOut = 'FadeOutTime';\nvar ExpressionKeyParameters = 'Parameters';\nvar ExpressionKeyId = 'Id';\nvar ExpressionKeyValue = 'Value';\nvar ExpressionKeyBlend = 'Blend';\nvar BlendValueAdd = 'Add';\nvar BlendValueMultiply = 'Multiply';\nvar BlendValueOverwrite = 'Overwrite';\nvar DefaultFadeTime = 1.0;\nvar CubismExpressionMotion = (function (_super) {\n    __extends(CubismExpressionMotion, _super);\n    function CubismExpressionMotion() {\n        var _this = _super.call(this) || this;\n        _this._parameters = new csmvector_1.csmVector();\n        return _this;\n    }\n    CubismExpressionMotion.create = function (buffer, size) {\n        var expression = new CubismExpressionMotion();\n        expression.parse(buffer, size);\n        return expression;\n    };\n    CubismExpressionMotion.prototype.doUpdateParameters = function (model, userTimeSeconds, weight, motionQueueEntry) {\n        for (var i = 0; i < this._parameters.getSize(); ++i) {\n            var parameter = this._parameters.at(i);\n            switch (parameter.blendType) {\n                case ExpressionBlendType.ExpressionBlendType_Add: {\n                    model.addParameterValueById(parameter.parameterId, parameter.value, weight);\n                    break;\n                }\n                case ExpressionBlendType.ExpressionBlendType_Multiply: {\n                    model.multiplyParameterValueById(parameter.parameterId, parameter.value, weight);\n                    break;\n                }\n                case ExpressionBlendType.ExpressionBlendType_Overwrite: {\n                    model.setParameterValueById(parameter.parameterId, parameter.value, weight);\n                    break;\n                }\n                default:\n                    break;\n            }\n        }\n    };\n    CubismExpressionMotion.prototype.parse = function (buffer, size) {\n        var json = cubismjson_1.CubismJson.create(buffer, size);\n        var root = json.getRoot();\n        this.setFadeInTime(root.getValueByString(ExpressionKeyFadeIn).toFloat(DefaultFadeTime));\n        this.setFadeOutTime(root.getValueByString(ExpressionKeyFadeOut).toFloat(DefaultFadeTime));\n        var parameterCount = root\n            .getValueByString(ExpressionKeyParameters)\n            .getSize();\n        this._parameters.prepareCapacity(parameterCount);\n        for (var i = 0; i < parameterCount; ++i) {\n            var param = root\n                .getValueByString(ExpressionKeyParameters)\n                .getValueByIndex(i);\n            var parameterId = live2dcubismframework_1.CubismFramework.getIdManager().getId(param.getValueByString(ExpressionKeyId).getRawString());\n            var value = param\n                .getValueByString(ExpressionKeyValue)\n                .toFloat();\n            var blendType = void 0;\n            if (param.getValueByString(ExpressionKeyBlend).isNull() ||\n                param.getValueByString(ExpressionKeyBlend).getString() == BlendValueAdd) {\n                blendType = ExpressionBlendType.ExpressionBlendType_Add;\n            }\n            else if (param.getValueByString(ExpressionKeyBlend).getString() ==\n                BlendValueMultiply) {\n                blendType = ExpressionBlendType.ExpressionBlendType_Multiply;\n            }\n            else if (param.getValueByString(ExpressionKeyBlend).getString() ==\n                BlendValueOverwrite) {\n                blendType = ExpressionBlendType.ExpressionBlendType_Overwrite;\n            }\n            else {\n                blendType = ExpressionBlendType.ExpressionBlendType_Add;\n            }\n            var item = new ExpressionParameter();\n            item.parameterId = parameterId;\n            item.blendType = blendType;\n            item.value = value;\n            this._parameters.pushBack(item);\n        }\n        cubismjson_1.CubismJson.delete(json);\n    };\n    return CubismExpressionMotion;\n}(acubismmotion_1.ACubismMotion));\nexports.CubismExpressionMotion = CubismExpressionMotion;\nvar ExpressionBlendType;\n(function (ExpressionBlendType) {\n    ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Add\"] = 0] = \"ExpressionBlendType_Add\";\n    ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Multiply\"] = 1] = \"ExpressionBlendType_Multiply\";\n    ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Overwrite\"] = 2] = \"ExpressionBlendType_Overwrite\";\n})(ExpressionBlendType = exports.ExpressionBlendType || (exports.ExpressionBlendType = {}));\nvar ExpressionParameter = (function () {\n    function ExpressionParameter() {\n    }\n    return ExpressionParameter;\n}());\nexports.ExpressionParameter = ExpressionParameter;\nvar $ = __importStar(__webpack_require__(/*! ./cubismexpressionmotion */ \"./src/live2d/framework/motion/cubismexpressionmotion.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismExpressionMotion = $.CubismExpressionMotion;\n    Live2DCubismFramework.ExpressionBlendType = $.ExpressionBlendType;\n    Live2DCubismFramework.ExpressionParameter = $.ExpressionParameter;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/motion/cubismexpressionmotion.ts?");

/***/ }),

/***/ "./src/live2d/framework/motion/cubismmotion.ts":
/*!*****************************************************!*\
  !*** ./src/live2d/framework/motion/cubismmotion.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMotion = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./src/live2d/framework/math/cubismmath.ts\");\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./src/live2d/framework/type/csmstring.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./src/live2d/framework/motion/acubismmotion.ts\");\nvar cubismmotioninternal_1 = __webpack_require__(/*! ./cubismmotioninternal */ \"./src/live2d/framework/motion/cubismmotioninternal.ts\");\nvar cubismmotionjson_1 = __webpack_require__(/*! ./cubismmotionjson */ \"./src/live2d/framework/motion/cubismmotionjson.ts\");\nvar EffectNameEyeBlink = 'EyeBlink';\nvar EffectNameLipSync = 'LipSync';\nvar TargetNameModel = 'Model';\nvar TargetNameParameter = 'Parameter';\nvar TargetNamePartOpacity = 'PartOpacity';\nvar IdNameOpacity = 'Opacity';\nvar UseOldBeziersCurveMotion = false;\nfunction lerpPoints(a, b, t) {\n    var result = new cubismmotioninternal_1.CubismMotionPoint();\n    result.time = a.time + (b.time - a.time) * t;\n    result.value = a.value + (b.value - a.value) * t;\n    return result;\n}\nfunction linearEvaluate(points, time) {\n    var t = (time - points[0].time) / (points[1].time - points[0].time);\n    if (t < 0.0) {\n        t = 0.0;\n    }\n    return points[0].value + (points[1].value - points[0].value) * t;\n}\nfunction bezierEvaluate(points, time) {\n    var t = (time - points[0].time) / (points[3].time - points[0].time);\n    if (t < 0.0) {\n        t = 0.0;\n    }\n    var p01 = lerpPoints(points[0], points[1], t);\n    var p12 = lerpPoints(points[1], points[2], t);\n    var p23 = lerpPoints(points[2], points[3], t);\n    var p012 = lerpPoints(p01, p12, t);\n    var p123 = lerpPoints(p12, p23, t);\n    return lerpPoints(p012, p123, t).value;\n}\nfunction bezierEvaluateBinarySearch(points, time) {\n    var x_error = 0.01;\n    var x = time;\n    var x1 = points[0].time;\n    var x2 = points[3].time;\n    var cx1 = points[1].time;\n    var cx2 = points[2].time;\n    var ta = 0.0;\n    var tb = 1.0;\n    var t = 0.0;\n    var i = 0;\n    for (var var33 = true; i < 20; ++i) {\n        if (x < x1 + x_error) {\n            t = ta;\n            break;\n        }\n        if (x2 - x_error < x) {\n            t = tb;\n            break;\n        }\n        var centerx = (cx1 + cx2) * 0.5;\n        cx1 = (x1 + cx1) * 0.5;\n        cx2 = (x2 + cx2) * 0.5;\n        var ctrlx12 = (cx1 + centerx) * 0.5;\n        var ctrlx21 = (cx2 + centerx) * 0.5;\n        centerx = (ctrlx12 + ctrlx21) * 0.5;\n        if (x < centerx) {\n            tb = (ta + tb) * 0.5;\n            if (centerx - x_error < x) {\n                t = tb;\n                break;\n            }\n            x2 = centerx;\n            cx2 = ctrlx12;\n        }\n        else {\n            ta = (ta + tb) * 0.5;\n            if (x < centerx + x_error) {\n                t = ta;\n                break;\n            }\n            x1 = centerx;\n            cx1 = ctrlx21;\n        }\n    }\n    if (i == 20) {\n        t = (ta + tb) * 0.5;\n    }\n    if (t < 0.0) {\n        t = 0.0;\n    }\n    if (t > 1.0) {\n        t = 1.0;\n    }\n    var p01 = lerpPoints(points[0], points[1], t);\n    var p12 = lerpPoints(points[1], points[2], t);\n    var p23 = lerpPoints(points[2], points[3], t);\n    var p012 = lerpPoints(p01, p12, t);\n    var p123 = lerpPoints(p12, p23, t);\n    return lerpPoints(p012, p123, t).value;\n}\nfunction bezierEvaluateCardanoInterpretation(points, time) {\n    var x = time;\n    var x1 = points[0].time;\n    var x2 = points[3].time;\n    var cx1 = points[1].time;\n    var cx2 = points[2].time;\n    var a = x2 - 3.0 * cx2 + 3.0 * cx1 - x1;\n    var b = 3.0 * cx2 - 6.0 * cx1 + 3.0 * x1;\n    var c = 3.0 * cx1 - 3.0 * x1;\n    var d = x1 - x;\n    var t = cubismmath_1.CubismMath.cardanoAlgorithmForBezier(a, b, c, d);\n    var p01 = lerpPoints(points[0], points[1], t);\n    var p12 = lerpPoints(points[1], points[2], t);\n    var p23 = lerpPoints(points[2], points[3], t);\n    var p012 = lerpPoints(p01, p12, t);\n    var p123 = lerpPoints(p12, p23, t);\n    return lerpPoints(p012, p123, t).value;\n}\nfunction steppedEvaluate(points, time) {\n    return points[0].value;\n}\nfunction inverseSteppedEvaluate(points, time) {\n    return points[1].value;\n}\nfunction evaluateCurve(motionData, index, time) {\n    var curve = motionData.curves.at(index);\n    var target = -1;\n    var totalSegmentCount = curve.baseSegmentIndex + curve.segmentCount;\n    var pointPosition = 0;\n    for (var i = curve.baseSegmentIndex; i < totalSegmentCount; ++i) {\n        pointPosition =\n            motionData.segments.at(i).basePointIndex +\n                (motionData.segments.at(i).segmentType ==\n                    cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Bezier\n                    ? 3\n                    : 1);\n        if (motionData.points.at(pointPosition).time > time) {\n            target = i;\n            break;\n        }\n    }\n    if (target == -1) {\n        return motionData.points.at(pointPosition).value;\n    }\n    var segment = motionData.segments.at(target);\n    return segment.evaluate(motionData.points.get(segment.basePointIndex), time);\n}\nvar CubismMotion = (function (_super) {\n    __extends(CubismMotion, _super);\n    function CubismMotion() {\n        var _this = _super.call(this) || this;\n        _this._sourceFrameRate = 30.0;\n        _this._loopDurationSeconds = -1.0;\n        _this._isLoop = false;\n        _this._isLoopFadeIn = true;\n        _this._lastWeight = 0.0;\n        _this._motionData = null;\n        _this._modelCurveIdEyeBlink = null;\n        _this._modelCurveIdLipSync = null;\n        _this._modelCurveIdOpacity = null;\n        _this._eyeBlinkParameterIds = null;\n        _this._lipSyncParameterIds = null;\n        _this._modelOpacity = 1.0;\n        return _this;\n    }\n    CubismMotion.create = function (buffer, size, onFinishedMotionHandler) {\n        var ret = new CubismMotion();\n        ret.parse(buffer, size);\n        ret._sourceFrameRate = ret._motionData.fps;\n        ret._loopDurationSeconds = ret._motionData.duration;\n        ret._onFinishedMotion = onFinishedMotionHandler;\n        return ret;\n    };\n    CubismMotion.prototype.doUpdateParameters = function (model, userTimeSeconds, fadeWeight, motionQueueEntry) {\n        if (this._modelCurveIdEyeBlink == null) {\n            this._modelCurveIdEyeBlink =\n                live2dcubismframework_1.CubismFramework.getIdManager().getId(EffectNameEyeBlink);\n        }\n        if (this._modelCurveIdLipSync == null) {\n            this._modelCurveIdLipSync =\n                live2dcubismframework_1.CubismFramework.getIdManager().getId(EffectNameLipSync);\n        }\n        if (this._modelCurveIdOpacity == null) {\n            this._modelCurveIdOpacity =\n                live2dcubismframework_1.CubismFramework.getIdManager().getId(IdNameOpacity);\n        }\n        var timeOffsetSeconds = userTimeSeconds - motionQueueEntry.getStartTime();\n        if (timeOffsetSeconds < 0.0) {\n            timeOffsetSeconds = 0.0;\n        }\n        var lipSyncValue = Number.MAX_VALUE;\n        var eyeBlinkValue = Number.MAX_VALUE;\n        var MaxTargetSize = 64;\n        var lipSyncFlags = 0;\n        var eyeBlinkFlags = 0;\n        if (this._eyeBlinkParameterIds.getSize() > MaxTargetSize) {\n            (0, cubismdebug_1.CubismLogDebug)('too many eye blink targets : {0}', this._eyeBlinkParameterIds.getSize());\n        }\n        if (this._lipSyncParameterIds.getSize() > MaxTargetSize) {\n            (0, cubismdebug_1.CubismLogDebug)('too many lip sync targets : {0}', this._lipSyncParameterIds.getSize());\n        }\n        var tmpFadeIn = this._fadeInSeconds <= 0.0\n            ? 1.0\n            : cubismmath_1.CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                this._fadeInSeconds);\n        var tmpFadeOut = this._fadeOutSeconds <= 0.0 || motionQueueEntry.getEndTime() < 0.0\n            ? 1.0\n            : cubismmath_1.CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                this._fadeOutSeconds);\n        var value;\n        var c, parameterIndex;\n        var time = timeOffsetSeconds;\n        if (this._isLoop) {\n            while (time > this._motionData.duration) {\n                time -= this._motionData.duration;\n            }\n        }\n        var curves = this._motionData.curves;\n        for (c = 0; c < this._motionData.curveCount &&\n            curves.at(c).type ==\n                cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model; ++c) {\n            value = evaluateCurve(this._motionData, c, time);\n            if (curves.at(c).id == this._modelCurveIdEyeBlink) {\n                eyeBlinkValue = value;\n            }\n            else if (curves.at(c).id == this._modelCurveIdLipSync) {\n                lipSyncValue = value;\n            }\n            else if (curves.at(c).id == this._modelCurveIdOpacity) {\n                this._modelOpacity = value;\n                model.setModelOapcity(this.getModelOpacityValue());\n            }\n        }\n        var parameterMotionCurveCount = 0;\n        for (; c < this._motionData.curveCount &&\n            curves.at(c).type ==\n                cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter; ++c) {\n            parameterMotionCurveCount++;\n            parameterIndex = model.getParameterIndex(curves.at(c).id);\n            if (parameterIndex == -1) {\n                continue;\n            }\n            var sourceValue = model.getParameterValueByIndex(parameterIndex);\n            value = evaluateCurve(this._motionData, c, time);\n            if (eyeBlinkValue != Number.MAX_VALUE) {\n                for (var i = 0; i < this._eyeBlinkParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                    if (this._eyeBlinkParameterIds.at(i) == curves.at(c).id) {\n                        value *= eyeBlinkValue;\n                        eyeBlinkFlags |= 1 << i;\n                        break;\n                    }\n                }\n            }\n            if (lipSyncValue != Number.MAX_VALUE) {\n                for (var i = 0; i < this._lipSyncParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                    if (this._lipSyncParameterIds.at(i) == curves.at(c).id) {\n                        value += lipSyncValue;\n                        lipSyncFlags |= 1 << i;\n                        break;\n                    }\n                }\n            }\n            var v = void 0;\n            if (curves.at(c).fadeInTime < 0.0 && curves.at(c).fadeOutTime < 0.0) {\n                v = sourceValue + (value - sourceValue) * fadeWeight;\n            }\n            else {\n                var fin = void 0;\n                var fout = void 0;\n                if (curves.at(c).fadeInTime < 0.0) {\n                    fin = tmpFadeIn;\n                }\n                else {\n                    fin =\n                        curves.at(c).fadeInTime == 0.0\n                            ? 1.0\n                            : cubismmath_1.CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                                curves.at(c).fadeInTime);\n                }\n                if (curves.at(c).fadeOutTime < 0.0) {\n                    fout = tmpFadeOut;\n                }\n                else {\n                    fout =\n                        curves.at(c).fadeOutTime == 0.0 ||\n                            motionQueueEntry.getEndTime() < 0.0\n                            ? 1.0\n                            : cubismmath_1.CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                                curves.at(c).fadeOutTime);\n                }\n                var paramWeight = this._weight * fin * fout;\n                v = sourceValue + (value - sourceValue) * paramWeight;\n            }\n            model.setParameterValueByIndex(parameterIndex, v, 1.0);\n        }\n        {\n            if (eyeBlinkValue != Number.MAX_VALUE) {\n                for (var i = 0; i < this._eyeBlinkParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                    var sourceValue = model.getParameterValueById(this._eyeBlinkParameterIds.at(i));\n                    if ((eyeBlinkFlags >> i) & 0x01) {\n                        continue;\n                    }\n                    var v = sourceValue + (eyeBlinkValue - sourceValue) * fadeWeight;\n                    model.setParameterValueById(this._eyeBlinkParameterIds.at(i), v);\n                }\n            }\n            if (lipSyncValue != Number.MAX_VALUE) {\n                for (var i = 0; i < this._lipSyncParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                    var sourceValue = model.getParameterValueById(this._lipSyncParameterIds.at(i));\n                    if ((lipSyncFlags >> i) & 0x01) {\n                        continue;\n                    }\n                    var v = sourceValue + (lipSyncValue - sourceValue) * fadeWeight;\n                    model.setParameterValueById(this._lipSyncParameterIds.at(i), v);\n                }\n            }\n        }\n        for (; c < this._motionData.curveCount &&\n            curves.at(c).type ==\n                cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity; ++c) {\n            parameterIndex = model.getParameterIndex(curves.at(c).id);\n            if (parameterIndex == -1) {\n                continue;\n            }\n            value = evaluateCurve(this._motionData, c, time);\n            model.setParameterValueByIndex(parameterIndex, value);\n        }\n        if (timeOffsetSeconds >= this._motionData.duration) {\n            if (this._isLoop) {\n                motionQueueEntry.setStartTime(userTimeSeconds);\n                if (this._isLoopFadeIn) {\n                    motionQueueEntry.setFadeInStartTime(userTimeSeconds);\n                }\n            }\n            else {\n                if (this._onFinishedMotion) {\n                    this._onFinishedMotion(this);\n                }\n                motionQueueEntry.setIsFinished(true);\n            }\n        }\n        this._lastWeight = fadeWeight;\n    };\n    CubismMotion.prototype.setIsLoop = function (loop) {\n        this._isLoop = loop;\n    };\n    CubismMotion.prototype.isLoop = function () {\n        return this._isLoop;\n    };\n    CubismMotion.prototype.setIsLoopFadeIn = function (loopFadeIn) {\n        this._isLoopFadeIn = loopFadeIn;\n    };\n    CubismMotion.prototype.isLoopFadeIn = function () {\n        return this._isLoopFadeIn;\n    };\n    CubismMotion.prototype.getDuration = function () {\n        return this._isLoop ? -1.0 : this._loopDurationSeconds;\n    };\n    CubismMotion.prototype.getLoopDuration = function () {\n        return this._loopDurationSeconds;\n    };\n    CubismMotion.prototype.setParameterFadeInTime = function (parameterId, value) {\n        var curves = this._motionData.curves;\n        for (var i = 0; i < this._motionData.curveCount; ++i) {\n            if (parameterId == curves.at(i).id) {\n                curves.at(i).fadeInTime = value;\n                return;\n            }\n        }\n    };\n    CubismMotion.prototype.setParameterFadeOutTime = function (parameterId, value) {\n        var curves = this._motionData.curves;\n        for (var i = 0; i < this._motionData.curveCount; ++i) {\n            if (parameterId == curves.at(i).id) {\n                curves.at(i).fadeOutTime = value;\n                return;\n            }\n        }\n    };\n    CubismMotion.prototype.getParameterFadeInTime = function (parameterId) {\n        var curves = this._motionData.curves;\n        for (var i = 0; i < this._motionData.curveCount; ++i) {\n            if (parameterId == curves.at(i).id) {\n                return curves.at(i).fadeInTime;\n            }\n        }\n        return -1;\n    };\n    CubismMotion.prototype.getParameterFadeOutTime = function (parameterId) {\n        var curves = this._motionData.curves;\n        for (var i = 0; i < this._motionData.curveCount; ++i) {\n            if (parameterId == curves.at(i).id) {\n                return curves.at(i).fadeOutTime;\n            }\n        }\n        return -1;\n    };\n    CubismMotion.prototype.setEffectIds = function (eyeBlinkParameterIds, lipSyncParameterIds) {\n        this._eyeBlinkParameterIds = eyeBlinkParameterIds;\n        this._lipSyncParameterIds = lipSyncParameterIds;\n    };\n    CubismMotion.prototype.release = function () {\n        this._motionData = void 0;\n        this._motionData = null;\n    };\n    CubismMotion.prototype.parse = function (motionJson, size) {\n        this._motionData = new cubismmotioninternal_1.CubismMotionData();\n        var json = new cubismmotionjson_1.CubismMotionJson(motionJson, size);\n        this._motionData.duration = json.getMotionDuration();\n        this._motionData.loop = json.isMotionLoop();\n        this._motionData.curveCount = json.getMotionCurveCount();\n        this._motionData.fps = json.getMotionFps();\n        this._motionData.eventCount = json.getEventCount();\n        var areBeziersRestructed = json.getEvaluationOptionFlag(cubismmotionjson_1.EvaluationOptionFlag.EvaluationOptionFlag_AreBeziersRistricted);\n        if (json.isExistMotionFadeInTime()) {\n            this._fadeInSeconds =\n                json.getMotionFadeInTime() < 0.0 ? 1.0 : json.getMotionFadeInTime();\n        }\n        else {\n            this._fadeInSeconds = 1.0;\n        }\n        if (json.isExistMotionFadeOutTime()) {\n            this._fadeOutSeconds =\n                json.getMotionFadeOutTime() < 0.0 ? 1.0 : json.getMotionFadeOutTime();\n        }\n        else {\n            this._fadeOutSeconds = 1.0;\n        }\n        this._motionData.curves.updateSize(this._motionData.curveCount, cubismmotioninternal_1.CubismMotionCurve, true);\n        this._motionData.segments.updateSize(json.getMotionTotalSegmentCount(), cubismmotioninternal_1.CubismMotionSegment, true);\n        this._motionData.points.updateSize(json.getMotionTotalPointCount(), cubismmotioninternal_1.CubismMotionPoint, true);\n        this._motionData.events.updateSize(this._motionData.eventCount, cubismmotioninternal_1.CubismMotionEvent, true);\n        var totalPointCount = 0;\n        var totalSegmentCount = 0;\n        for (var curveCount = 0; curveCount < this._motionData.curveCount; ++curveCount) {\n            if (json.getMotionCurveTarget(curveCount) == TargetNameModel) {\n                this._motionData.curves.at(curveCount).type =\n                    cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n            }\n            else if (json.getMotionCurveTarget(curveCount) == TargetNameParameter) {\n                this._motionData.curves.at(curveCount).type =\n                    cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;\n            }\n            else if (json.getMotionCurveTarget(curveCount) == TargetNamePartOpacity) {\n                this._motionData.curves.at(curveCount).type =\n                    cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;\n            }\n            else {\n                (0, cubismdebug_1.CubismLogWarning)('Warning : Unable to get segment type from Curve! The number of \"CurveCount\" may be incorrect!');\n            }\n            this._motionData.curves.at(curveCount).id =\n                json.getMotionCurveId(curveCount);\n            this._motionData.curves.at(curveCount).baseSegmentIndex =\n                totalSegmentCount;\n            this._motionData.curves.at(curveCount).fadeInTime =\n                json.isExistMotionCurveFadeInTime(curveCount)\n                    ? json.getMotionCurveFadeInTime(curveCount)\n                    : -1.0;\n            this._motionData.curves.at(curveCount).fadeOutTime =\n                json.isExistMotionCurveFadeOutTime(curveCount)\n                    ? json.getMotionCurveFadeOutTime(curveCount)\n                    : -1.0;\n            for (var segmentPosition = 0; segmentPosition < json.getMotionCurveSegmentCount(curveCount);) {\n                if (segmentPosition == 0) {\n                    this._motionData.segments.at(totalSegmentCount).basePointIndex =\n                        totalPointCount;\n                    this._motionData.points.at(totalPointCount).time =\n                        json.getMotionCurveSegment(curveCount, segmentPosition);\n                    this._motionData.points.at(totalPointCount).value =\n                        json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                    totalPointCount += 1;\n                    segmentPosition += 2;\n                }\n                else {\n                    this._motionData.segments.at(totalSegmentCount).basePointIndex =\n                        totalPointCount - 1;\n                }\n                var segment = json.getMotionCurveSegment(curveCount, segmentPosition);\n                switch (segment) {\n                    case cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Linear: {\n                        this._motionData.segments.at(totalSegmentCount).segmentType =\n                            cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Linear;\n                        this._motionData.segments.at(totalSegmentCount).evaluate =\n                            linearEvaluate;\n                        this._motionData.points.at(totalPointCount).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        this._motionData.points.at(totalPointCount).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                        totalPointCount += 1;\n                        segmentPosition += 3;\n                        break;\n                    }\n                    case cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Bezier: {\n                        this._motionData.segments.at(totalSegmentCount).segmentType =\n                            cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Bezier;\n                        if (areBeziersRestructed || UseOldBeziersCurveMotion) {\n                            this._motionData.segments.at(totalSegmentCount).evaluate =\n                                bezierEvaluate;\n                        }\n                        else {\n                            this._motionData.segments.at(totalSegmentCount).evaluate =\n                                bezierEvaluateCardanoInterpretation;\n                        }\n                        this._motionData.points.at(totalPointCount).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        this._motionData.points.at(totalPointCount).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                        this._motionData.points.at(totalPointCount + 1).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 3);\n                        this._motionData.points.at(totalPointCount + 1).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 4);\n                        this._motionData.points.at(totalPointCount + 2).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 5);\n                        this._motionData.points.at(totalPointCount + 2).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 6);\n                        totalPointCount += 3;\n                        segmentPosition += 7;\n                        break;\n                    }\n                    case cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Stepped: {\n                        this._motionData.segments.at(totalSegmentCount).segmentType =\n                            cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_Stepped;\n                        this._motionData.segments.at(totalSegmentCount).evaluate =\n                            steppedEvaluate;\n                        this._motionData.points.at(totalPointCount).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        this._motionData.points.at(totalPointCount).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                        totalPointCount += 1;\n                        segmentPosition += 3;\n                        break;\n                    }\n                    case cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped: {\n                        this._motionData.segments.at(totalSegmentCount).segmentType =\n                            cubismmotioninternal_1.CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped;\n                        this._motionData.segments.at(totalSegmentCount).evaluate =\n                            inverseSteppedEvaluate;\n                        this._motionData.points.at(totalPointCount).time =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        this._motionData.points.at(totalPointCount).value =\n                            json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                        totalPointCount += 1;\n                        segmentPosition += 3;\n                        break;\n                    }\n                    default: {\n                        (0, cubismdebug_1.CSM_ASSERT)(0);\n                        break;\n                    }\n                }\n                ++this._motionData.curves.at(curveCount).segmentCount;\n                ++totalSegmentCount;\n            }\n        }\n        for (var userdatacount = 0; userdatacount < json.getEventCount(); ++userdatacount) {\n            this._motionData.events.at(userdatacount).fireTime =\n                json.getEventTime(userdatacount);\n            this._motionData.events.at(userdatacount).value =\n                json.getEventValue(userdatacount);\n        }\n        json.release();\n        json = void 0;\n        json = null;\n    };\n    CubismMotion.prototype.getFiredEvent = function (beforeCheckTimeSeconds, motionTimeSeconds) {\n        this._firedEventValues.updateSize(0);\n        for (var u = 0; u < this._motionData.eventCount; ++u) {\n            if (this._motionData.events.at(u).fireTime > beforeCheckTimeSeconds &&\n                this._motionData.events.at(u).fireTime <= motionTimeSeconds) {\n                this._firedEventValues.pushBack(new csmstring_1.csmString(this._motionData.events.at(u).value.s));\n            }\n        }\n        return this._firedEventValues;\n    };\n    CubismMotion.prototype.isExistModelOpacity = function () {\n        for (var i = 0; i < this._motionData.curveCount; i++) {\n            var curve = this._motionData.curves.at(i);\n            if (curve.type != cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model) {\n                continue;\n            }\n            if (curve.id.getString().s.localeCompare(IdNameOpacity) == 0) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CubismMotion.prototype.getModelOpacityIndex = function () {\n        if (this.isExistModelOpacity()) {\n            for (var i = 0; i < this._motionData.curveCount; i++) {\n                var curve = this._motionData.curves.at(i);\n                if (curve.type != cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model) {\n                    continue;\n                }\n                if (curve.id.getString().s.localeCompare(IdNameOpacity) == 0) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    };\n    CubismMotion.prototype.getModelOpacityId = function (index) {\n        if (index != -1) {\n            var curve = this._motionData.curves.at(index);\n            if (curve.type == cubismmotioninternal_1.CubismMotionCurveTarget.CubismMotionCurveTarget_Model) {\n                if (curve.id.getString().s.localeCompare(IdNameOpacity) == 0) {\n                    return live2dcubismframework_1.CubismFramework.getIdManager().getId(curve.id.getString().s);\n                }\n            }\n        }\n        return null;\n    };\n    CubismMotion.prototype.getModelOpacityValue = function () {\n        return this._modelOpacity;\n    };\n    return CubismMotion;\n}(acubismmotion_1.ACubismMotion));\nexports.CubismMotion = CubismMotion;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmotion */ \"./src/live2d/framework/motion/cubismmotion.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotion = $.CubismMotion;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/motion/cubismmotion.ts?");

/***/ }),

/***/ "./src/live2d/framework/motion/cubismmotioninternal.ts":
/*!*************************************************************!*\
  !*** ./src/live2d/framework/motion/cubismmotioninternal.ts ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMotionData = exports.CubismMotionEvent = exports.CubismMotionCurve = exports.CubismMotionSegment = exports.CubismMotionPoint = exports.CubismMotionSegmentType = exports.CubismMotionCurveTarget = void 0;\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar CubismMotionCurveTarget;\n(function (CubismMotionCurveTarget) {\n    CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_Model\"] = 0] = \"CubismMotionCurveTarget_Model\";\n    CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_Parameter\"] = 1] = \"CubismMotionCurveTarget_Parameter\";\n    CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_PartOpacity\"] = 2] = \"CubismMotionCurveTarget_PartOpacity\";\n})(CubismMotionCurveTarget = exports.CubismMotionCurveTarget || (exports.CubismMotionCurveTarget = {}));\nvar CubismMotionSegmentType;\n(function (CubismMotionSegmentType) {\n    CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Linear\"] = 0] = \"CubismMotionSegmentType_Linear\";\n    CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Bezier\"] = 1] = \"CubismMotionSegmentType_Bezier\";\n    CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Stepped\"] = 2] = \"CubismMotionSegmentType_Stepped\";\n    CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_InverseStepped\"] = 3] = \"CubismMotionSegmentType_InverseStepped\";\n})(CubismMotionSegmentType = exports.CubismMotionSegmentType || (exports.CubismMotionSegmentType = {}));\nvar CubismMotionPoint = (function () {\n    function CubismMotionPoint() {\n        this.time = 0.0;\n        this.value = 0.0;\n    }\n    return CubismMotionPoint;\n}());\nexports.CubismMotionPoint = CubismMotionPoint;\nvar CubismMotionSegment = (function () {\n    function CubismMotionSegment() {\n        this.evaluate = null;\n        this.basePointIndex = 0;\n        this.segmentType = 0;\n    }\n    return CubismMotionSegment;\n}());\nexports.CubismMotionSegment = CubismMotionSegment;\nvar CubismMotionCurve = (function () {\n    function CubismMotionCurve() {\n        this.type = CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n        this.segmentCount = 0;\n        this.baseSegmentIndex = 0;\n        this.fadeInTime = 0.0;\n        this.fadeOutTime = 0.0;\n    }\n    return CubismMotionCurve;\n}());\nexports.CubismMotionCurve = CubismMotionCurve;\nvar CubismMotionEvent = (function () {\n    function CubismMotionEvent() {\n        this.fireTime = 0.0;\n    }\n    return CubismMotionEvent;\n}());\nexports.CubismMotionEvent = CubismMotionEvent;\nvar CubismMotionData = (function () {\n    function CubismMotionData() {\n        this.duration = 0.0;\n        this.loop = false;\n        this.curveCount = 0;\n        this.eventCount = 0;\n        this.fps = 0.0;\n        this.curves = new csmvector_1.csmVector();\n        this.segments = new csmvector_1.csmVector();\n        this.points = new csmvector_1.csmVector();\n        this.events = new csmvector_1.csmVector();\n    }\n    return CubismMotionData;\n}());\nexports.CubismMotionData = CubismMotionData;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmotioninternal */ \"./src/live2d/framework/motion/cubismmotioninternal.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionCurve = $.CubismMotionCurve;\n    Live2DCubismFramework.CubismMotionCurveTarget = $.CubismMotionCurveTarget;\n    Live2DCubismFramework.CubismMotionData = $.CubismMotionData;\n    Live2DCubismFramework.CubismMotionEvent = $.CubismMotionEvent;\n    Live2DCubismFramework.CubismMotionPoint = $.CubismMotionPoint;\n    Live2DCubismFramework.CubismMotionSegment = $.CubismMotionSegment;\n    Live2DCubismFramework.CubismMotionSegmentType = $.CubismMotionSegmentType;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/motion/cubismmotioninternal.ts?");

/***/ }),

/***/ "./src/live2d/framework/motion/cubismmotionjson.ts":
/*!*********************************************************!*\
  !*** ./src/live2d/framework/motion/cubismmotionjson.ts ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.EvaluationOptionFlag = exports.CubismMotionJson = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./src/live2d/framework/type/csmstring.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\");\nvar Meta = 'Meta';\nvar Duration = 'Duration';\nvar Loop = 'Loop';\nvar AreBeziersRestricted = 'AreBeziersRestricted';\nvar CurveCount = 'CurveCount';\nvar Fps = 'Fps';\nvar TotalSegmentCount = 'TotalSegmentCount';\nvar TotalPointCount = 'TotalPointCount';\nvar Curves = 'Curves';\nvar Target = 'Target';\nvar Id = 'Id';\nvar FadeInTime = 'FadeInTime';\nvar FadeOutTime = 'FadeOutTime';\nvar Segments = 'Segments';\nvar UserData = 'UserData';\nvar UserDataCount = 'UserDataCount';\nvar TotalUserDataSize = 'TotalUserDataSize';\nvar Time = 'Time';\nvar Value = 'Value';\nvar CubismMotionJson = (function () {\n    function CubismMotionJson(buffer, size) {\n        this._json = cubismjson_1.CubismJson.create(buffer, size);\n    }\n    CubismMotionJson.prototype.release = function () {\n        cubismjson_1.CubismJson.delete(this._json);\n    };\n    CubismMotionJson.prototype.getMotionDuration = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(Duration)\n            .toFloat();\n    };\n    CubismMotionJson.prototype.isMotionLoop = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(Loop)\n            .toBoolean();\n    };\n    CubismMotionJson.prototype.getEvaluationOptionFlag = function (flagType) {\n        if (EvaluationOptionFlag.EvaluationOptionFlag_AreBeziersRistricted == flagType) {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(AreBeziersRestricted)\n                .toBoolean();\n        }\n        return false;\n    };\n    CubismMotionJson.prototype.getMotionCurveCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(CurveCount)\n            .toInt();\n    };\n    CubismMotionJson.prototype.getMotionFps = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(Fps)\n            .toFloat();\n    };\n    CubismMotionJson.prototype.getMotionTotalSegmentCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalSegmentCount)\n            .toInt();\n    };\n    CubismMotionJson.prototype.getMotionTotalPointCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalPointCount)\n            .toInt();\n    };\n    CubismMotionJson.prototype.isExistMotionFadeInTime = function () {\n        return !this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(FadeInTime)\n            .isNull();\n    };\n    CubismMotionJson.prototype.isExistMotionFadeOutTime = function () {\n        return !this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(FadeOutTime)\n            .isNull();\n    };\n    CubismMotionJson.prototype.getMotionFadeInTime = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(FadeInTime)\n            .toFloat();\n    };\n    CubismMotionJson.prototype.getMotionFadeOutTime = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(FadeOutTime)\n            .toFloat();\n    };\n    CubismMotionJson.prototype.getMotionCurveTarget = function (curveIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(Target)\n            .getRawString();\n    };\n    CubismMotionJson.prototype.getMotionCurveId = function (curveIndex) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(Id)\n            .getRawString());\n    };\n    CubismMotionJson.prototype.isExistMotionCurveFadeInTime = function (curveIndex) {\n        return !this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(FadeInTime)\n            .isNull();\n    };\n    CubismMotionJson.prototype.isExistMotionCurveFadeOutTime = function (curveIndex) {\n        return !this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(FadeOutTime)\n            .isNull();\n    };\n    CubismMotionJson.prototype.getMotionCurveFadeInTime = function (curveIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(FadeInTime)\n            .toFloat();\n    };\n    CubismMotionJson.prototype.getMotionCurveFadeOutTime = function (curveIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(FadeOutTime)\n            .toFloat();\n    };\n    CubismMotionJson.prototype.getMotionCurveSegmentCount = function (curveIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(Segments)\n            .getVector()\n            .getSize();\n    };\n    CubismMotionJson.prototype.getMotionCurveSegment = function (curveIndex, segmentIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(Curves)\n            .getValueByIndex(curveIndex)\n            .getValueByString(Segments)\n            .getValueByIndex(segmentIndex)\n            .toFloat();\n    };\n    CubismMotionJson.prototype.getEventCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(UserDataCount)\n            .toInt();\n    };\n    CubismMotionJson.prototype.getTotalEventValueSize = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalUserDataSize)\n            .toInt();\n    };\n    CubismMotionJson.prototype.getEventTime = function (userDataIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(userDataIndex)\n            .getValueByString(Time)\n            .toFloat();\n    };\n    CubismMotionJson.prototype.getEventValue = function (userDataIndex) {\n        return new csmstring_1.csmString(this._json\n            .getRoot()\n            .getValueByString(UserData)\n            .getValueByIndex(userDataIndex)\n            .getValueByString(Value)\n            .getRawString());\n    };\n    return CubismMotionJson;\n}());\nexports.CubismMotionJson = CubismMotionJson;\nvar EvaluationOptionFlag;\n(function (EvaluationOptionFlag) {\n    EvaluationOptionFlag[EvaluationOptionFlag[\"EvaluationOptionFlag_AreBeziersRistricted\"] = 0] = \"EvaluationOptionFlag_AreBeziersRistricted\";\n})(EvaluationOptionFlag = exports.EvaluationOptionFlag || (exports.EvaluationOptionFlag = {}));\nvar $ = __importStar(__webpack_require__(/*! ./cubismmotionjson */ \"./src/live2d/framework/motion/cubismmotionjson.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionJson = $.CubismMotionJson;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/motion/cubismmotionjson.ts?");

/***/ }),

/***/ "./src/live2d/framework/motion/cubismmotionmanager.ts":
/*!************************************************************!*\
  !*** ./src/live2d/framework/motion/cubismmotionmanager.ts ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMotionManager = void 0;\nvar cubismmotionqueuemanager_1 = __webpack_require__(/*! ./cubismmotionqueuemanager */ \"./src/live2d/framework/motion/cubismmotionqueuemanager.ts\");\nvar CubismMotionManager = (function (_super) {\n    __extends(CubismMotionManager, _super);\n    function CubismMotionManager() {\n        var _this = _super.call(this) || this;\n        _this._currentPriority = 0;\n        _this._reservePriority = 0;\n        return _this;\n    }\n    CubismMotionManager.prototype.getCurrentPriority = function () {\n        return this._currentPriority;\n    };\n    CubismMotionManager.prototype.getReservePriority = function () {\n        return this._reservePriority;\n    };\n    CubismMotionManager.prototype.setReservePriority = function (val) {\n        this._reservePriority = val;\n    };\n    CubismMotionManager.prototype.startMotionPriority = function (motion, autoDelete, priority) {\n        if (priority == this._reservePriority) {\n            this._reservePriority = 0;\n        }\n        this._currentPriority = priority;\n        return _super.prototype.startMotion.call(this, motion, autoDelete, this._userTimeSeconds);\n    };\n    CubismMotionManager.prototype.updateMotion = function (model, deltaTimeSeconds) {\n        this._userTimeSeconds += deltaTimeSeconds;\n        var updated = _super.prototype.doUpdateMotion.call(this, model, this._userTimeSeconds);\n        if (this.isFinished()) {\n            this._currentPriority = 0;\n        }\n        return updated;\n    };\n    CubismMotionManager.prototype.reserveMotion = function (priority) {\n        if (priority <= this._reservePriority ||\n            priority <= this._currentPriority) {\n            return false;\n        }\n        this._reservePriority = priority;\n        return true;\n    };\n    return CubismMotionManager;\n}(cubismmotionqueuemanager_1.CubismMotionQueueManager));\nexports.CubismMotionManager = CubismMotionManager;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmotionmanager */ \"./src/live2d/framework/motion/cubismmotionmanager.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionManager = $.CubismMotionManager;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/motion/cubismmotionmanager.ts?");

/***/ }),

/***/ "./src/live2d/framework/motion/cubismmotionqueueentry.ts":
/*!***************************************************************!*\
  !*** ./src/live2d/framework/motion/cubismmotionqueueentry.ts ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismMotionQueueEntry = void 0;\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./src/live2d/framework/motion/acubismmotion.ts\");\nvar CubismMotionQueueEntry = (function () {\n    function CubismMotionQueueEntry() {\n        this._autoDelete = false;\n        this._motion = null;\n        this._available = true;\n        this._finished = false;\n        this._started = false;\n        this._startTimeSeconds = -1.0;\n        this._fadeInStartTimeSeconds = 0.0;\n        this._endTimeSeconds = -1.0;\n        this._stateTimeSeconds = 0.0;\n        this._stateWeight = 0.0;\n        this._lastEventCheckSeconds = 0.0;\n        this._motionQueueEntryHandle = this;\n        this._fadeOutSeconds = 0.0;\n        this._isTriggeredFadeOut = false;\n    }\n    CubismMotionQueueEntry.prototype.release = function () {\n        if (this._autoDelete && this._motion) {\n            acubismmotion_1.ACubismMotion.delete(this._motion);\n        }\n    };\n    CubismMotionQueueEntry.prototype.setFadeOut = function (fadeOutSeconds) {\n        this._fadeOutSeconds = fadeOutSeconds;\n        this._isTriggeredFadeOut = true;\n    };\n    CubismMotionQueueEntry.prototype.startFadeOut = function (fadeOutSeconds, userTimeSeconds) {\n        var newEndTimeSeconds = userTimeSeconds + fadeOutSeconds;\n        this._isTriggeredFadeOut = true;\n        if (this._endTimeSeconds < 0.0 ||\n            newEndTimeSeconds < this._endTimeSeconds) {\n            this._endTimeSeconds = newEndTimeSeconds;\n        }\n    };\n    CubismMotionQueueEntry.prototype.isFinished = function () {\n        return this._finished;\n    };\n    CubismMotionQueueEntry.prototype.isStarted = function () {\n        return this._started;\n    };\n    CubismMotionQueueEntry.prototype.getStartTime = function () {\n        return this._startTimeSeconds;\n    };\n    CubismMotionQueueEntry.prototype.getFadeInStartTime = function () {\n        return this._fadeInStartTimeSeconds;\n    };\n    CubismMotionQueueEntry.prototype.getEndTime = function () {\n        return this._endTimeSeconds;\n    };\n    CubismMotionQueueEntry.prototype.setStartTime = function (startTime) {\n        this._startTimeSeconds = startTime;\n    };\n    CubismMotionQueueEntry.prototype.setFadeInStartTime = function (startTime) {\n        this._fadeInStartTimeSeconds = startTime;\n    };\n    CubismMotionQueueEntry.prototype.setEndTime = function (endTime) {\n        this._endTimeSeconds = endTime;\n    };\n    CubismMotionQueueEntry.prototype.setIsFinished = function (f) {\n        this._finished = f;\n    };\n    CubismMotionQueueEntry.prototype.setIsStarted = function (f) {\n        this._started = f;\n    };\n    CubismMotionQueueEntry.prototype.isAvailable = function () {\n        return this._available;\n    };\n    CubismMotionQueueEntry.prototype.setIsAvailable = function (v) {\n        this._available = v;\n    };\n    CubismMotionQueueEntry.prototype.setState = function (timeSeconds, weight) {\n        this._stateTimeSeconds = timeSeconds;\n        this._stateWeight = weight;\n    };\n    CubismMotionQueueEntry.prototype.getStateTime = function () {\n        return this._stateTimeSeconds;\n    };\n    CubismMotionQueueEntry.prototype.getStateWeight = function () {\n        return this._stateWeight;\n    };\n    CubismMotionQueueEntry.prototype.getLastCheckEventSeconds = function () {\n        return this._lastEventCheckSeconds;\n    };\n    CubismMotionQueueEntry.prototype.setLastCheckEventSeconds = function (checkSeconds) {\n        this._lastEventCheckSeconds = checkSeconds;\n    };\n    CubismMotionQueueEntry.prototype.isTriggeredFadeOut = function () {\n        return this._isTriggeredFadeOut;\n    };\n    CubismMotionQueueEntry.prototype.getFadeOutSeconds = function () {\n        return this._fadeOutSeconds;\n    };\n    return CubismMotionQueueEntry;\n}());\nexports.CubismMotionQueueEntry = CubismMotionQueueEntry;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmotionqueueentry */ \"./src/live2d/framework/motion/cubismmotionqueueentry.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionQueueEntry = $.CubismMotionQueueEntry;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/motion/cubismmotionqueueentry.ts?");

/***/ }),

/***/ "./src/live2d/framework/motion/cubismmotionqueuemanager.ts":
/*!*****************************************************************!*\
  !*** ./src/live2d/framework/motion/cubismmotionqueuemanager.ts ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.InvalidMotionQueueEntryHandleValue = exports.CubismMotionQueueManager = void 0;\nvar cubismmotionqueueentry_1 = __webpack_require__(/*! ./cubismmotionqueueentry */ \"./src/live2d/framework/motion/cubismmotionqueueentry.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar CubismMotionQueueManager = (function () {\n    function CubismMotionQueueManager() {\n        this._userTimeSeconds = 0.0;\n        this._eventCallBack = null;\n        this._eventCustomData = null;\n        this._motions = new csmvector_1.csmVector();\n    }\n    CubismMotionQueueManager.prototype.release = function () {\n        for (var i = 0; i < this._motions.getSize(); ++i) {\n            if (this._motions.at(i)) {\n                this._motions.at(i).release();\n                this._motions.set(i, null);\n            }\n        }\n        this._motions = null;\n    };\n    CubismMotionQueueManager.prototype.startMotion = function (motion, autoDelete, userTimeSeconds) {\n        if (motion == null) {\n            return exports.InvalidMotionQueueEntryHandleValue;\n        }\n        var motionQueueEntry = null;\n        for (var i = 0; i < this._motions.getSize(); ++i) {\n            motionQueueEntry = this._motions.at(i);\n            if (motionQueueEntry == null) {\n                continue;\n            }\n            motionQueueEntry.setFadeOut(motionQueueEntry._motion.getFadeOutTime());\n        }\n        motionQueueEntry = new cubismmotionqueueentry_1.CubismMotionQueueEntry();\n        motionQueueEntry._autoDelete = autoDelete;\n        motionQueueEntry._motion = motion;\n        this._motions.pushBack(motionQueueEntry);\n        return motionQueueEntry._motionQueueEntryHandle;\n    };\n    CubismMotionQueueManager.prototype.isFinished = function () {\n        for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n            var motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                ite = this._motions.erase(ite);\n                continue;\n            }\n            var motion = motionQueueEntry._motion;\n            if (motion == null) {\n                motionQueueEntry.release();\n                motionQueueEntry = null;\n                ite = this._motions.erase(ite);\n                continue;\n            }\n            if (!motionQueueEntry.isFinished()) {\n                return false;\n            }\n            else {\n                ite.preIncrement();\n            }\n        }\n        return true;\n    };\n    CubismMotionQueueManager.prototype.isFinishedByHandle = function (motionQueueEntryNumber) {\n        for (var ite = this._motions.begin(); ite.notEqual(this._motions.end()); ite.increment()) {\n            var motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                continue;\n            }\n            if (motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber &&\n                !motionQueueEntry.isFinished()) {\n                return false;\n            }\n        }\n        return true;\n    };\n    CubismMotionQueueManager.prototype.stopAllMotions = function () {\n        for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n            var motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                ite = this._motions.erase(ite);\n                continue;\n            }\n            motionQueueEntry.release();\n            motionQueueEntry = null;\n            ite = this._motions.erase(ite);\n        }\n    };\n    CubismMotionQueueManager.prototype.getCubismMotionQueueEntry = function (motionQueueEntryNumber) {\n        for (var ite = this._motions.begin(); ite.notEqual(this._motions.end()); ite.preIncrement()) {\n            var motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                continue;\n            }\n            if (motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber) {\n                return motionQueueEntry;\n            }\n        }\n        return null;\n    };\n    CubismMotionQueueManager.prototype.setEventCallback = function (callback, customData) {\n        if (customData === void 0) { customData = null; }\n        this._eventCallBack = callback;\n        this._eventCustomData = customData;\n    };\n    CubismMotionQueueManager.prototype.doUpdateMotion = function (model, userTimeSeconds) {\n        var updated = false;\n        for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n            var motionQueueEntry = ite.ptr();\n            if (motionQueueEntry == null) {\n                ite = this._motions.erase(ite);\n                continue;\n            }\n            var motion = motionQueueEntry._motion;\n            if (motion == null) {\n                motionQueueEntry.release();\n                motionQueueEntry = null;\n                ite = this._motions.erase(ite);\n                continue;\n            }\n            motion.updateParameters(model, motionQueueEntry, userTimeSeconds);\n            updated = true;\n            var firedList = motion.getFiredEvent(motionQueueEntry.getLastCheckEventSeconds() -\n                motionQueueEntry.getStartTime(), userTimeSeconds - motionQueueEntry.getStartTime());\n            for (var i = 0; i < firedList.getSize(); ++i) {\n                this._eventCallBack(this, firedList.at(i), this._eventCustomData);\n            }\n            motionQueueEntry.setLastCheckEventSeconds(userTimeSeconds);\n            if (motionQueueEntry.isFinished()) {\n                motionQueueEntry.release();\n                motionQueueEntry = null;\n                ite = this._motions.erase(ite);\n            }\n            else {\n                if (motionQueueEntry.isTriggeredFadeOut()) {\n                    motionQueueEntry.startFadeOut(motionQueueEntry.getFadeOutSeconds(), userTimeSeconds);\n                }\n                ite.preIncrement();\n            }\n        }\n        return updated;\n    };\n    return CubismMotionQueueManager;\n}());\nexports.CubismMotionQueueManager = CubismMotionQueueManager;\nexports.InvalidMotionQueueEntryHandleValue = -1;\nvar $ = __importStar(__webpack_require__(/*! ./cubismmotionqueuemanager */ \"./src/live2d/framework/motion/cubismmotionqueuemanager.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismMotionQueueManager = $.CubismMotionQueueManager;\n    Live2DCubismFramework.InvalidMotionQueueEntryHandleValue = $.InvalidMotionQueueEntryHandleValue;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/motion/cubismmotionqueuemanager.ts?");

/***/ }),

/***/ "./src/live2d/framework/physics/cubismphysics.ts":
/*!*******************************************************!*\
  !*** ./src/live2d/framework/physics/cubismphysics.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.PhysicsOutput = exports.Options = exports.CubismPhysics = void 0;\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./src/live2d/framework/math/cubismmath.ts\");\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./src/live2d/framework/math/cubismvector2.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismphysicsinternal_1 = __webpack_require__(/*! ./cubismphysicsinternal */ \"./src/live2d/framework/physics/cubismphysicsinternal.ts\");\nvar cubismphysicsjson_1 = __webpack_require__(/*! ./cubismphysicsjson */ \"./src/live2d/framework/physics/cubismphysicsjson.ts\");\nvar PhysicsTypeTagX = 'X';\nvar PhysicsTypeTagY = 'Y';\nvar PhysicsTypeTagAngle = 'Angle';\nvar AirResistance = 5.0;\nvar MaximumWeight = 100.0;\nvar MovementThreshold = 0.001;\nvar MaxDeltaTime = 5.0;\nvar CubismPhysics = (function () {\n    function CubismPhysics() {\n        this._physicsRig = null;\n        this._options = new Options();\n        this._options.gravity.y = -1.0;\n        this._options.gravity.x = 0.0;\n        this._options.wind.x = 0.0;\n        this._options.wind.y = 0.0;\n        this._currentRigOutputs = new csmvector_1.csmVector();\n        this._previousRigOutputs = new csmvector_1.csmVector();\n        this._currentRemainTime = 0.0;\n        this._parameterCaches = null;\n        this._parameterInputCaches = null;\n    }\n    CubismPhysics.create = function (buffer, size) {\n        var ret = new CubismPhysics();\n        ret.parse(buffer, size);\n        ret._physicsRig.gravity.y = 0;\n        return ret;\n    };\n    CubismPhysics.delete = function (physics) {\n        if (physics != null) {\n            physics.release();\n            physics = null;\n        }\n    };\n    CubismPhysics.prototype.parse = function (physicsJson, size) {\n        this._physicsRig = new cubismphysicsinternal_1.CubismPhysicsRig();\n        var json = new cubismphysicsjson_1.CubismPhysicsJson(physicsJson, size);\n        this._physicsRig.gravity = json.getGravity();\n        this._physicsRig.wind = json.getWind();\n        this._physicsRig.subRigCount = json.getSubRigCount();\n        this._physicsRig.fps = json.getFps();\n        this._physicsRig.settings.updateSize(this._physicsRig.subRigCount, cubismphysicsinternal_1.CubismPhysicsSubRig, true);\n        this._physicsRig.inputs.updateSize(json.getTotalInputCount(), cubismphysicsinternal_1.CubismPhysicsInput, true);\n        this._physicsRig.outputs.updateSize(json.getTotalOutputCount(), cubismphysicsinternal_1.CubismPhysicsOutput, true);\n        this._physicsRig.particles.updateSize(json.getVertexCount(), cubismphysicsinternal_1.CubismPhysicsParticle, true);\n        this._currentRigOutputs.clear();\n        this._previousRigOutputs.clear();\n        var inputIndex = 0, outputIndex = 0, particleIndex = 0;\n        for (var i = 0; i < this._physicsRig.settings.getSize(); ++i) {\n            this._physicsRig.settings.at(i).normalizationPosition.minimum =\n                json.getNormalizationPositionMinimumValue(i);\n            this._physicsRig.settings.at(i).normalizationPosition.maximum =\n                json.getNormalizationPositionMaximumValue(i);\n            this._physicsRig.settings.at(i).normalizationPosition.defalut =\n                json.getNormalizationPositionDefaultValue(i);\n            this._physicsRig.settings.at(i).normalizationAngle.minimum =\n                json.getNormalizationAngleMinimumValue(i);\n            this._physicsRig.settings.at(i).normalizationAngle.maximum =\n                json.getNormalizationAngleMaximumValue(i);\n            this._physicsRig.settings.at(i).normalizationAngle.defalut =\n                json.getNormalizationAngleDefaultValue(i);\n            this._physicsRig.settings.at(i).inputCount = json.getInputCount(i);\n            this._physicsRig.settings.at(i).baseInputIndex = inputIndex;\n            for (var j = 0; j < this._physicsRig.settings.at(i).inputCount; ++j) {\n                this._physicsRig.inputs.at(inputIndex + j).sourceParameterIndex = -1;\n                this._physicsRig.inputs.at(inputIndex + j).weight = json.getInputWeight(i, j);\n                this._physicsRig.inputs.at(inputIndex + j).reflect =\n                    json.getInputReflect(i, j);\n                if (json.getInputType(i, j) == PhysicsTypeTagX) {\n                    this._physicsRig.inputs.at(inputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_X;\n                    this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue =\n                        getInputTranslationXFromNormalizedParameterValue;\n                }\n                else if (json.getInputType(i, j) == PhysicsTypeTagY) {\n                    this._physicsRig.inputs.at(inputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_Y;\n                    this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue =\n                        getInputTranslationYFromNormalizedParamterValue;\n                }\n                else if (json.getInputType(i, j) == PhysicsTypeTagAngle) {\n                    this._physicsRig.inputs.at(inputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_Angle;\n                    this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue =\n                        getInputAngleFromNormalizedParameterValue;\n                }\n                this._physicsRig.inputs.at(inputIndex + j).source.targetType =\n                    cubismphysicsinternal_1.CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\n                this._physicsRig.inputs.at(inputIndex + j).source.id =\n                    json.getInputSourceId(i, j);\n            }\n            inputIndex += this._physicsRig.settings.at(i).inputCount;\n            this._physicsRig.settings.at(i).outputCount = json.getOutputCount(i);\n            this._physicsRig.settings.at(i).baseOutputIndex = outputIndex;\n            var currentRigOutput = new PhysicsOutput();\n            currentRigOutput.outputs.resize(this._physicsRig.settings.at(i).outputCount);\n            var previousRigOutput = new PhysicsOutput();\n            previousRigOutput.outputs.resize(this._physicsRig.settings.at(i).outputCount);\n            for (var j = 0; j < this._physicsRig.settings.at(i).outputCount; ++j) {\n                currentRigOutput.outputs.set(j, 0.0);\n                previousRigOutput.outputs.set(j, 0.0);\n                this._physicsRig.outputs.at(outputIndex + j).destinationParameterIndex =\n                    -1;\n                this._physicsRig.outputs.at(outputIndex + j).vertexIndex =\n                    json.getOutputVertexIndex(i, j);\n                this._physicsRig.outputs.at(outputIndex + j).angleScale =\n                    json.getOutputAngleScale(i, j);\n                this._physicsRig.outputs.at(outputIndex + j).weight =\n                    json.getOutputWeight(i, j);\n                this._physicsRig.outputs.at(outputIndex + j).destination.targetType =\n                    cubismphysicsinternal_1.CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\n                this._physicsRig.outputs.at(outputIndex + j).destination.id =\n                    json.getOutputDestinationId(i, j);\n                if (json.getOutputType(i, j) == PhysicsTypeTagX) {\n                    this._physicsRig.outputs.at(outputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_X;\n                    this._physicsRig.outputs.at(outputIndex + j).getValue =\n                        getOutputTranslationX;\n                    this._physicsRig.outputs.at(outputIndex + j).getScale =\n                        getOutputScaleTranslationX;\n                }\n                else if (json.getOutputType(i, j) == PhysicsTypeTagY) {\n                    this._physicsRig.outputs.at(outputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_Y;\n                    this._physicsRig.outputs.at(outputIndex + j).getValue =\n                        getOutputTranslationY;\n                    this._physicsRig.outputs.at(outputIndex + j).getScale =\n                        getOutputScaleTranslationY;\n                }\n                else if (json.getOutputType(i, j) == PhysicsTypeTagAngle) {\n                    this._physicsRig.outputs.at(outputIndex + j).type =\n                        cubismphysicsinternal_1.CubismPhysicsSource.CubismPhysicsSource_Angle;\n                    this._physicsRig.outputs.at(outputIndex + j).getValue =\n                        getOutputAngle;\n                    this._physicsRig.outputs.at(outputIndex + j).getScale =\n                        getOutputScaleAngle;\n                }\n                this._physicsRig.outputs.at(outputIndex + j).reflect =\n                    json.getOutputReflect(i, j);\n            }\n            this._currentRigOutputs.pushBack(currentRigOutput);\n            this._previousRigOutputs.pushBack(previousRigOutput);\n            outputIndex += this._physicsRig.settings.at(i).outputCount;\n            this._physicsRig.settings.at(i).particleCount = json.getParticleCount(i);\n            this._physicsRig.settings.at(i).baseParticleIndex = particleIndex;\n            for (var j = 0; j < this._physicsRig.settings.at(i).particleCount; ++j) {\n                this._physicsRig.particles.at(particleIndex + j).mobility =\n                    json.getParticleMobility(i, j);\n                this._physicsRig.particles.at(particleIndex + j).delay =\n                    json.getParticleDelay(i, j);\n                this._physicsRig.particles.at(particleIndex + j).acceleration =\n                    json.getParticleAcceleration(i, j);\n                this._physicsRig.particles.at(particleIndex + j).radius =\n                    json.getParticleRadius(i, j);\n                this._physicsRig.particles.at(particleIndex + j).position =\n                    json.getParticlePosition(i, j);\n            }\n            particleIndex += this._physicsRig.settings.at(i).particleCount;\n        }\n        this.initialize();\n        json.release();\n        json = void 0;\n        json = null;\n    };\n    CubismPhysics.prototype.stabilization = function (model) {\n        var _a, _b, _c, _d;\n        var totalAngle;\n        var weight;\n        var radAngle;\n        var outputValue;\n        var totalTranslation = new cubismvector2_1.CubismVector2();\n        var currentSetting;\n        var currentInputs;\n        var currentOutputs;\n        var currentParticles;\n        var parameterValues;\n        var parameterMaximumValues;\n        var parameterMinimumValues;\n        var parameterDefaultValues;\n        parameterValues = model.getModel().parameters.values;\n        parameterMaximumValues = model.getModel().parameters.maximumValues;\n        parameterMinimumValues = model.getModel().parameters.minimumValues;\n        parameterDefaultValues = model.getModel().parameters.defaultValues;\n        if (((_b = (_a = this._parameterCaches) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) < model.getParameterCount()) {\n            this._parameterCaches = new Float32Array(model.getParameterCount());\n        }\n        if (((_d = (_c = this._parameterInputCaches) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) < model.getParameterCount()) {\n            this._parameterInputCaches = new Float32Array(model.getParameterCount());\n        }\n        for (var j = 0; j < model.getParameterCount(); ++j) {\n            this._parameterCaches[j] = parameterValues[j];\n            this._parameterInputCaches[j] = parameterValues[j];\n        }\n        for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n            totalAngle = { angle: 0.0 };\n            totalTranslation.x = 0.0;\n            totalTranslation.y = 0.0;\n            currentSetting = this._physicsRig.settings.at(settingIndex);\n            currentInputs = this._physicsRig.inputs.get(currentSetting.baseInputIndex);\n            currentOutputs = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n            currentParticles = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\n            for (var i = 0; i < currentSetting.inputCount; ++i) {\n                weight = currentInputs[i].weight / MaximumWeight;\n                if (currentInputs[i].sourceParameterIndex == -1) {\n                    currentInputs[i].sourceParameterIndex = model.getParameterIndex(currentInputs[i].source.id);\n                }\n                currentInputs[i].getNormalizedParameterValue(totalTranslation, totalAngle, parameterValues[currentInputs[i].sourceParameterIndex], parameterMinimumValues[currentInputs[i].sourceParameterIndex], parameterMaximumValues[currentInputs[i].sourceParameterIndex], parameterDefaultValues[currentInputs[i].sourceParameterIndex], currentSetting.normalizationPosition, currentSetting.normalizationAngle, currentInputs[i].reflect, weight);\n                this._parameterCaches[currentInputs[i].sourceParameterIndex] =\n                    parameterValues[currentInputs[i].sourceParameterIndex];\n            }\n            radAngle = cubismmath_1.CubismMath.degreesToRadian(-totalAngle.angle);\n            totalTranslation.x =\n                totalTranslation.x * cubismmath_1.CubismMath.cos(radAngle) -\n                    totalTranslation.y * cubismmath_1.CubismMath.sin(radAngle);\n            totalTranslation.y =\n                totalTranslation.x * cubismmath_1.CubismMath.sin(radAngle) +\n                    totalTranslation.y * cubismmath_1.CubismMath.cos(radAngle);\n            updateParticlesForStabilization(currentParticles, currentSetting.particleCount, totalTranslation, totalAngle.angle, this._options.wind, MovementThreshold * currentSetting.normalizationPosition.maximum);\n            for (var i = 0; i < currentSetting.outputCount; ++i) {\n                var particleIndex = currentOutputs[i].vertexIndex;\n                if (currentOutputs[i].destinationParameterIndex == -1) {\n                    currentOutputs[i].destinationParameterIndex = model.getParameterIndex(currentOutputs[i].destination.id);\n                }\n                if (particleIndex < 1 ||\n                    particleIndex >= currentSetting.particleCount) {\n                    continue;\n                }\n                var translation = new cubismvector2_1.CubismVector2();\n                translation = currentParticles[particleIndex].position.substract(currentParticles[particleIndex - 1].position);\n                outputValue = currentOutputs[i].getValue(translation, currentParticles, particleIndex, currentOutputs[i].reflect, this._options.gravity);\n                this._currentRigOutputs.at(settingIndex).outputs.set(i, outputValue);\n                this._previousRigOutputs.at(settingIndex).outputs.set(i, outputValue);\n                var destinationParameterIndex = currentOutputs[i].destinationParameterIndex;\n                var outParameterCaches = !Float32Array.prototype.slice && 'subarray' in Float32Array.prototype\n                    ? JSON.parse(JSON.stringify(parameterValues.subarray(destinationParameterIndex)))\n                    : parameterValues.slice(destinationParameterIndex);\n                updateOutputParameterValue(outParameterCaches, parameterMinimumValues[destinationParameterIndex], parameterMaximumValues[destinationParameterIndex], outputValue, currentOutputs[i]);\n                for (var offset = destinationParameterIndex, outParamIndex = 0; offset < this._parameterCaches.length; offset++, outParamIndex++) {\n                    parameterValues[offset] = this._parameterCaches[offset] =\n                        outParameterCaches[outParamIndex];\n                }\n            }\n        }\n    };\n    CubismPhysics.prototype.evaluate = function (model, deltaTimeSeconds) {\n        var _a, _b, _c, _d;\n        var totalAngle;\n        var weight;\n        var radAngle;\n        var outputValue;\n        var totalTranslation = new cubismvector2_1.CubismVector2();\n        var currentSetting;\n        var currentInputs;\n        var currentOutputs;\n        var currentParticles;\n        if (0.0 >= deltaTimeSeconds) {\n            return;\n        }\n        var parameterValues;\n        var parameterMaximumValues;\n        var parameterMinimumValues;\n        var parameterDefaultValues;\n        var physicsDeltaTime;\n        this._currentRemainTime += deltaTimeSeconds;\n        if (this._currentRemainTime > MaxDeltaTime) {\n            this._currentRemainTime = 0.0;\n        }\n        parameterValues = model.getModel().parameters.values;\n        parameterMaximumValues = model.getModel().parameters.maximumValues;\n        parameterMinimumValues = model.getModel().parameters.minimumValues;\n        parameterDefaultValues = model.getModel().parameters.defaultValues;\n        if (((_b = (_a = this._parameterCaches) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) < model.getParameterCount()) {\n            this._parameterCaches = new Float32Array(model.getParameterCount());\n        }\n        if (((_d = (_c = this._parameterInputCaches) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) < model.getParameterCount()) {\n            this._parameterInputCaches = new Float32Array(model.getParameterCount());\n            for (var j = 0; j < model.getParameterCount(); ++j) {\n                this._parameterInputCaches[j] = parameterValues[j];\n            }\n        }\n        if (this._physicsRig.fps > 0.0) {\n            physicsDeltaTime = 1.0 / this._physicsRig.fps;\n        }\n        else {\n            physicsDeltaTime = deltaTimeSeconds;\n        }\n        while (this._currentRemainTime >= physicsDeltaTime) {\n            for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n                currentSetting = this._physicsRig.settings.at(settingIndex);\n                currentOutputs = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n                for (var i = 0; i < currentSetting.outputCount; ++i) {\n                    this._previousRigOutputs\n                        .at(settingIndex)\n                        .outputs.set(i, this._currentRigOutputs.at(settingIndex).outputs.at(i));\n                }\n            }\n            var inputWeight = physicsDeltaTime / this._currentRemainTime;\n            for (var j = 0; j < model.getParameterCount(); ++j) {\n                this._parameterCaches[j] =\n                    this._parameterInputCaches[j] * (1.0 - inputWeight) +\n                        parameterValues[j] * inputWeight;\n                this._parameterInputCaches[j] = this._parameterCaches[j];\n            }\n            for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n                totalAngle = { angle: 0.0 };\n                totalTranslation.x = 0.0;\n                totalTranslation.y = 0.0;\n                currentSetting = this._physicsRig.settings.at(settingIndex);\n                currentInputs = this._physicsRig.inputs.get(currentSetting.baseInputIndex);\n                currentOutputs = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n                currentParticles = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\n                for (var i = 0; i < currentSetting.inputCount; ++i) {\n                    weight = currentInputs[i].weight / MaximumWeight;\n                    if (currentInputs[i].sourceParameterIndex == -1) {\n                        currentInputs[i].sourceParameterIndex = model.getParameterIndex(currentInputs[i].source.id);\n                    }\n                    currentInputs[i].getNormalizedParameterValue(totalTranslation, totalAngle, this._parameterCaches[currentInputs[i].sourceParameterIndex], parameterMinimumValues[currentInputs[i].sourceParameterIndex], parameterMaximumValues[currentInputs[i].sourceParameterIndex], parameterDefaultValues[currentInputs[i].sourceParameterIndex], currentSetting.normalizationPosition, currentSetting.normalizationAngle, currentInputs[i].reflect, weight);\n                }\n                radAngle = cubismmath_1.CubismMath.degreesToRadian(-totalAngle.angle);\n                totalTranslation.x =\n                    totalTranslation.x * cubismmath_1.CubismMath.cos(radAngle) -\n                        totalTranslation.y * cubismmath_1.CubismMath.sin(radAngle);\n                totalTranslation.y =\n                    totalTranslation.x * cubismmath_1.CubismMath.sin(radAngle) +\n                        totalTranslation.y * cubismmath_1.CubismMath.cos(radAngle);\n                updateParticles(currentParticles, currentSetting.particleCount, totalTranslation, totalAngle.angle, this._options.wind, MovementThreshold * currentSetting.normalizationPosition.maximum, physicsDeltaTime, AirResistance);\n                for (var i = 0; i < currentSetting.outputCount; ++i) {\n                    var particleIndex = currentOutputs[i].vertexIndex;\n                    if (currentOutputs[i].destinationParameterIndex == -1) {\n                        currentOutputs[i].destinationParameterIndex =\n                            model.getParameterIndex(currentOutputs[i].destination.id);\n                    }\n                    if (particleIndex < 1 ||\n                        particleIndex >= currentSetting.particleCount) {\n                        continue;\n                    }\n                    var translation = new cubismvector2_1.CubismVector2();\n                    translation.x =\n                        currentParticles[particleIndex].position.x -\n                            currentParticles[particleIndex - 1].position.x;\n                    translation.y =\n                        currentParticles[particleIndex].position.y -\n                            currentParticles[particleIndex - 1].position.y;\n                    outputValue = currentOutputs[i].getValue(translation, currentParticles, particleIndex, currentOutputs[i].reflect, this._options.gravity);\n                    this._currentRigOutputs.at(settingIndex).outputs.set(i, outputValue);\n                    var destinationParameterIndex = currentOutputs[i].destinationParameterIndex;\n                    var outParameterCaches = !Float32Array.prototype.slice &&\n                        'subarray' in Float32Array.prototype\n                        ? JSON.parse(JSON.stringify(this._parameterCaches.subarray(destinationParameterIndex)))\n                        : this._parameterCaches.slice(destinationParameterIndex);\n                    updateOutputParameterValue(outParameterCaches, parameterMinimumValues[destinationParameterIndex], parameterMaximumValues[destinationParameterIndex], outputValue, currentOutputs[i]);\n                    for (var offset = destinationParameterIndex, outParamIndex = 0; offset < this._parameterCaches.length; offset++, outParamIndex++) {\n                        this._parameterCaches[offset] = outParameterCaches[outParamIndex];\n                    }\n                }\n            }\n            this._currentRemainTime -= physicsDeltaTime;\n        }\n        var alpha = this._currentRemainTime / physicsDeltaTime;\n        this.interpolate(model, alpha);\n    };\n    CubismPhysics.prototype.interpolate = function (model, weight) {\n        var currentOutputs;\n        var currentSetting;\n        var parameterValues;\n        var parameterMaximumValues;\n        var parameterMinimumValues;\n        parameterValues = model.getModel().parameters.values;\n        parameterMaximumValues = model.getModel().parameters.maximumValues;\n        parameterMinimumValues = model.getModel().parameters.minimumValues;\n        for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n            currentSetting = this._physicsRig.settings.at(settingIndex);\n            currentOutputs = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n            for (var i = 0; i < currentSetting.outputCount; ++i) {\n                if (currentOutputs[i].destinationParameterIndex == -1) {\n                    continue;\n                }\n                var destinationParameterIndex = currentOutputs[i].destinationParameterIndex;\n                var outParameterValues = !Float32Array.prototype.slice && 'subarray' in Float32Array.prototype\n                    ? JSON.parse(JSON.stringify(parameterValues.subarray(destinationParameterIndex)))\n                    : parameterValues.slice(destinationParameterIndex);\n                updateOutputParameterValue(outParameterValues, parameterMinimumValues[destinationParameterIndex], parameterMaximumValues[destinationParameterIndex], this._previousRigOutputs.at(settingIndex).outputs.at(i) *\n                    (1 - weight) +\n                    this._currentRigOutputs.at(settingIndex).outputs.at(i) * weight, currentOutputs[i]);\n                for (var offset = destinationParameterIndex, outParamIndex = 0; offset < parameterValues.length; offset++, outParamIndex++) {\n                    parameterValues[offset] = outParameterValues[outParamIndex];\n                }\n            }\n        }\n    };\n    CubismPhysics.prototype.setOptions = function (options) {\n        this._options = options;\n    };\n    CubismPhysics.prototype.getOption = function () {\n        return this._options;\n    };\n    CubismPhysics.prototype.release = function () {\n        this._physicsRig = void 0;\n        this._physicsRig = null;\n    };\n    CubismPhysics.prototype.initialize = function () {\n        var strand;\n        var currentSetting;\n        var radius;\n        for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n            currentSetting = this._physicsRig.settings.at(settingIndex);\n            strand = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\n            strand[0].initialPosition = new cubismvector2_1.CubismVector2(0.0, 0.0);\n            strand[0].lastPosition = new cubismvector2_1.CubismVector2(strand[0].initialPosition.x, strand[0].initialPosition.y);\n            strand[0].lastGravity = new cubismvector2_1.CubismVector2(0.0, -1.0);\n            strand[0].lastGravity.y *= -1.0;\n            strand[0].velocity = new cubismvector2_1.CubismVector2(0.0, 0.0);\n            strand[0].force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n            for (var i = 1; i < currentSetting.particleCount; ++i) {\n                radius = new cubismvector2_1.CubismVector2(0.0, 0.0);\n                radius.y = strand[i].radius;\n                strand[i].initialPosition = new cubismvector2_1.CubismVector2(strand[i - 1].initialPosition.x + radius.x, strand[i - 1].initialPosition.y + radius.y);\n                strand[i].position = new cubismvector2_1.CubismVector2(strand[i].initialPosition.x, strand[i].initialPosition.y);\n                strand[i].lastPosition = new cubismvector2_1.CubismVector2(strand[i].initialPosition.x, strand[i].initialPosition.y);\n                strand[i].lastGravity = new cubismvector2_1.CubismVector2(0.0, -1.0);\n                strand[i].lastGravity.y *= -1.0;\n                strand[i].velocity = new cubismvector2_1.CubismVector2(0.0, 0.0);\n                strand[i].force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n            }\n        }\n    };\n    return CubismPhysics;\n}());\nexports.CubismPhysics = CubismPhysics;\nvar Options = (function () {\n    function Options() {\n        this.gravity = new cubismvector2_1.CubismVector2(0, 0);\n        this.wind = new cubismvector2_1.CubismVector2(0, 0);\n    }\n    return Options;\n}());\nexports.Options = Options;\nvar PhysicsOutput = (function () {\n    function PhysicsOutput() {\n        this.outputs = new csmvector_1.csmVector(0);\n    }\n    return PhysicsOutput;\n}());\nexports.PhysicsOutput = PhysicsOutput;\nfunction sign(value) {\n    var ret = 0;\n    if (value > 0.0) {\n        ret = 1;\n    }\n    else if (value < 0.0) {\n        ret = -1;\n    }\n    return ret;\n}\nfunction getInputTranslationXFromNormalizedParameterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition, normalizationAngle, isInverted, weight) {\n    targetTranslation.x +=\n        normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition.minimum, normalizationPosition.maximum, normalizationPosition.defalut, isInverted) * weight;\n}\nfunction getInputTranslationYFromNormalizedParamterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition, normalizationAngle, isInverted, weight) {\n    targetTranslation.y +=\n        normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition.minimum, normalizationPosition.maximum, normalizationPosition.defalut, isInverted) * weight;\n}\nfunction getInputAngleFromNormalizedParameterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizaitionPosition, normalizationAngle, isInverted, weight) {\n    targetAngle.angle +=\n        normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationAngle.minimum, normalizationAngle.maximum, normalizationAngle.defalut, isInverted) * weight;\n}\nfunction getOutputTranslationX(translation, particles, particleIndex, isInverted, parentGravity) {\n    var outputValue = translation.x;\n    if (isInverted) {\n        outputValue *= -1.0;\n    }\n    return outputValue;\n}\nfunction getOutputTranslationY(translation, particles, particleIndex, isInverted, parentGravity) {\n    var outputValue = translation.y;\n    if (isInverted) {\n        outputValue *= -1.0;\n    }\n    return outputValue;\n}\nfunction getOutputAngle(translation, particles, particleIndex, isInverted, parentGravity) {\n    var outputValue;\n    if (particleIndex >= 2) {\n        parentGravity = particles[particleIndex - 1].position.substract(particles[particleIndex - 2].position);\n    }\n    else {\n        parentGravity = parentGravity.multiplyByScaler(-1.0);\n    }\n    outputValue = cubismmath_1.CubismMath.directionToRadian(parentGravity, translation);\n    if (isInverted) {\n        outputValue *= -1.0;\n    }\n    return outputValue;\n}\nfunction getRangeValue(min, max) {\n    var maxValue = cubismmath_1.CubismMath.max(min, max);\n    var minValue = cubismmath_1.CubismMath.min(min, max);\n    return cubismmath_1.CubismMath.abs(maxValue - minValue);\n}\nfunction getDefaultValue(min, max) {\n    var minValue = cubismmath_1.CubismMath.min(min, max);\n    return minValue + getRangeValue(min, max) / 2.0;\n}\nfunction getOutputScaleTranslationX(translationScale, angleScale) {\n    return JSON.parse(JSON.stringify(translationScale.x));\n}\nfunction getOutputScaleTranslationY(translationScale, angleScale) {\n    return JSON.parse(JSON.stringify(translationScale.y));\n}\nfunction getOutputScaleAngle(translationScale, angleScale) {\n    return JSON.parse(JSON.stringify(angleScale));\n}\nfunction updateParticles(strand, strandCount, totalTranslation, totalAngle, windDirection, thresholdValue, deltaTimeSeconds, airResistance) {\n    var totalRadian;\n    var delay;\n    var radian;\n    var currentGravity;\n    var direction = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    var velocity = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    var force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    var newDirection = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    strand[0].position = new cubismvector2_1.CubismVector2(totalTranslation.x, totalTranslation.y);\n    totalRadian = cubismmath_1.CubismMath.degreesToRadian(totalAngle);\n    currentGravity = cubismmath_1.CubismMath.radianToDirection(totalRadian);\n    currentGravity.normalize();\n    for (var i = 1; i < strandCount; ++i) {\n        strand[i].force = currentGravity\n            .multiplyByScaler(strand[i].acceleration)\n            .add(windDirection);\n        strand[i].lastPosition = new cubismvector2_1.CubismVector2(strand[i].position.x, strand[i].position.y);\n        delay = strand[i].delay * deltaTimeSeconds * 30.0;\n        direction = strand[i].position.substract(strand[i - 1].position);\n        radian =\n            cubismmath_1.CubismMath.directionToRadian(strand[i].lastGravity, currentGravity) /\n                airResistance;\n        direction.x =\n            cubismmath_1.CubismMath.cos(radian) * direction.x -\n                direction.y * cubismmath_1.CubismMath.sin(radian);\n        direction.y =\n            cubismmath_1.CubismMath.sin(radian) * direction.x +\n                direction.y * cubismmath_1.CubismMath.cos(radian);\n        strand[i].position = strand[i - 1].position.add(direction);\n        velocity = strand[i].velocity.multiplyByScaler(delay);\n        force = strand[i].force.multiplyByScaler(delay).multiplyByScaler(delay);\n        strand[i].position = strand[i].position.add(velocity).add(force);\n        newDirection = strand[i].position.substract(strand[i - 1].position);\n        newDirection.normalize();\n        strand[i].position = strand[i - 1].position.add(newDirection.multiplyByScaler(strand[i].radius));\n        if (cubismmath_1.CubismMath.abs(strand[i].position.x) < thresholdValue) {\n            strand[i].position.x = 0.0;\n        }\n        if (delay != 0.0) {\n            strand[i].velocity = strand[i].position.substract(strand[i].lastPosition);\n            strand[i].velocity = strand[i].velocity.divisionByScalar(delay);\n            strand[i].velocity = strand[i].velocity.multiplyByScaler(strand[i].mobility);\n        }\n        strand[i].force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n        strand[i].lastGravity = new cubismvector2_1.CubismVector2(currentGravity.x, currentGravity.y);\n    }\n}\nfunction updateParticlesForStabilization(strand, strandCount, totalTranslation, totalAngle, windDirection, thresholdValue) {\n    var totalRadian;\n    var currentGravity;\n    var force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n    strand[0].position = new cubismvector2_1.CubismVector2(totalTranslation.x, totalTranslation.y);\n    totalRadian = cubismmath_1.CubismMath.degreesToRadian(totalAngle);\n    currentGravity = cubismmath_1.CubismMath.radianToDirection(totalRadian);\n    currentGravity.normalize();\n    for (var i = 1; i < strandCount; ++i) {\n        strand[i].force = currentGravity\n            .multiplyByScaler(strand[i].acceleration)\n            .add(windDirection);\n        strand[i].lastPosition = new cubismvector2_1.CubismVector2(strand[i].position.x, strand[i].position.y);\n        strand[i].velocity = new cubismvector2_1.CubismVector2(0.0, 0.0);\n        force = strand[i].force;\n        force.normalize();\n        force = force.multiplyByScaler(strand[i].radius);\n        strand[i].position = strand[i - 1].position.add(force);\n        if (cubismmath_1.CubismMath.abs(strand[i].position.x) < thresholdValue) {\n            strand[i].position.x = 0.0;\n        }\n        strand[i].force = new cubismvector2_1.CubismVector2(0.0, 0.0);\n        strand[i].lastGravity = new cubismvector2_1.CubismVector2(currentGravity.x, currentGravity.y);\n    }\n}\nfunction updateOutputParameterValue(parameterValue, parameterValueMinimum, parameterValueMaximum, translation, output) {\n    var outputScale;\n    var value;\n    var weight;\n    outputScale = output.getScale(output.translationScale, output.angleScale);\n    value = translation * outputScale;\n    if (value < parameterValueMinimum) {\n        if (value < output.valueBelowMinimum) {\n            output.valueBelowMinimum = value;\n        }\n        value = parameterValueMinimum;\n    }\n    else if (value > parameterValueMaximum) {\n        if (value > output.valueExceededMaximum) {\n            output.valueExceededMaximum = value;\n        }\n        value = parameterValueMaximum;\n    }\n    weight = output.weight / MaximumWeight;\n    if (weight >= 1.0) {\n        parameterValue[0] = value;\n    }\n    else {\n        value = parameterValue[0] * (1.0 - weight) + value * weight;\n        parameterValue[0] = value;\n    }\n}\nfunction normalizeParameterValue(value, parameterMinimum, parameterMaximum, parameterDefault, normalizedMinimum, normalizedMaximum, normalizedDefault, isInverted) {\n    var result = 0.0;\n    var maxValue = cubismmath_1.CubismMath.max(parameterMaximum, parameterMinimum);\n    if (maxValue < value) {\n        value = maxValue;\n    }\n    var minValue = cubismmath_1.CubismMath.min(parameterMaximum, parameterMinimum);\n    if (minValue > value) {\n        value = minValue;\n    }\n    var minNormValue = cubismmath_1.CubismMath.min(normalizedMinimum, normalizedMaximum);\n    var maxNormValue = cubismmath_1.CubismMath.max(normalizedMinimum, normalizedMaximum);\n    var middleNormValue = normalizedDefault;\n    var middleValue = getDefaultValue(minValue, maxValue);\n    var paramValue = value - middleValue;\n    switch (sign(paramValue)) {\n        case 1: {\n            var nLength = maxNormValue - middleNormValue;\n            var pLength = maxValue - middleValue;\n            if (pLength != 0.0) {\n                result = paramValue * (nLength / pLength);\n                result += middleNormValue;\n            }\n            break;\n        }\n        case -1: {\n            var nLength = minNormValue - middleNormValue;\n            var pLength = minValue - middleValue;\n            if (pLength != 0.0) {\n                result = paramValue * (nLength / pLength);\n                result += middleNormValue;\n            }\n            break;\n        }\n        case 0: {\n            result = middleNormValue;\n            break;\n        }\n        default: {\n            break;\n        }\n    }\n    return isInverted ? result : result * -1.0;\n}\nvar $ = __importStar(__webpack_require__(/*! ./cubismphysics */ \"./src/live2d/framework/physics/cubismphysics.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismPhysics = $.CubismPhysics;\n    Live2DCubismFramework.Options = $.Options;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/physics/cubismphysics.ts?");

/***/ }),

/***/ "./src/live2d/framework/physics/cubismphysicsinternal.ts":
/*!***************************************************************!*\
  !*** ./src/live2d/framework/physics/cubismphysicsinternal.ts ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismPhysicsRig = exports.CubismPhysicsOutput = exports.CubismPhysicsInput = exports.CubismPhysicsSubRig = exports.CubismPhysicsParticle = exports.CubismPhysicsNormalization = exports.CubismPhysicsParameter = exports.PhysicsJsonEffectiveForces = exports.CubismPhysicsSource = exports.CubismPhysicsTargetType = void 0;\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./src/live2d/framework/math/cubismvector2.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar CubismPhysicsTargetType;\n(function (CubismPhysicsTargetType) {\n    CubismPhysicsTargetType[CubismPhysicsTargetType[\"CubismPhysicsTargetType_Parameter\"] = 0] = \"CubismPhysicsTargetType_Parameter\";\n})(CubismPhysicsTargetType = exports.CubismPhysicsTargetType || (exports.CubismPhysicsTargetType = {}));\nvar CubismPhysicsSource;\n(function (CubismPhysicsSource) {\n    CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_X\"] = 0] = \"CubismPhysicsSource_X\";\n    CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_Y\"] = 1] = \"CubismPhysicsSource_Y\";\n    CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_Angle\"] = 2] = \"CubismPhysicsSource_Angle\";\n})(CubismPhysicsSource = exports.CubismPhysicsSource || (exports.CubismPhysicsSource = {}));\nvar PhysicsJsonEffectiveForces = (function () {\n    function PhysicsJsonEffectiveForces() {\n        this.gravity = new cubismvector2_1.CubismVector2(0, 0);\n        this.wind = new cubismvector2_1.CubismVector2(0, 0);\n    }\n    return PhysicsJsonEffectiveForces;\n}());\nexports.PhysicsJsonEffectiveForces = PhysicsJsonEffectiveForces;\nvar CubismPhysicsParameter = (function () {\n    function CubismPhysicsParameter() {\n    }\n    return CubismPhysicsParameter;\n}());\nexports.CubismPhysicsParameter = CubismPhysicsParameter;\nvar CubismPhysicsNormalization = (function () {\n    function CubismPhysicsNormalization() {\n    }\n    return CubismPhysicsNormalization;\n}());\nexports.CubismPhysicsNormalization = CubismPhysicsNormalization;\nvar CubismPhysicsParticle = (function () {\n    function CubismPhysicsParticle() {\n        this.initialPosition = new cubismvector2_1.CubismVector2(0, 0);\n        this.position = new cubismvector2_1.CubismVector2(0, 0);\n        this.lastPosition = new cubismvector2_1.CubismVector2(0, 0);\n        this.lastGravity = new cubismvector2_1.CubismVector2(0, 0);\n        this.force = new cubismvector2_1.CubismVector2(0, 0);\n        this.velocity = new cubismvector2_1.CubismVector2(0, 0);\n    }\n    return CubismPhysicsParticle;\n}());\nexports.CubismPhysicsParticle = CubismPhysicsParticle;\nvar CubismPhysicsSubRig = (function () {\n    function CubismPhysicsSubRig() {\n        this.normalizationPosition = new CubismPhysicsNormalization();\n        this.normalizationAngle = new CubismPhysicsNormalization();\n    }\n    return CubismPhysicsSubRig;\n}());\nexports.CubismPhysicsSubRig = CubismPhysicsSubRig;\nvar CubismPhysicsInput = (function () {\n    function CubismPhysicsInput() {\n        this.source = new CubismPhysicsParameter();\n    }\n    return CubismPhysicsInput;\n}());\nexports.CubismPhysicsInput = CubismPhysicsInput;\nvar CubismPhysicsOutput = (function () {\n    function CubismPhysicsOutput() {\n        this.destination = new CubismPhysicsParameter();\n        this.translationScale = new cubismvector2_1.CubismVector2(0, 0);\n    }\n    return CubismPhysicsOutput;\n}());\nexports.CubismPhysicsOutput = CubismPhysicsOutput;\nvar CubismPhysicsRig = (function () {\n    function CubismPhysicsRig() {\n        this.settings = new csmvector_1.csmVector();\n        this.inputs = new csmvector_1.csmVector();\n        this.outputs = new csmvector_1.csmVector();\n        this.particles = new csmvector_1.csmVector();\n        this.gravity = new cubismvector2_1.CubismVector2(0, 0);\n        this.wind = new cubismvector2_1.CubismVector2(0, 0);\n        this.fps = 0.0;\n    }\n    return CubismPhysicsRig;\n}());\nexports.CubismPhysicsRig = CubismPhysicsRig;\nvar $ = __importStar(__webpack_require__(/*! ./cubismphysicsinternal */ \"./src/live2d/framework/physics/cubismphysicsinternal.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismPhysicsInput = $.CubismPhysicsInput;\n    Live2DCubismFramework.CubismPhysicsNormalization = $.CubismPhysicsNormalization;\n    Live2DCubismFramework.CubismPhysicsOutput = $.CubismPhysicsOutput;\n    Live2DCubismFramework.CubismPhysicsParameter = $.CubismPhysicsParameter;\n    Live2DCubismFramework.CubismPhysicsParticle = $.CubismPhysicsParticle;\n    Live2DCubismFramework.CubismPhysicsRig = $.CubismPhysicsRig;\n    Live2DCubismFramework.CubismPhysicsSource = $.CubismPhysicsSource;\n    Live2DCubismFramework.CubismPhysicsSubRig = $.CubismPhysicsSubRig;\n    Live2DCubismFramework.CubismPhysicsTargetType = $.CubismPhysicsTargetType;\n    Live2DCubismFramework.PhysicsJsonEffectiveForces = $.PhysicsJsonEffectiveForces;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/physics/cubismphysicsinternal.ts?");

/***/ }),

/***/ "./src/live2d/framework/physics/cubismphysicsjson.ts":
/*!***********************************************************!*\
  !*** ./src/live2d/framework/physics/cubismphysicsjson.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismPhysicsJson = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./src/live2d/framework/math/cubismvector2.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\");\nvar Position = 'Position';\nvar X = 'X';\nvar Y = 'Y';\nvar Angle = 'Angle';\nvar Type = 'Type';\nvar Id = 'Id';\nvar Meta = 'Meta';\nvar EffectiveForces = 'EffectiveForces';\nvar TotalInputCount = 'TotalInputCount';\nvar TotalOutputCount = 'TotalOutputCount';\nvar PhysicsSettingCount = 'PhysicsSettingCount';\nvar Gravity = 'Gravity';\nvar Wind = 'Wind';\nvar VertexCount = 'VertexCount';\nvar Fps = 'Fps';\nvar PhysicsSettings = 'PhysicsSettings';\nvar Normalization = 'Normalization';\nvar Minimum = 'Minimum';\nvar Maximum = 'Maximum';\nvar Default = 'Default';\nvar Reflect = 'Reflect';\nvar Weight = 'Weight';\nvar Input = 'Input';\nvar Source = 'Source';\nvar Output = 'Output';\nvar Scale = 'Scale';\nvar VertexIndex = 'VertexIndex';\nvar Destination = 'Destination';\nvar Vertices = 'Vertices';\nvar Mobility = 'Mobility';\nvar Delay = 'Delay';\nvar Radius = 'Radius';\nvar Acceleration = 'Acceleration';\nvar CubismPhysicsJson = (function () {\n    function CubismPhysicsJson(buffer, size) {\n        this._json = cubismjson_1.CubismJson.create(buffer, size);\n    }\n    CubismPhysicsJson.prototype.release = function () {\n        cubismjson_1.CubismJson.delete(this._json);\n    };\n    CubismPhysicsJson.prototype.getGravity = function () {\n        var ret = new cubismvector2_1.CubismVector2(0, 0);\n        ret.x = this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(EffectiveForces)\n            .getValueByString(Gravity)\n            .getValueByString(X)\n            .toFloat();\n        ret.y = this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(EffectiveForces)\n            .getValueByString(Gravity)\n            .getValueByString(Y)\n            .toFloat();\n        return ret;\n    };\n    CubismPhysicsJson.prototype.getWind = function () {\n        var ret = new cubismvector2_1.CubismVector2(0, 0);\n        ret.x = this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(EffectiveForces)\n            .getValueByString(Wind)\n            .getValueByString(X)\n            .toFloat();\n        ret.y = this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(EffectiveForces)\n            .getValueByString(Wind)\n            .getValueByString(Y)\n            .toFloat();\n        return ret;\n    };\n    CubismPhysicsJson.prototype.getFps = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(Fps)\n            .toFloat(0.0);\n    };\n    CubismPhysicsJson.prototype.getSubRigCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(PhysicsSettingCount)\n            .toInt();\n    };\n    CubismPhysicsJson.prototype.getTotalInputCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalInputCount)\n            .toInt();\n    };\n    CubismPhysicsJson.prototype.getTotalOutputCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(TotalOutputCount)\n            .toInt();\n    };\n    CubismPhysicsJson.prototype.getVertexCount = function () {\n        return this._json\n            .getRoot()\n            .getValueByString(Meta)\n            .getValueByString(VertexCount)\n            .toInt();\n    };\n    CubismPhysicsJson.prototype.getNormalizationPositionMinimumValue = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Position)\n            .getValueByString(Minimum)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getNormalizationPositionMaximumValue = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Position)\n            .getValueByString(Maximum)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getNormalizationPositionDefaultValue = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Position)\n            .getValueByString(Default)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getNormalizationAngleMinimumValue = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Angle)\n            .getValueByString(Minimum)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getNormalizationAngleMaximumValue = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Angle)\n            .getValueByString(Maximum)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getNormalizationAngleDefaultValue = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Normalization)\n            .getValueByString(Angle)\n            .getValueByString(Default)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getInputCount = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getVector()\n            .getSize();\n    };\n    CubismPhysicsJson.prototype.getInputWeight = function (physicsSettingIndex, inputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getValueByIndex(inputIndex)\n            .getValueByString(Weight)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getInputReflect = function (physicsSettingIndex, inputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getValueByIndex(inputIndex)\n            .getValueByString(Reflect)\n            .toBoolean();\n    };\n    CubismPhysicsJson.prototype.getInputType = function (physicsSettingIndex, inputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getValueByIndex(inputIndex)\n            .getValueByString(Type)\n            .getRawString();\n    };\n    CubismPhysicsJson.prototype.getInputSourceId = function (physicsSettingIndex, inputIndex) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Input)\n            .getValueByIndex(inputIndex)\n            .getValueByString(Source)\n            .getValueByString(Id)\n            .getRawString());\n    };\n    CubismPhysicsJson.prototype.getOutputCount = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getVector()\n            .getSize();\n    };\n    CubismPhysicsJson.prototype.getOutputVertexIndex = function (physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(VertexIndex)\n            .toInt();\n    };\n    CubismPhysicsJson.prototype.getOutputAngleScale = function (physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Scale)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getOutputWeight = function (physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Weight)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getOutputDestinationId = function (physicsSettingIndex, outputIndex) {\n        return live2dcubismframework_1.CubismFramework.getIdManager().getId(this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Destination)\n            .getValueByString(Id)\n            .getRawString());\n    };\n    CubismPhysicsJson.prototype.getOutputType = function (physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Type)\n            .getRawString();\n    };\n    CubismPhysicsJson.prototype.getOutputReflect = function (physicsSettingIndex, outputIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Output)\n            .getValueByIndex(outputIndex)\n            .getValueByString(Reflect)\n            .toBoolean();\n    };\n    CubismPhysicsJson.prototype.getParticleCount = function (physicsSettingIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getVector()\n            .getSize();\n    };\n    CubismPhysicsJson.prototype.getParticleMobility = function (physicsSettingIndex, vertexIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Mobility)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getParticleDelay = function (physicsSettingIndex, vertexIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Delay)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getParticleAcceleration = function (physicsSettingIndex, vertexIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Acceleration)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getParticleRadius = function (physicsSettingIndex, vertexIndex) {\n        return this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Radius)\n            .toFloat();\n    };\n    CubismPhysicsJson.prototype.getParticlePosition = function (physicsSettingIndex, vertexIndex) {\n        var ret = new cubismvector2_1.CubismVector2(0, 0);\n        ret.x = this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Position)\n            .getValueByString(X)\n            .toFloat();\n        ret.y = this._json\n            .getRoot()\n            .getValueByString(PhysicsSettings)\n            .getValueByIndex(physicsSettingIndex)\n            .getValueByString(Vertices)\n            .getValueByIndex(vertexIndex)\n            .getValueByString(Position)\n            .getValueByString(Y)\n            .toFloat();\n        return ret;\n    };\n    return CubismPhysicsJson;\n}());\nexports.CubismPhysicsJson = CubismPhysicsJson;\nvar $ = __importStar(__webpack_require__(/*! ./cubismphysicsjson */ \"./src/live2d/framework/physics/cubismphysicsjson.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismPhysicsJson = $.CubismPhysicsJson;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/physics/cubismphysicsjson.ts?");

/***/ }),

/***/ "./src/live2d/framework/rendering/cubismrenderer.ts":
/*!**********************************************************!*\
  !*** ./src/live2d/framework/rendering/cubismrenderer.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismTextureColor = exports.CubismBlendMode = exports.CubismRenderer = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! ../math/cubismmatrix44 */ \"./src/live2d/framework/math/cubismmatrix44.ts\");\nvar CubismRenderer = (function () {\n    function CubismRenderer() {\n        this._isCulling = false;\n        this._isPremultipliedAlpha = false;\n        this._anisotropy = 0.0;\n        this._model = null;\n        this._modelColor = new CubismTextureColor();\n        this._useHighPrecisionMask = false;\n        this._mvpMatrix4x4 = new cubismmatrix44_1.CubismMatrix44();\n        this._mvpMatrix4x4.loadIdentity();\n    }\n    CubismRenderer.create = function () {\n        return null;\n    };\n    CubismRenderer.delete = function (renderer) {\n        renderer = null;\n    };\n    CubismRenderer.prototype.initialize = function (model) {\n        this._model = model;\n    };\n    CubismRenderer.prototype.drawModel = function () {\n        if (this.getModel() == null)\n            return;\n        this.saveProfile();\n        this.doDrawModel();\n        this.restoreProfile();\n    };\n    CubismRenderer.prototype.setMvpMatrix = function (matrix44) {\n        this._mvpMatrix4x4.setMatrix(matrix44.getArray());\n    };\n    CubismRenderer.prototype.getMvpMatrix = function () {\n        return this._mvpMatrix4x4;\n    };\n    CubismRenderer.prototype.setModelColor = function (red, green, blue, alpha) {\n        if (red < 0.0) {\n            red = 0.0;\n        }\n        else if (red > 1.0) {\n            red = 1.0;\n        }\n        if (green < 0.0) {\n            green = 0.0;\n        }\n        else if (green > 1.0) {\n            green = 1.0;\n        }\n        if (blue < 0.0) {\n            blue = 0.0;\n        }\n        else if (blue > 1.0) {\n            blue = 1.0;\n        }\n        if (alpha < 0.0) {\n            alpha = 0.0;\n        }\n        else if (alpha > 1.0) {\n            alpha = 1.0;\n        }\n        this._modelColor.R = red;\n        this._modelColor.G = green;\n        this._modelColor.B = blue;\n        this._modelColor.A = alpha;\n    };\n    CubismRenderer.prototype.getModelColor = function () {\n        return JSON.parse(JSON.stringify(this._modelColor));\n    };\n    CubismRenderer.prototype.setIsPremultipliedAlpha = function (enable) {\n        this._isPremultipliedAlpha = enable;\n    };\n    CubismRenderer.prototype.isPremultipliedAlpha = function () {\n        return this._isPremultipliedAlpha;\n    };\n    CubismRenderer.prototype.setIsCulling = function (culling) {\n        this._isCulling = culling;\n    };\n    CubismRenderer.prototype.isCulling = function () {\n        return this._isCulling;\n    };\n    CubismRenderer.prototype.setAnisotropy = function (n) {\n        this._anisotropy = n;\n    };\n    CubismRenderer.prototype.getAnisotropy = function () {\n        return this._anisotropy;\n    };\n    CubismRenderer.prototype.getModel = function () {\n        return this._model;\n    };\n    CubismRenderer.prototype.useHighPrecisionMask = function (high) {\n        this._useHighPrecisionMask = high;\n    };\n    CubismRenderer.prototype.isUsingHighPrecisionMask = function () {\n        return this._useHighPrecisionMask;\n    };\n    return CubismRenderer;\n}());\nexports.CubismRenderer = CubismRenderer;\nvar CubismBlendMode;\n(function (CubismBlendMode) {\n    CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Normal\"] = 0] = \"CubismBlendMode_Normal\";\n    CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Additive\"] = 1] = \"CubismBlendMode_Additive\";\n    CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Multiplicative\"] = 2] = \"CubismBlendMode_Multiplicative\";\n})(CubismBlendMode = exports.CubismBlendMode || (exports.CubismBlendMode = {}));\nvar CubismTextureColor = (function () {\n    function CubismTextureColor(r, g, b, a) {\n        if (r === void 0) { r = 1.0; }\n        if (g === void 0) { g = 1.0; }\n        if (b === void 0) { b = 1.0; }\n        if (a === void 0) { a = 1.0; }\n        this.R = r;\n        this.G = g;\n        this.B = b;\n        this.A = a;\n    }\n    return CubismTextureColor;\n}());\nexports.CubismTextureColor = CubismTextureColor;\nvar $ = __importStar(__webpack_require__(/*! ./cubismrenderer */ \"./src/live2d/framework/rendering/cubismrenderer.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismBlendMode = $.CubismBlendMode;\n    Live2DCubismFramework.CubismRenderer = $.CubismRenderer;\n    Live2DCubismFramework.CubismTextureColor = $.CubismTextureColor;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/rendering/cubismrenderer.ts?");

/***/ }),

/***/ "./src/live2d/framework/rendering/cubismrenderer_webgl.ts":
/*!****************************************************************!*\
  !*** ./src/live2d/framework/rendering/cubismrenderer_webgl.ts ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismRenderer_WebGL = exports.fragmentShaderSrcMaskInvertedPremultipliedAlpha = exports.fragmentShaderSrcMaskPremultipliedAlpha = exports.fragmentShaderSrcPremultipliedAlpha = exports.vertexShaderSrcMasked = exports.vertexShaderSrc = exports.fragmentShaderSrcsetupMask = exports.vertexShaderSrcSetupMask = exports.ShaderNames = exports.CubismShaderSet = exports.CubismShader_WebGL = exports.CubismRendererProfile_WebGL = exports.CubismClippingContext = exports.CubismRenderTextureResource = exports.CubismClippingManager_WebGL = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar cubismmatrix44_1 = __webpack_require__(/*! ../math/cubismmatrix44 */ \"./src/live2d/framework/math/cubismmatrix44.ts\");\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./src/live2d/framework/type/csmmap.ts\");\nvar csmrectf_1 = __webpack_require__(/*! ../type/csmrectf */ \"./src/live2d/framework/type/csmrectf.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar cubismrenderer_1 = __webpack_require__(/*! ./cubismrenderer */ \"./src/live2d/framework/rendering/cubismrenderer.ts\");\nvar ColorChannelCount = 4;\nvar ClippingMaskMaxCountOnDefault = 36;\nvar ClippingMaskMaxCountOnMultiRenderTexture = 32;\nvar ShaderCount = 10;\nvar s_instance;\nvar s_viewport;\nvar s_fbo;\nvar CubismClippingManager_WebGL = (function () {\n    function CubismClippingManager_WebGL() {\n        this._currentMaskRenderTexture = null;\n        this._maskColorBuffers = null;\n        this._currentFrameNo = 0;\n        this._renderTextureCount = 0;\n        this._clippingMaskBufferSize = 256;\n        this._clippingContextListForMask = new csmvector_1.csmVector();\n        this._clippingContextListForDraw = new csmvector_1.csmVector();\n        this._channelColors = new csmvector_1.csmVector();\n        this._tmpBoundsOnModel = new csmrectf_1.csmRect();\n        this._tmpMatrix = new cubismmatrix44_1.CubismMatrix44();\n        this._tmpMatrixForMask = new cubismmatrix44_1.CubismMatrix44();\n        this._tmpMatrixForDraw = new cubismmatrix44_1.CubismMatrix44();\n        this._maskTexture = null;\n        var tmp = new cubismrenderer_1.CubismTextureColor();\n        tmp.R = 1.0;\n        tmp.G = 0.0;\n        tmp.B = 0.0;\n        tmp.A = 0.0;\n        this._channelColors.pushBack(tmp);\n        tmp = new cubismrenderer_1.CubismTextureColor();\n        tmp.R = 0.0;\n        tmp.G = 1.0;\n        tmp.B = 0.0;\n        tmp.A = 0.0;\n        this._channelColors.pushBack(tmp);\n        tmp = new cubismrenderer_1.CubismTextureColor();\n        tmp.R = 0.0;\n        tmp.G = 0.0;\n        tmp.B = 1.0;\n        tmp.A = 0.0;\n        this._channelColors.pushBack(tmp);\n        tmp = new cubismrenderer_1.CubismTextureColor();\n        tmp.R = 0.0;\n        tmp.G = 0.0;\n        tmp.B = 0.0;\n        tmp.A = 1.0;\n        this._channelColors.pushBack(tmp);\n    }\n    CubismClippingManager_WebGL.prototype.getChannelFlagAsColor = function (channelNo) {\n        return this._channelColors.at(channelNo);\n    };\n    CubismClippingManager_WebGL.prototype.getMaskRenderTexture = function () {\n        if (this._maskTexture && this._maskTexture.textures != null) {\n            this._maskTexture.frameNo = this._currentFrameNo;\n        }\n        else {\n            if (this._maskRenderTextures != null) {\n                this._maskRenderTextures.clear();\n            }\n            this._maskRenderTextures = new csmvector_1.csmVector();\n            if (this._maskColorBuffers != null) {\n                this._maskColorBuffers.clear();\n            }\n            this._maskColorBuffers = new csmvector_1.csmVector();\n            var size = this._clippingMaskBufferSize;\n            for (var index = 0; index < this._renderTextureCount; index++) {\n                this._maskColorBuffers.pushBack(this.gl.createTexture());\n                this.gl.bindTexture(this.gl.TEXTURE_2D, this._maskColorBuffers.at(index));\n                this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, size, size, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n                this.gl.bindTexture(this.gl.TEXTURE_2D, null);\n                this._maskRenderTextures.pushBack(this.gl.createFramebuffer());\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._maskRenderTextures.at(index));\n                this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this._maskColorBuffers.at(index), 0);\n            }\n            this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\n            this._maskTexture = new CubismRenderTextureResource(this._currentFrameNo, this._maskRenderTextures);\n        }\n        return this._maskTexture.textures;\n    };\n    CubismClippingManager_WebGL.prototype.setGL = function (gl) {\n        this.gl = gl;\n    };\n    CubismClippingManager_WebGL.prototype.calcClippedDrawTotalBounds = function (model, clippingContext) {\n        var clippedDrawTotalMinX = Number.MAX_VALUE;\n        var clippedDrawTotalMinY = Number.MAX_VALUE;\n        var clippedDrawTotalMaxX = Number.MIN_VALUE;\n        var clippedDrawTotalMaxY = Number.MIN_VALUE;\n        var clippedDrawCount = clippingContext._clippedDrawableIndexList.length;\n        for (var clippedDrawableIndex = 0; clippedDrawableIndex < clippedDrawCount; clippedDrawableIndex++) {\n            var drawableIndex = clippingContext._clippedDrawableIndexList[clippedDrawableIndex];\n            var drawableVertexCount = model.getDrawableVertexCount(drawableIndex);\n            var drawableVertexes = model.getDrawableVertices(drawableIndex);\n            var minX = Number.MAX_VALUE;\n            var minY = Number.MAX_VALUE;\n            var maxX = -Number.MAX_VALUE;\n            var maxY = -Number.MAX_VALUE;\n            var loop = drawableVertexCount * live2dcubismframework_1.Constant.vertexStep;\n            for (var pi = live2dcubismframework_1.Constant.vertexOffset; pi < loop; pi += live2dcubismframework_1.Constant.vertexStep) {\n                var x = drawableVertexes[pi];\n                var y = drawableVertexes[pi + 1];\n                if (x < minX) {\n                    minX = x;\n                }\n                if (x > maxX) {\n                    maxX = x;\n                }\n                if (y < minY) {\n                    minY = y;\n                }\n                if (y > maxY) {\n                    maxY = y;\n                }\n            }\n            if (minX == Number.MAX_VALUE) {\n                continue;\n            }\n            if (minX < clippedDrawTotalMinX) {\n                clippedDrawTotalMinX = minX;\n            }\n            if (minY < clippedDrawTotalMinY) {\n                clippedDrawTotalMinY = minY;\n            }\n            if (maxX > clippedDrawTotalMaxX) {\n                clippedDrawTotalMaxX = maxX;\n            }\n            if (maxY > clippedDrawTotalMaxY) {\n                clippedDrawTotalMaxY = maxY;\n            }\n            if (clippedDrawTotalMinX == Number.MAX_VALUE) {\n                clippingContext._allClippedDrawRect.x = 0.0;\n                clippingContext._allClippedDrawRect.y = 0.0;\n                clippingContext._allClippedDrawRect.width = 0.0;\n                clippingContext._allClippedDrawRect.height = 0.0;\n                clippingContext._isUsing = false;\n            }\n            else {\n                clippingContext._isUsing = true;\n                var w = clippedDrawTotalMaxX - clippedDrawTotalMinX;\n                var h = clippedDrawTotalMaxY - clippedDrawTotalMinY;\n                clippingContext._allClippedDrawRect.x = clippedDrawTotalMinX;\n                clippingContext._allClippedDrawRect.y = clippedDrawTotalMinY;\n                clippingContext._allClippedDrawRect.width = w;\n                clippingContext._allClippedDrawRect.height = h;\n            }\n        }\n    };\n    CubismClippingManager_WebGL.prototype.release = function () {\n        for (var i = 0; i < this._clippingContextListForMask.getSize(); i++) {\n            if (this._clippingContextListForMask.at(i)) {\n                this._clippingContextListForMask.at(i).release();\n                this._clippingContextListForMask.set(i, void 0);\n            }\n            this._clippingContextListForMask.set(i, null);\n        }\n        this._clippingContextListForMask = null;\n        for (var i = 0; i < this._clippingContextListForDraw.getSize(); i++) {\n            this._clippingContextListForDraw.set(i, null);\n        }\n        this._clippingContextListForDraw = null;\n        if (this._maskTexture) {\n            for (var i = 0; i < this._maskTexture.textures.getSize(); i++) {\n                this.gl.deleteFramebuffer(this._maskTexture.textures.at(i));\n            }\n            this._maskTexture.textures.clear();\n            this._maskTexture.textures = null;\n            this._maskTexture = null;\n        }\n        for (var i = 0; i < this._channelColors.getSize(); i++) {\n            this._channelColors.set(i, null);\n        }\n        this._channelColors = null;\n        if (this._maskColorBuffers != null) {\n            for (var index = 0; index < this._maskColorBuffers.getSize(); index++) {\n                this.gl.deleteTexture(this._maskColorBuffers.at(index));\n            }\n            this._maskColorBuffers.clear();\n        }\n        this._maskColorBuffers = null;\n        if (this._maskRenderTextures != null) {\n            this._maskRenderTextures.clear();\n        }\n        this._maskRenderTextures = null;\n        if (this._clearedFrameBufferflags != null) {\n            this._clearedFrameBufferflags.clear();\n        }\n        this._clearedFrameBufferflags = null;\n    };\n    CubismClippingManager_WebGL.prototype.initialize = function (model, drawableCount, drawableMasks, drawableMaskCounts, renderTextureCount) {\n        if (renderTextureCount % 1 != 0) {\n            (0, cubismdebug_1.CubismLogWarning)('The number of render textures must be specified as an integer. The decimal point is rounded down and corrected to an integer.');\n            renderTextureCount = ~~renderTextureCount;\n        }\n        if (renderTextureCount < 1) {\n            (0, cubismdebug_1.CubismLogWarning)('The number of render textures must be an integer greater than or equal to 1. Set the number of render textures to 1.');\n        }\n        this._renderTextureCount = renderTextureCount < 1 ? 1 : renderTextureCount;\n        this._clearedFrameBufferflags = new csmvector_1.csmVector(this._renderTextureCount);\n        for (var i = 0; i < drawableCount; i++) {\n            if (drawableMaskCounts[i] <= 0) {\n                this._clippingContextListForDraw.pushBack(null);\n                continue;\n            }\n            var clippingContext = this.findSameClip(drawableMasks[i], drawableMaskCounts[i]);\n            if (clippingContext == null) {\n                clippingContext = new CubismClippingContext(this, drawableMasks[i], drawableMaskCounts[i]);\n                this._clippingContextListForMask.pushBack(clippingContext);\n            }\n            clippingContext.addClippedDrawable(i);\n            this._clippingContextListForDraw.pushBack(clippingContext);\n        }\n    };\n    CubismClippingManager_WebGL.prototype.setupClippingContext = function (model, renderer) {\n        this._currentFrameNo++;\n        var usingClipCount = 0;\n        for (var clipIndex = 0; clipIndex < this._clippingContextListForMask.getSize(); clipIndex++) {\n            var cc = this._clippingContextListForMask.at(clipIndex);\n            this.calcClippedDrawTotalBounds(model, cc);\n            if (cc._isUsing) {\n                usingClipCount++;\n            }\n        }\n        if (usingClipCount > 0) {\n            this.setupLayoutBounds(renderer.isUsingHighPrecisionMask() ? 0 : usingClipCount);\n            if (!renderer.isUsingHighPrecisionMask()) {\n                this.gl.viewport(0, 0, this._clippingMaskBufferSize, this._clippingMaskBufferSize);\n                this._currentMaskRenderTexture = this.getMaskRenderTexture().at(0);\n                renderer.preDraw();\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._currentMaskRenderTexture);\n            }\n            if (this._clearedFrameBufferflags.getSize() != this._renderTextureCount) {\n                this._clearedFrameBufferflags.clear();\n                this._clearedFrameBufferflags = new csmvector_1.csmVector(this._renderTextureCount);\n            }\n            for (var index = 0; index < this._clearedFrameBufferflags.getSize(); index++) {\n                this._clearedFrameBufferflags.set(index, false);\n            }\n            for (var clipIndex = 0; clipIndex < this._clippingContextListForMask.getSize(); clipIndex++) {\n                var clipContext = this._clippingContextListForMask.at(clipIndex);\n                var allClipedDrawRect = clipContext._allClippedDrawRect;\n                var layoutBoundsOnTex01 = clipContext._layoutBounds;\n                var MARGIN = 0.05;\n                var scaleX = 0;\n                var scaleY = 0;\n                var clipContextRenderTexture = this.getMaskRenderTexture().at(clipContext._bufferIndex);\n                if (this._currentMaskRenderTexture != clipContextRenderTexture &&\n                    !renderer.isUsingHighPrecisionMask()) {\n                    this._currentMaskRenderTexture = clipContextRenderTexture;\n                    renderer.preDraw();\n                    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._currentMaskRenderTexture);\n                }\n                if (renderer.isUsingHighPrecisionMask()) {\n                    var ppu = model.getPixelsPerUnit();\n                    var maskPixelSize = clipContext.getClippingManager()._clippingMaskBufferSize;\n                    var physicalMaskWidth = layoutBoundsOnTex01.width * maskPixelSize;\n                    var physicalMaskHeight = layoutBoundsOnTex01.height * maskPixelSize;\n                    this._tmpBoundsOnModel.setRect(allClipedDrawRect);\n                    if (this._tmpBoundsOnModel.width * ppu > physicalMaskWidth) {\n                        this._tmpBoundsOnModel.expand(allClipedDrawRect.width * MARGIN, 0.0);\n                        scaleX = layoutBoundsOnTex01.width / this._tmpBoundsOnModel.width;\n                    }\n                    else {\n                        scaleX = ppu / physicalMaskWidth;\n                    }\n                    if (this._tmpBoundsOnModel.height * ppu > physicalMaskHeight) {\n                        this._tmpBoundsOnModel.expand(0.0, allClipedDrawRect.height * MARGIN);\n                        scaleY = layoutBoundsOnTex01.height / this._tmpBoundsOnModel.height;\n                    }\n                    else {\n                        scaleY = ppu / physicalMaskHeight;\n                    }\n                }\n                else {\n                    this._tmpBoundsOnModel.setRect(allClipedDrawRect);\n                    this._tmpBoundsOnModel.expand(allClipedDrawRect.width * MARGIN, allClipedDrawRect.height * MARGIN);\n                    scaleX = layoutBoundsOnTex01.width / this._tmpBoundsOnModel.width;\n                    scaleY = layoutBoundsOnTex01.height / this._tmpBoundsOnModel.height;\n                }\n                {\n                    this._tmpMatrix.loadIdentity();\n                    {\n                        this._tmpMatrix.translateRelative(-1.0, -1.0);\n                        this._tmpMatrix.scaleRelative(2.0, 2.0);\n                    }\n                    {\n                        this._tmpMatrix.translateRelative(layoutBoundsOnTex01.x, layoutBoundsOnTex01.y);\n                        this._tmpMatrix.scaleRelative(scaleX, scaleY);\n                        this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x, -this._tmpBoundsOnModel.y);\n                    }\n                    this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray());\n                }\n                {\n                    this._tmpMatrix.loadIdentity();\n                    {\n                        this._tmpMatrix.translateRelative(layoutBoundsOnTex01.x, layoutBoundsOnTex01.y);\n                        this._tmpMatrix.scaleRelative(scaleX, scaleY);\n                        this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x, -this._tmpBoundsOnModel.y);\n                    }\n                    this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray());\n                }\n                clipContext._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray());\n                clipContext._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());\n                if (!renderer.isUsingHighPrecisionMask()) {\n                    var clipDrawCount = clipContext._clippingIdCount;\n                    for (var i = 0; i < clipDrawCount; i++) {\n                        var clipDrawIndex = clipContext._clippingIdList[i];\n                        if (!model.getDrawableDynamicFlagVertexPositionsDidChange(clipDrawIndex)) {\n                            continue;\n                        }\n                        renderer.setIsCulling(model.getDrawableCulling(clipDrawIndex) != false);\n                        if (!this._clearedFrameBufferflags.at(clipContext._bufferIndex)) {\n                            this.gl.clearColor(1.0, 1.0, 1.0, 1.0);\n                            this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n                            this._clearedFrameBufferflags.set(clipContext._bufferIndex, true);\n                        }\n                        renderer.setClippingContextBufferForMask(clipContext);\n                        renderer.drawMesh(model.getDrawableTextureIndex(clipDrawIndex), model.getDrawableVertexIndexCount(clipDrawIndex), model.getDrawableVertexCount(clipDrawIndex), model.getDrawableVertexIndices(clipDrawIndex), model.getDrawableVertices(clipDrawIndex), model.getDrawableVertexUvs(clipDrawIndex), model.getMultiplyColor(clipDrawIndex), model.getScreenColor(clipDrawIndex), model.getDrawableOpacity(clipDrawIndex), cubismrenderer_1.CubismBlendMode.CubismBlendMode_Normal, false);\n                    }\n                }\n            }\n            if (!renderer.isUsingHighPrecisionMask()) {\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\n                renderer.setClippingContextBufferForMask(null);\n                this.gl.viewport(s_viewport[0], s_viewport[1], s_viewport[2], s_viewport[3]);\n            }\n        }\n    };\n    CubismClippingManager_WebGL.prototype.findSameClip = function (drawableMasks, drawableMaskCounts) {\n        for (var i = 0; i < this._clippingContextListForMask.getSize(); i++) {\n            var clippingContext = this._clippingContextListForMask.at(i);\n            var count = clippingContext._clippingIdCount;\n            if (count != drawableMaskCounts) {\n                continue;\n            }\n            var sameCount = 0;\n            for (var j = 0; j < count; j++) {\n                var clipId = clippingContext._clippingIdList[j];\n                for (var k = 0; k < count; k++) {\n                    if (drawableMasks[k] == clipId) {\n                        sameCount++;\n                        break;\n                    }\n                }\n            }\n            if (sameCount == count) {\n                return clippingContext;\n            }\n        }\n        return null;\n    };\n    CubismClippingManager_WebGL.prototype.setupLayoutBounds = function (usingClipCount) {\n        var useClippingMaskMaxCount = this._renderTextureCount <= 1\n            ? ClippingMaskMaxCountOnDefault\n            : ClippingMaskMaxCountOnMultiRenderTexture * this._renderTextureCount;\n        if (usingClipCount <= 0 || usingClipCount > useClippingMaskMaxCount) {\n            if (usingClipCount > useClippingMaskMaxCount) {\n                (0, cubismdebug_1.CubismLogError)('not supported mask count : {0}\\n[Details] render texture count : {1}, mask count : {2}', usingClipCount - useClippingMaskMaxCount, this._renderTextureCount, usingClipCount);\n            }\n            for (var index = 0; index < this._clippingContextListForMask.getSize(); index++) {\n                var clipContext = this._clippingContextListForMask.at(index);\n                clipContext._layoutChannelNo = 0;\n                clipContext._layoutBounds.x = 0.0;\n                clipContext._layoutBounds.y = 0.0;\n                clipContext._layoutBounds.width = 1.0;\n                clipContext._layoutBounds.height = 1.0;\n                clipContext._bufferIndex = 0;\n            }\n            return;\n        }\n        var layoutCountMaxValue = this._renderTextureCount <= 1 ? 9 : 8;\n        var countPerSheetDiv = usingClipCount / this._renderTextureCount;\n        var countPerSheetMod = usingClipCount % this._renderTextureCount;\n        countPerSheetDiv = ~~countPerSheetDiv;\n        countPerSheetMod = ~~countPerSheetMod;\n        var div = countPerSheetDiv / ColorChannelCount;\n        var mod = countPerSheetDiv % ColorChannelCount;\n        div = ~~div;\n        mod = ~~mod;\n        var curClipIndex = 0;\n        for (var renderTextureNo = 0; renderTextureNo < this._renderTextureCount; renderTextureNo++) {\n            for (var channelNo = 0; channelNo < ColorChannelCount; channelNo++) {\n                var layoutCount = div + (channelNo < mod ? 1 : 0);\n                var checkChannelNo = mod + 1 >= ColorChannelCount ? 0 : mod + 1;\n                if (layoutCount < layoutCountMaxValue && channelNo == checkChannelNo) {\n                    layoutCount += renderTextureNo < countPerSheetMod ? 1 : 0;\n                }\n                if (layoutCount == 0) {\n                }\n                else if (layoutCount == 1) {\n                    var clipContext = this._clippingContextListForMask.at(curClipIndex++);\n                    clipContext._layoutChannelNo = channelNo;\n                    clipContext._layoutBounds.x = 0.0;\n                    clipContext._layoutBounds.y = 0.0;\n                    clipContext._layoutBounds.width = 1.0;\n                    clipContext._layoutBounds.height = 1.0;\n                    clipContext._bufferIndex = renderTextureNo;\n                }\n                else if (layoutCount == 2) {\n                    for (var i = 0; i < layoutCount; i++) {\n                        var xpos = i % 2;\n                        xpos = ~~xpos;\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        cc._layoutBounds.x = xpos * 0.5;\n                        cc._layoutBounds.y = 0.0;\n                        cc._layoutBounds.width = 0.5;\n                        cc._layoutBounds.height = 1.0;\n                        cc._bufferIndex = renderTextureNo;\n                    }\n                }\n                else if (layoutCount <= 4) {\n                    for (var i = 0; i < layoutCount; i++) {\n                        var xpos = i % 2;\n                        var ypos = i / 2;\n                        xpos = ~~xpos;\n                        ypos = ~~ypos;\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        cc._layoutBounds.x = xpos * 0.5;\n                        cc._layoutBounds.y = ypos * 0.5;\n                        cc._layoutBounds.width = 0.5;\n                        cc._layoutBounds.height = 0.5;\n                        cc._bufferIndex = renderTextureNo;\n                    }\n                }\n                else if (layoutCount <= layoutCountMaxValue) {\n                    for (var i = 0; i < layoutCount; i++) {\n                        var xpos = i % 3;\n                        var ypos = i / 3;\n                        xpos = ~~xpos;\n                        ypos = ~~ypos;\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        cc._layoutBounds.x = xpos / 3.0;\n                        cc._layoutBounds.y = ypos / 3.0;\n                        cc._layoutBounds.width = 1.0 / 3.0;\n                        cc._layoutBounds.height = 1.0 / 3.0;\n                        cc._bufferIndex = renderTextureNo;\n                    }\n                }\n                else {\n                    (0, cubismdebug_1.CubismLogError)('not supported mask count : {0}\\n[Details] render texture count : {1}, mask count : {2}', usingClipCount - useClippingMaskMaxCount, this._renderTextureCount, usingClipCount);\n                    for (var index = 0; index < layoutCount; index++) {\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = 0;\n                        cc._layoutBounds.x = 0.0;\n                        cc._layoutBounds.y = 0.0;\n                        cc._layoutBounds.width = 1.0;\n                        cc._layoutBounds.height = 1.0;\n                        cc._bufferIndex = 0;\n                    }\n                }\n            }\n        }\n    };\n    CubismClippingManager_WebGL.prototype.getColorBuffer = function () {\n        return this._maskColorBuffers;\n    };\n    CubismClippingManager_WebGL.prototype.getClippingContextListForDraw = function () {\n        return this._clippingContextListForDraw;\n    };\n    CubismClippingManager_WebGL.prototype.getClippingMaskCount = function () {\n        return this._clippingContextListForMask.getSize();\n    };\n    CubismClippingManager_WebGL.prototype.setClippingMaskBufferSize = function (size) {\n        this._clippingMaskBufferSize = size;\n    };\n    CubismClippingManager_WebGL.prototype.getClippingMaskBufferSize = function () {\n        return this._clippingMaskBufferSize;\n    };\n    CubismClippingManager_WebGL.prototype.getRenderTextureCount = function () {\n        return this._renderTextureCount;\n    };\n    return CubismClippingManager_WebGL;\n}());\nexports.CubismClippingManager_WebGL = CubismClippingManager_WebGL;\nvar CubismRenderTextureResource = (function () {\n    function CubismRenderTextureResource(frameNo, texture) {\n        this.frameNo = frameNo;\n        this.textures = texture;\n    }\n    return CubismRenderTextureResource;\n}());\nexports.CubismRenderTextureResource = CubismRenderTextureResource;\nvar CubismClippingContext = (function () {\n    function CubismClippingContext(manager, clippingDrawableIndices, clipCount) {\n        this._owner = manager;\n        this._clippingIdList = clippingDrawableIndices;\n        this._clippingIdCount = clipCount;\n        this._allClippedDrawRect = new csmrectf_1.csmRect();\n        this._layoutBounds = new csmrectf_1.csmRect();\n        this._clippedDrawableIndexList = [];\n        this._matrixForMask = new cubismmatrix44_1.CubismMatrix44();\n        this._matrixForDraw = new cubismmatrix44_1.CubismMatrix44();\n        this._bufferIndex = 0;\n    }\n    CubismClippingContext.prototype.release = function () {\n        if (this._layoutBounds != null) {\n            this._layoutBounds = null;\n        }\n        if (this._allClippedDrawRect != null) {\n            this._allClippedDrawRect = null;\n        }\n        if (this._clippedDrawableIndexList != null) {\n            this._clippedDrawableIndexList = null;\n        }\n    };\n    CubismClippingContext.prototype.addClippedDrawable = function (drawableIndex) {\n        this._clippedDrawableIndexList.push(drawableIndex);\n    };\n    CubismClippingContext.prototype.getClippingManager = function () {\n        return this._owner;\n    };\n    CubismClippingContext.prototype.setGl = function (gl) {\n        this._owner.setGL(gl);\n    };\n    return CubismClippingContext;\n}());\nexports.CubismClippingContext = CubismClippingContext;\nvar CubismRendererProfile_WebGL = (function () {\n    function CubismRendererProfile_WebGL() {\n        this._lastVertexAttribArrayEnabled = new Array(4);\n        this._lastColorMask = new Array(4);\n        this._lastBlending = new Array(4);\n        this._lastViewport = new Array(4);\n    }\n    CubismRendererProfile_WebGL.prototype.setGlEnable = function (index, enabled) {\n        if (enabled)\n            this.gl.enable(index);\n        else\n            this.gl.disable(index);\n    };\n    CubismRendererProfile_WebGL.prototype.setGlEnableVertexAttribArray = function (index, enabled) {\n        if (enabled)\n            this.gl.enableVertexAttribArray(index);\n        else\n            this.gl.disableVertexAttribArray(index);\n    };\n    CubismRendererProfile_WebGL.prototype.save = function () {\n        if (this.gl == null) {\n            (0, cubismdebug_1.CubismLogError)(\"'gl' is null. WebGLRenderingContext is required.\\nPlease call 'CubimRenderer_WebGL.startUp' function.\");\n            return;\n        }\n        this._lastArrayBufferBinding = this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING);\n        this._lastArrayBufferBinding = this.gl.getParameter(this.gl.ELEMENT_ARRAY_BUFFER_BINDING);\n        this._lastProgram = this.gl.getParameter(this.gl.CURRENT_PROGRAM);\n        this._lastActiveTexture = this.gl.getParameter(this.gl.ACTIVE_TEXTURE);\n        this.gl.activeTexture(this.gl.TEXTURE1);\n        this._lastTexture1Binding2D = this.gl.getParameter(this.gl.TEXTURE_BINDING_2D);\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this._lastTexture0Binding2D = this.gl.getParameter(this.gl.TEXTURE_BINDING_2D);\n        this._lastVertexAttribArrayEnabled[0] = this.gl.getVertexAttrib(0, this.gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        this._lastVertexAttribArrayEnabled[1] = this.gl.getVertexAttrib(1, this.gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        this._lastVertexAttribArrayEnabled[2] = this.gl.getVertexAttrib(2, this.gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        this._lastVertexAttribArrayEnabled[3] = this.gl.getVertexAttrib(3, this.gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n        this._lastScissorTest = this.gl.isEnabled(this.gl.SCISSOR_TEST);\n        this._lastStencilTest = this.gl.isEnabled(this.gl.STENCIL_TEST);\n        this._lastDepthTest = this.gl.isEnabled(this.gl.DEPTH_TEST);\n        this._lastCullFace = this.gl.isEnabled(this.gl.CULL_FACE);\n        this._lastBlend = this.gl.isEnabled(this.gl.BLEND);\n        this._lastFrontFace = this.gl.getParameter(this.gl.FRONT_FACE);\n        this._lastColorMask = this.gl.getParameter(this.gl.COLOR_WRITEMASK);\n        this._lastBlending[0] = this.gl.getParameter(this.gl.BLEND_SRC_RGB);\n        this._lastBlending[1] = this.gl.getParameter(this.gl.BLEND_DST_RGB);\n        this._lastBlending[2] = this.gl.getParameter(this.gl.BLEND_SRC_ALPHA);\n        this._lastBlending[3] = this.gl.getParameter(this.gl.BLEND_DST_ALPHA);\n        this._lastFBO = this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING);\n        this._lastViewport = this.gl.getParameter(this.gl.VIEWPORT);\n    };\n    CubismRendererProfile_WebGL.prototype.restore = function () {\n        if (this.gl == null) {\n            (0, cubismdebug_1.CubismLogError)(\"'gl' is null. WebGLRenderingContext is required.\\nPlease call 'CubimRenderer_WebGL.startUp' function.\");\n            return;\n        }\n        this.gl.useProgram(this._lastProgram);\n        this.setGlEnableVertexAttribArray(0, this._lastVertexAttribArrayEnabled[0]);\n        this.setGlEnableVertexAttribArray(1, this._lastVertexAttribArrayEnabled[1]);\n        this.setGlEnableVertexAttribArray(2, this._lastVertexAttribArrayEnabled[2]);\n        this.setGlEnableVertexAttribArray(3, this._lastVertexAttribArrayEnabled[3]);\n        this.setGlEnable(this.gl.SCISSOR_TEST, this._lastScissorTest);\n        this.setGlEnable(this.gl.STENCIL_TEST, this._lastStencilTest);\n        this.setGlEnable(this.gl.DEPTH_TEST, this._lastDepthTest);\n        this.setGlEnable(this.gl.CULL_FACE, this._lastCullFace);\n        this.setGlEnable(this.gl.BLEND, this._lastBlend);\n        this.gl.frontFace(this._lastFrontFace);\n        this.gl.colorMask(this._lastColorMask[0], this._lastColorMask[1], this._lastColorMask[2], this._lastColorMask[3]);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this._lastArrayBufferBinding);\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this._lastElementArrayBufferBinding);\n        this.gl.activeTexture(this.gl.TEXTURE1);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this._lastTexture1Binding2D);\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this._lastTexture0Binding2D);\n        this.gl.activeTexture(this._lastActiveTexture);\n        this.gl.blendFuncSeparate(this._lastBlending[0], this._lastBlending[1], this._lastBlending[2], this._lastBlending[3]);\n    };\n    CubismRendererProfile_WebGL.prototype.setGl = function (gl) {\n        this.gl = gl;\n    };\n    return CubismRendererProfile_WebGL;\n}());\nexports.CubismRendererProfile_WebGL = CubismRendererProfile_WebGL;\nvar CubismShader_WebGL = (function () {\n    function CubismShader_WebGL() {\n        this._shaderSets = new csmvector_1.csmVector();\n    }\n    CubismShader_WebGL.getInstance = function () {\n        if (s_instance == null) {\n            s_instance = new CubismShader_WebGL();\n            return s_instance;\n        }\n        return s_instance;\n    };\n    CubismShader_WebGL.deleteInstance = function () {\n        if (s_instance) {\n            s_instance.release();\n            s_instance = null;\n        }\n    };\n    CubismShader_WebGL.prototype.release = function () {\n        this.releaseShaderProgram();\n    };\n    CubismShader_WebGL.prototype.setupShaderProgram = function (renderer, textureId, vertexCount, vertexArray, indexArray, uvArray, bufferData, opacity, colorBlendMode, baseColor, multiplyColor, screenColor, isPremultipliedAlpha, matrix4x4, invertedMask) {\n        if (!isPremultipliedAlpha) {\n            (0, cubismdebug_1.CubismLogError)('NoPremultipliedAlpha is not allowed');\n        }\n        if (this._shaderSets.getSize() == 0) {\n            this.generateShaders();\n        }\n        var SRC_COLOR;\n        var DST_COLOR;\n        var SRC_ALPHA;\n        var DST_ALPHA;\n        if (renderer.getClippingContextBufferForMask() != null) {\n            var shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_SetupMask);\n            this.gl.useProgram(shaderSet.shaderProgram);\n            this.gl.activeTexture(this.gl.TEXTURE0);\n            this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\n            this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\n            if (bufferData.vertex == null) {\n                bufferData.vertex = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.DYNAMIC_DRAW);\n            this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\n            this.gl.vertexAttribPointer(shaderSet.attributePositionLocation, 2, this.gl.FLOAT, false, 0, 0);\n            if (bufferData.uv == null) {\n                bufferData.uv = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\n            this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\n            this.gl.vertexAttribPointer(shaderSet.attributeTexCoordLocation, 2, this.gl.FLOAT, false, 0, 0);\n            var channelNo = renderer.getClippingContextBufferForMask()._layoutChannelNo;\n            var colorChannel = renderer\n                .getClippingContextBufferForMask()\n                .getClippingManager()\n                .getChannelFlagAsColor(channelNo);\n            this.gl.uniform4f(shaderSet.uniformChannelFlagLocation, colorChannel.R, colorChannel.G, colorChannel.B, colorChannel.A);\n            this.gl.uniformMatrix4fv(shaderSet.uniformClipMatrixLocation, false, renderer.getClippingContextBufferForMask()._matrixForMask.getArray());\n            var rect = renderer.getClippingContextBufferForMask()._layoutBounds;\n            this.gl.uniform4f(shaderSet.uniformBaseColorLocation, rect.x * 2.0 - 1.0, rect.y * 2.0 - 1.0, rect.getRight() * 2.0 - 1.0, rect.getBottom() * 2.0 - 1.0);\n            this.gl.uniform4f(shaderSet.uniformMultiplyColorLocation, multiplyColor.R, multiplyColor.G, multiplyColor.B, multiplyColor.A);\n            this.gl.uniform4f(shaderSet.uniformScreenColorLocation, screenColor.R, screenColor.G, screenColor.B, screenColor.A);\n            SRC_COLOR = this.gl.ZERO;\n            DST_COLOR = this.gl.ONE_MINUS_SRC_COLOR;\n            SRC_ALPHA = this.gl.ZERO;\n            DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\n        }\n        else {\n            var masked = renderer.getClippingContextBufferForDraw() != null;\n            var offset = masked ? (invertedMask ? 2 : 1) : 0;\n            var shaderSet = new CubismShaderSet();\n            switch (colorBlendMode) {\n                case cubismrenderer_1.CubismBlendMode.CubismBlendMode_Normal:\n                default:\n                    shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_NormalPremultipliedAlpha + offset);\n                    SRC_COLOR = this.gl.ONE;\n                    DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\n                    SRC_ALPHA = this.gl.ONE;\n                    DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\n                    break;\n                case cubismrenderer_1.CubismBlendMode.CubismBlendMode_Additive:\n                    shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_AddPremultipliedAlpha + offset);\n                    SRC_COLOR = this.gl.ONE;\n                    DST_COLOR = this.gl.ONE;\n                    SRC_ALPHA = this.gl.ZERO;\n                    DST_ALPHA = this.gl.ONE;\n                    break;\n                case cubismrenderer_1.CubismBlendMode.CubismBlendMode_Multiplicative:\n                    shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_MultPremultipliedAlpha + offset);\n                    SRC_COLOR = this.gl.DST_COLOR;\n                    DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\n                    SRC_ALPHA = this.gl.ZERO;\n                    DST_ALPHA = this.gl.ONE;\n                    break;\n            }\n            this.gl.useProgram(shaderSet.shaderProgram);\n            if (bufferData.vertex == null) {\n                bufferData.vertex = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.DYNAMIC_DRAW);\n            this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\n            this.gl.vertexAttribPointer(shaderSet.attributePositionLocation, 2, this.gl.FLOAT, false, 0, 0);\n            if (bufferData.uv == null) {\n                bufferData.uv = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\n            this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\n            this.gl.vertexAttribPointer(shaderSet.attributeTexCoordLocation, 2, this.gl.FLOAT, false, 0, 0);\n            if (masked) {\n                this.gl.activeTexture(this.gl.TEXTURE1);\n                var tex = renderer\n                    .getClippingContextBufferForDraw()\n                    .getClippingManager()\n                    .getColorBuffer()\n                    .at(renderer.getClippingContextBufferForDraw()._bufferIndex);\n                this.gl.bindTexture(this.gl.TEXTURE_2D, tex);\n                this.gl.uniform1i(shaderSet.samplerTexture1Location, 1);\n                this.gl.uniformMatrix4fv(shaderSet.uniformClipMatrixLocation, false, renderer.getClippingContextBufferForDraw()._matrixForDraw.getArray());\n                var channelNo = renderer.getClippingContextBufferForDraw()._layoutChannelNo;\n                var colorChannel = renderer\n                    .getClippingContextBufferForDraw()\n                    .getClippingManager()\n                    .getChannelFlagAsColor(channelNo);\n                this.gl.uniform4f(shaderSet.uniformChannelFlagLocation, colorChannel.R, colorChannel.G, colorChannel.B, colorChannel.A);\n            }\n            this.gl.activeTexture(this.gl.TEXTURE0);\n            this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\n            this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\n            this.gl.uniformMatrix4fv(shaderSet.uniformMatrixLocation, false, matrix4x4.getArray());\n            this.gl.uniform4f(shaderSet.uniformBaseColorLocation, baseColor.R, baseColor.G, baseColor.B, baseColor.A);\n            this.gl.uniform4f(shaderSet.uniformMultiplyColorLocation, multiplyColor.R, multiplyColor.G, multiplyColor.B, multiplyColor.A);\n            this.gl.uniform4f(shaderSet.uniformScreenColorLocation, screenColor.R, screenColor.G, screenColor.B, screenColor.A);\n        }\n        if (bufferData.index == null) {\n            bufferData.index = this.gl.createBuffer();\n        }\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, bufferData.index);\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, indexArray, this.gl.DYNAMIC_DRAW);\n        this.gl.blendFuncSeparate(SRC_COLOR, DST_COLOR, SRC_ALPHA, DST_ALPHA);\n    };\n    CubismShader_WebGL.prototype.releaseShaderProgram = function () {\n        for (var i = 0; i < this._shaderSets.getSize(); i++) {\n            this.gl.deleteProgram(this._shaderSets.at(i).shaderProgram);\n            this._shaderSets.at(i).shaderProgram = 0;\n            this._shaderSets.set(i, void 0);\n            this._shaderSets.set(i, null);\n        }\n    };\n    CubismShader_WebGL.prototype.generateShaders = function () {\n        for (var i = 0; i < ShaderCount; i++) {\n            this._shaderSets.pushBack(new CubismShaderSet());\n        }\n        this._shaderSets.at(0).shaderProgram = this.loadShaderProgram(exports.vertexShaderSrcSetupMask, exports.fragmentShaderSrcsetupMask);\n        this._shaderSets.at(1).shaderProgram = this.loadShaderProgram(exports.vertexShaderSrc, exports.fragmentShaderSrcPremultipliedAlpha);\n        this._shaderSets.at(2).shaderProgram = this.loadShaderProgram(exports.vertexShaderSrcMasked, exports.fragmentShaderSrcMaskPremultipliedAlpha);\n        this._shaderSets.at(3).shaderProgram = this.loadShaderProgram(exports.vertexShaderSrcMasked, exports.fragmentShaderSrcMaskInvertedPremultipliedAlpha);\n        this._shaderSets.at(4).shaderProgram = this._shaderSets.at(1).shaderProgram;\n        this._shaderSets.at(5).shaderProgram = this._shaderSets.at(2).shaderProgram;\n        this._shaderSets.at(6).shaderProgram = this._shaderSets.at(3).shaderProgram;\n        this._shaderSets.at(7).shaderProgram = this._shaderSets.at(1).shaderProgram;\n        this._shaderSets.at(8).shaderProgram = this._shaderSets.at(2).shaderProgram;\n        this._shaderSets.at(9).shaderProgram = this._shaderSets.at(3).shaderProgram;\n        this._shaderSets.at(0).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram, 'a_position');\n        this._shaderSets.at(0).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(0).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 's_texture0');\n        this._shaderSets.at(0).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(0).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(0).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(0).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(0).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(1).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram, 'a_position');\n        this._shaderSets.at(1).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(1).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 's_texture0');\n        this._shaderSets.at(1).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_matrix');\n        this._shaderSets.at(1).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(1).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(1).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(2).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram, 'a_position');\n        this._shaderSets.at(2).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(2).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 's_texture0');\n        this._shaderSets.at(2).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 's_texture1');\n        this._shaderSets.at(2).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_matrix');\n        this._shaderSets.at(2).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(2).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(2).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(2).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(2).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(3).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram, 'a_position');\n        this._shaderSets.at(3).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(3).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 's_texture0');\n        this._shaderSets.at(3).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 's_texture1');\n        this._shaderSets.at(3).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_matrix');\n        this._shaderSets.at(3).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(3).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(3).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(3).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(3).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(4).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram, 'a_position');\n        this._shaderSets.at(4).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(4).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 's_texture0');\n        this._shaderSets.at(4).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_matrix');\n        this._shaderSets.at(4).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(4).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(4).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(5).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram, 'a_position');\n        this._shaderSets.at(5).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(5).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 's_texture0');\n        this._shaderSets.at(5).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 's_texture1');\n        this._shaderSets.at(5).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_matrix');\n        this._shaderSets.at(5).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(5).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(5).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(5).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(5).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(6).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram, 'a_position');\n        this._shaderSets.at(6).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(6).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 's_texture0');\n        this._shaderSets.at(6).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 's_texture1');\n        this._shaderSets.at(6).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_matrix');\n        this._shaderSets.at(6).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(6).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(6).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(6).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(6).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(7).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram, 'a_position');\n        this._shaderSets.at(7).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(7).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 's_texture0');\n        this._shaderSets.at(7).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_matrix');\n        this._shaderSets.at(7).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(7).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(7).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(8).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram, 'a_position');\n        this._shaderSets.at(8).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(8).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 's_texture0');\n        this._shaderSets.at(8).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 's_texture1');\n        this._shaderSets.at(8).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_matrix');\n        this._shaderSets.at(8).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(8).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(8).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(8).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(8).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_screenColor');\n        this._shaderSets.at(9).attributePositionLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram, 'a_position');\n        this._shaderSets.at(9).attributeTexCoordLocation =\n            this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram, 'a_texCoord');\n        this._shaderSets.at(9).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 's_texture0');\n        this._shaderSets.at(9).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 's_texture1');\n        this._shaderSets.at(9).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_matrix');\n        this._shaderSets.at(9).uniformClipMatrixLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_clipMatrix');\n        this._shaderSets.at(9).uniformChannelFlagLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_channelFlag');\n        this._shaderSets.at(9).uniformBaseColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_baseColor');\n        this._shaderSets.at(9).uniformMultiplyColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_multiplyColor');\n        this._shaderSets.at(9).uniformScreenColorLocation =\n            this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_screenColor');\n    };\n    CubismShader_WebGL.prototype.loadShaderProgram = function (vertexShaderSource, fragmentShaderSource) {\n        var shaderProgram = this.gl.createProgram();\n        var vertShader = this.compileShaderSource(this.gl.VERTEX_SHADER, vertexShaderSource);\n        if (!vertShader) {\n            (0, cubismdebug_1.CubismLogError)('Vertex shader compile error!');\n            return 0;\n        }\n        var fragShader = this.compileShaderSource(this.gl.FRAGMENT_SHADER, fragmentShaderSource);\n        if (!fragShader) {\n            (0, cubismdebug_1.CubismLogError)('Vertex shader compile error!');\n            return 0;\n        }\n        this.gl.attachShader(shaderProgram, vertShader);\n        this.gl.attachShader(shaderProgram, fragShader);\n        this.gl.linkProgram(shaderProgram);\n        var linkStatus = this.gl.getProgramParameter(shaderProgram, this.gl.LINK_STATUS);\n        if (!linkStatus) {\n            (0, cubismdebug_1.CubismLogError)('Failed to link program: {0}', shaderProgram);\n            this.gl.deleteShader(vertShader);\n            vertShader = 0;\n            this.gl.deleteShader(fragShader);\n            fragShader = 0;\n            if (shaderProgram) {\n                this.gl.deleteProgram(shaderProgram);\n                shaderProgram = 0;\n            }\n            return 0;\n        }\n        this.gl.deleteShader(vertShader);\n        this.gl.deleteShader(fragShader);\n        return shaderProgram;\n    };\n    CubismShader_WebGL.prototype.compileShaderSource = function (shaderType, shaderSource) {\n        var source = shaderSource;\n        var shader = this.gl.createShader(shaderType);\n        this.gl.shaderSource(shader, source);\n        this.gl.compileShader(shader);\n        if (!shader) {\n            var log = this.gl.getShaderInfoLog(shader);\n            (0, cubismdebug_1.CubismLogError)('Shader compile log: {0} ', log);\n        }\n        var status = this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS);\n        if (!status) {\n            this.gl.deleteShader(shader);\n            return null;\n        }\n        return shader;\n    };\n    CubismShader_WebGL.prototype.setGl = function (gl) {\n        this.gl = gl;\n    };\n    return CubismShader_WebGL;\n}());\nexports.CubismShader_WebGL = CubismShader_WebGL;\nvar CubismShaderSet = (function () {\n    function CubismShaderSet() {\n    }\n    return CubismShaderSet;\n}());\nexports.CubismShaderSet = CubismShaderSet;\nvar ShaderNames;\n(function (ShaderNames) {\n    ShaderNames[ShaderNames[\"ShaderNames_SetupMask\"] = 0] = \"ShaderNames_SetupMask\";\n    ShaderNames[ShaderNames[\"ShaderNames_NormalPremultipliedAlpha\"] = 1] = \"ShaderNames_NormalPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_NormalMaskedPremultipliedAlpha\"] = 2] = \"ShaderNames_NormalMaskedPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_NomralMaskedInvertedPremultipliedAlpha\"] = 3] = \"ShaderNames_NomralMaskedInvertedPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_AddPremultipliedAlpha\"] = 4] = \"ShaderNames_AddPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_AddMaskedPremultipliedAlpha\"] = 5] = \"ShaderNames_AddMaskedPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_AddMaskedPremultipliedAlphaInverted\"] = 6] = \"ShaderNames_AddMaskedPremultipliedAlphaInverted\";\n    ShaderNames[ShaderNames[\"ShaderNames_MultPremultipliedAlpha\"] = 7] = \"ShaderNames_MultPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_MultMaskedPremultipliedAlpha\"] = 8] = \"ShaderNames_MultMaskedPremultipliedAlpha\";\n    ShaderNames[ShaderNames[\"ShaderNames_MultMaskedPremultipliedAlphaInverted\"] = 9] = \"ShaderNames_MultMaskedPremultipliedAlphaInverted\";\n})(ShaderNames = exports.ShaderNames || (exports.ShaderNames = {}));\nexports.vertexShaderSrcSetupMask = 'attribute vec4     a_position;' +\n    'attribute vec2     a_texCoord;' +\n    'varying vec2       v_texCoord;' +\n    'varying vec4       v_myPos;' +\n    'uniform mat4       u_clipMatrix;' +\n    'void main()' +\n    '{' +\n    '   gl_Position = u_clipMatrix * a_position;' +\n    '   v_myPos = u_clipMatrix * a_position;' +\n    '   v_texCoord = a_texCoord;' +\n    '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n    '}';\nexports.fragmentShaderSrcsetupMask = 'precision mediump float;' +\n    'varying vec2       v_texCoord;' +\n    'varying vec4       v_myPos;' +\n    'uniform vec4       u_baseColor;' +\n    'uniform vec4       u_channelFlag;' +\n    'uniform sampler2D  s_texture0;' +\n    'void main()' +\n    '{' +\n    '   float isInside = ' +\n    '       step(u_baseColor.x, v_myPos.x/v_myPos.w)' +\n    '       * step(u_baseColor.y, v_myPos.y/v_myPos.w)' +\n    '       * step(v_myPos.x/v_myPos.w, u_baseColor.z)' +\n    '       * step(v_myPos.y/v_myPos.w, u_baseColor.w);' +\n    '   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;' +\n    '}';\nexports.vertexShaderSrc = 'attribute vec4     a_position;' +\n    'attribute vec2     a_texCoord;' +\n    'varying vec2       v_texCoord;' +\n    'uniform mat4       u_matrix;' +\n    'void main()' +\n    '{' +\n    '   gl_Position = u_matrix * a_position;' +\n    '   v_texCoord = a_texCoord;' +\n    '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n    '}';\nexports.vertexShaderSrcMasked = 'attribute vec4     a_position;' +\n    'attribute vec2     a_texCoord;' +\n    'varying vec2       v_texCoord;' +\n    'varying vec4       v_clipPos;' +\n    'uniform mat4       u_matrix;' +\n    'uniform mat4       u_clipMatrix;' +\n    'void main()' +\n    '{' +\n    '   gl_Position = u_matrix * a_position;' +\n    '   v_clipPos = u_clipMatrix * a_position;' +\n    '   v_texCoord = a_texCoord;' +\n    '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n    '}';\nexports.fragmentShaderSrcPremultipliedAlpha = 'precision mediump float;' +\n    'varying vec2       v_texCoord;' +\n    'uniform vec4       u_baseColor;' +\n    'uniform sampler2D  s_texture0;' +\n    'uniform vec4       u_multiplyColor;' +\n    'uniform vec4       u_screenColor;' +\n    'void main()' +\n    '{' +\n    '   vec4 texColor = texture2D(s_texture0, v_texCoord);' +\n    '   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;' +\n    '   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);' +\n    '   vec4 color = texColor * u_baseColor;' +\n    '   gl_FragColor = vec4(color.rgb, color.a);' +\n    '}';\nexports.fragmentShaderSrcMaskPremultipliedAlpha = 'precision mediump float;' +\n    'varying vec2       v_texCoord;' +\n    'varying vec4       v_clipPos;' +\n    'uniform vec4       u_baseColor;' +\n    'uniform vec4       u_channelFlag;' +\n    'uniform sampler2D  s_texture0;' +\n    'uniform sampler2D  s_texture1;' +\n    'uniform vec4       u_multiplyColor;' +\n    'uniform vec4       u_screenColor;' +\n    'void main()' +\n    '{' +\n    '   vec4 texColor = texture2D(s_texture0, v_texCoord);' +\n    '   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;' +\n    '   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);' +\n    '   vec4 col_formask = texColor * u_baseColor;' +\n    '   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\n    '   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\n    '   col_formask = col_formask * maskVal;' +\n    '   gl_FragColor = col_formask;' +\n    '}';\nexports.fragmentShaderSrcMaskInvertedPremultipliedAlpha = 'precision mediump float;' +\n    'varying vec2      v_texCoord;' +\n    'varying vec4      v_clipPos;' +\n    'uniform sampler2D s_texture0;' +\n    'uniform sampler2D s_texture1;' +\n    'uniform vec4      u_channelFlag;' +\n    'uniform vec4      u_baseColor;' +\n    'uniform vec4      u_multiplyColor;' +\n    'uniform vec4      u_screenColor;' +\n    'void main()' +\n    '{' +\n    '   vec4 texColor = texture2D(s_texture0, v_texCoord);' +\n    '   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;' +\n    '   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);' +\n    '   vec4 col_formask = texColor * u_baseColor;' +\n    '   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\n    '   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\n    '   col_formask = col_formask * (1.0 - maskVal);' +\n    '   gl_FragColor = col_formask;' +\n    '}';\nvar CubismRenderer_WebGL = (function (_super) {\n    __extends(CubismRenderer_WebGL, _super);\n    function CubismRenderer_WebGL() {\n        var _this = _super.call(this) || this;\n        _this._clippingContextBufferForMask = null;\n        _this._clippingContextBufferForDraw = null;\n        _this._rendererProfile = new CubismRendererProfile_WebGL();\n        _this.firstDraw = true;\n        _this._textures = new csmmap_1.csmMap();\n        _this._sortedDrawableIndexList = new csmvector_1.csmVector();\n        _this._bufferData = {\n            vertex: (WebGLBuffer = null),\n            uv: (WebGLBuffer = null),\n            index: (WebGLBuffer = null),\n        };\n        _this._textures.prepareCapacity(32, true);\n        return _this;\n    }\n    CubismRenderer_WebGL.prototype.initialize = function (model, maskBufferCount) {\n        if (maskBufferCount === void 0) { maskBufferCount = 1; }\n        if (model.isUsingMasking()) {\n            this._clippingManager = new CubismClippingManager_WebGL();\n            this._clippingManager.initialize(model, model.getDrawableCount(), model.getDrawableMasks(), model.getDrawableMaskCounts(), maskBufferCount);\n        }\n        this._sortedDrawableIndexList.resize(model.getDrawableCount(), 0);\n        _super.prototype.initialize.call(this, model);\n    };\n    CubismRenderer_WebGL.prototype.bindTexture = function (modelTextureNo, glTexture) {\n        this._textures.setValue(modelTextureNo, glTexture);\n    };\n    CubismRenderer_WebGL.prototype.getBindedTextures = function () {\n        return this._textures;\n    };\n    CubismRenderer_WebGL.prototype.setClippingMaskBufferSize = function (size) {\n        if (!this._model.isUsingMasking()) {\n            return;\n        }\n        var renderTextureCount = this._clippingManager.getRenderTextureCount();\n        this._clippingManager.release();\n        this._clippingManager = void 0;\n        this._clippingManager = null;\n        this._clippingManager = new CubismClippingManager_WebGL();\n        this._clippingManager.setClippingMaskBufferSize(size);\n        this._clippingManager.initialize(this.getModel(), this.getModel().getDrawableCount(), this.getModel().getDrawableMasks(), this.getModel().getDrawableMaskCounts(), renderTextureCount);\n    };\n    CubismRenderer_WebGL.prototype.getClippingMaskBufferSize = function () {\n        return this._model.isUsingMasking()\n            ? this._clippingManager.getClippingMaskBufferSize()\n            : -1;\n    };\n    CubismRenderer_WebGL.prototype.getRenderTextureCount = function () {\n        return this._model.isUsingMasking()\n            ? this._clippingManager.getRenderTextureCount()\n            : -1;\n    };\n    CubismRenderer_WebGL.prototype.release = function () {\n        if (this._clippingManager) {\n            this._clippingManager.release();\n            this._clippingManager = void 0;\n            this._clippingManager = null;\n        }\n        if (this.gl == null) {\n            return;\n        }\n        this.gl.deleteBuffer(this._bufferData.vertex);\n        this._bufferData.vertex = null;\n        this.gl.deleteBuffer(this._bufferData.uv);\n        this._bufferData.uv = null;\n        this.gl.deleteBuffer(this._bufferData.index);\n        this._bufferData.index = null;\n        this._bufferData = null;\n        this._textures = null;\n    };\n    CubismRenderer_WebGL.prototype.doDrawModel = function () {\n        if (this.gl == null) {\n            (0, cubismdebug_1.CubismLogError)(\"'gl' is null. WebGLRenderingContext is required.\\nPlease call 'CubimRenderer_WebGL.startUp' function.\");\n            return;\n        }\n        if (this._clippingManager != null) {\n            this.preDraw();\n            this._clippingManager.setupClippingContext(this.getModel(), this);\n        }\n        this.preDraw();\n        var drawableCount = this.getModel().getDrawableCount();\n        var renderOrder = this.getModel().getDrawableRenderOrders();\n        for (var i = 0; i < drawableCount; ++i) {\n            var order = renderOrder[i];\n            this._sortedDrawableIndexList.set(order, i);\n        }\n        for (var i = 0; i < drawableCount; ++i) {\n            var drawableIndex = this._sortedDrawableIndexList.at(i);\n            if (!this.getModel().getDrawableDynamicFlagIsVisible(drawableIndex)) {\n                continue;\n            }\n            var clipContext = this._clippingManager != null\n                ? this._clippingManager\n                    .getClippingContextListForDraw()\n                    .at(drawableIndex)\n                : null;\n            if (clipContext != null && this.isUsingHighPrecisionMask()) {\n                if (clipContext._isUsing) {\n                    this.gl.viewport(0, 0, this._clippingManager.getClippingMaskBufferSize(), this._clippingManager.getClippingMaskBufferSize());\n                    this.preDraw();\n                    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, clipContext\n                        .getClippingManager()\n                        .getMaskRenderTexture()\n                        .at(clipContext._bufferIndex));\n                    this.gl.clearColor(1.0, 1.0, 1.0, 1.0);\n                    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n                }\n                {\n                    var clipDrawCount = clipContext._clippingIdCount;\n                    for (var index = 0; index < clipDrawCount; index++) {\n                        var clipDrawIndex = clipContext._clippingIdList[index];\n                        if (!this._model.getDrawableDynamicFlagVertexPositionsDidChange(clipDrawIndex)) {\n                            continue;\n                        }\n                        this.setIsCulling(this._model.getDrawableCulling(clipDrawIndex) != false);\n                        this.setClippingContextBufferForMask(clipContext);\n                        this.drawMesh(this.getModel().getDrawableTextureIndex(clipDrawIndex), this.getModel().getDrawableVertexIndexCount(clipDrawIndex), this.getModel().getDrawableVertexCount(clipDrawIndex), this.getModel().getDrawableVertexIndices(clipDrawIndex), this.getModel().getDrawableVertices(clipDrawIndex), this.getModel().getDrawableVertexUvs(clipDrawIndex), this.getModel().getMultiplyColor(clipDrawIndex), this.getModel().getScreenColor(clipDrawIndex), this.getModel().getDrawableOpacity(clipDrawIndex), cubismrenderer_1.CubismBlendMode.CubismBlendMode_Normal, false);\n                    }\n                }\n                {\n                    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\n                    this.setClippingContextBufferForMask(null);\n                    this.gl.viewport(s_viewport[0], s_viewport[1], s_viewport[2], s_viewport[3]);\n                    this.preDraw();\n                }\n            }\n            this.setClippingContextBufferForDraw(clipContext);\n            this.setIsCulling(this.getModel().getDrawableCulling(drawableIndex));\n            this.drawMesh(this.getModel().getDrawableTextureIndex(drawableIndex), this.getModel().getDrawableVertexIndexCount(drawableIndex), this.getModel().getDrawableVertexCount(drawableIndex), this.getModel().getDrawableVertexIndices(drawableIndex), this.getModel().getDrawableVertices(drawableIndex), this.getModel().getDrawableVertexUvs(drawableIndex), this.getModel().getMultiplyColor(drawableIndex), this.getModel().getScreenColor(drawableIndex), this.getModel().getDrawableOpacity(drawableIndex), this.getModel().getDrawableBlendMode(drawableIndex), this.getModel().getDrawableInvertedMaskBit(drawableIndex));\n        }\n    };\n    CubismRenderer_WebGL.prototype.drawMesh = function (textureNo, indexCount, vertexCount, indexArray, vertexArray, uvArray, multiplyColor, screenColor, opacity, colorBlendMode, invertedMask) {\n        if (this.isCulling()) {\n            this.gl.enable(this.gl.CULL_FACE);\n        }\n        else {\n            this.gl.disable(this.gl.CULL_FACE);\n        }\n        this.gl.frontFace(this.gl.CCW);\n        var modelColorRGBA = this.getModelColor();\n        if (this.getClippingContextBufferForMask() == null) {\n            modelColorRGBA.A *= opacity;\n            if (this.isPremultipliedAlpha()) {\n                modelColorRGBA.R *= modelColorRGBA.A;\n                modelColorRGBA.G *= modelColorRGBA.A;\n                modelColorRGBA.B *= modelColorRGBA.A;\n            }\n        }\n        var drawtexture;\n        if (this._textures.getValue(textureNo) != null) {\n            drawtexture = this._textures.getValue(textureNo);\n        }\n        else {\n            drawtexture = null;\n        }\n        CubismShader_WebGL.getInstance().setupShaderProgram(this, drawtexture, vertexCount, vertexArray, indexArray, uvArray, this._bufferData, opacity, colorBlendMode, modelColorRGBA, multiplyColor, screenColor, this.isPremultipliedAlpha(), this.getMvpMatrix(), invertedMask);\n        this.gl.drawElements(this.gl.TRIANGLES, indexCount, this.gl.UNSIGNED_SHORT, 0);\n        this.gl.useProgram(null);\n        this.setClippingContextBufferForDraw(null);\n        this.setClippingContextBufferForMask(null);\n    };\n    CubismRenderer_WebGL.prototype.saveProfile = function () {\n        this._rendererProfile.save();\n    };\n    CubismRenderer_WebGL.prototype.restoreProfile = function () {\n        this._rendererProfile.restore();\n    };\n    CubismRenderer_WebGL.doStaticRelease = function () {\n        CubismShader_WebGL.deleteInstance();\n    };\n    CubismRenderer_WebGL.prototype.setRenderState = function (fbo, viewport) {\n        s_fbo = fbo;\n        s_viewport = viewport;\n    };\n    CubismRenderer_WebGL.prototype.preDraw = function () {\n        if (this.firstDraw) {\n            this.firstDraw = false;\n        }\n        this.gl.disable(this.gl.SCISSOR_TEST);\n        this.gl.disable(this.gl.STENCIL_TEST);\n        this.gl.disable(this.gl.DEPTH_TEST);\n        this.gl.frontFace(this.gl.CW);\n        this.gl.enable(this.gl.BLEND);\n        this.gl.colorMask(true, true, true, true);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, null);\n        if (this.getAnisotropy() > 0.0 && this._extension) {\n            for (var i = 0; i < this._textures.getSize(); ++i) {\n                this.gl.bindTexture(this.gl.TEXTURE_2D, this._textures.getValue(i));\n                this.gl.texParameterf(this.gl.TEXTURE_2D, this._extension.TEXTURE_MAX_ANISOTROPY_EXT, this.getAnisotropy());\n            }\n        }\n    };\n    CubismRenderer_WebGL.prototype.setClippingContextBufferForMask = function (clip) {\n        this._clippingContextBufferForMask = clip;\n    };\n    CubismRenderer_WebGL.prototype.getClippingContextBufferForMask = function () {\n        return this._clippingContextBufferForMask;\n    };\n    CubismRenderer_WebGL.prototype.setClippingContextBufferForDraw = function (clip) {\n        this._clippingContextBufferForDraw = clip;\n    };\n    CubismRenderer_WebGL.prototype.getClippingContextBufferForDraw = function () {\n        return this._clippingContextBufferForDraw;\n    };\n    CubismRenderer_WebGL.prototype.startUp = function (gl) {\n        this.gl = gl;\n        if (this._clippingManager) {\n            this._clippingManager.setGL(gl);\n        }\n        CubismShader_WebGL.getInstance().setGl(gl);\n        this._rendererProfile.setGl(gl);\n        this._extension =\n            this.gl.getExtension('EXT_texture_filter_anisotropic') ||\n                this.gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic') ||\n                this.gl.getExtension('MOZ_EXT_texture_filter_anisotropic');\n    };\n    return CubismRenderer_WebGL;\n}(cubismrenderer_1.CubismRenderer));\nexports.CubismRenderer_WebGL = CubismRenderer_WebGL;\ncubismrenderer_1.CubismRenderer.staticRelease = function () {\n    CubismRenderer_WebGL.doStaticRelease();\n};\nvar $ = __importStar(__webpack_require__(/*! ./cubismrenderer_webgl */ \"./src/live2d/framework/rendering/cubismrenderer_webgl.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismClippingContext = $.CubismClippingContext;\n    Live2DCubismFramework.CubismClippingManager_WebGL = $.CubismClippingManager_WebGL;\n    Live2DCubismFramework.CubismRenderTextureResource = $.CubismRenderTextureResource;\n    Live2DCubismFramework.CubismRenderer_WebGL = $.CubismRenderer_WebGL;\n    Live2DCubismFramework.CubismShaderSet = $.CubismShaderSet;\n    Live2DCubismFramework.CubismShader_WebGL = $.CubismShader_WebGL;\n    Live2DCubismFramework.ShaderNames = $.ShaderNames;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/rendering/cubismrenderer_webgl.ts?");

/***/ }),

/***/ "./src/live2d/framework/type/csmmap.ts":
/*!*********************************************!*\
  !*** ./src/live2d/framework/type/csmmap.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.iterator = exports.csmMap = exports.csmPair = void 0;\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar csmPair = (function () {\n    function csmPair(key, value) {\n        this.first = key == undefined ? null : key;\n        this.second = value == undefined ? null : value;\n    }\n    return csmPair;\n}());\nexports.csmPair = csmPair;\nvar csmMap = exports.csmMap = (function () {\n    function csmMap(size) {\n        if (size != undefined) {\n            if (size < 1) {\n                this._keyValues = [];\n                this._dummyValue = null;\n                this._size = 0;\n            }\n            else {\n                this._keyValues = new Array(size);\n                this._size = size;\n            }\n        }\n        else {\n            this._keyValues = [];\n            this._dummyValue = null;\n            this._size = 0;\n        }\n    }\n    csmMap.prototype.release = function () {\n        this.clear();\n    };\n    csmMap.prototype.appendKey = function (key) {\n        this.prepareCapacity(this._size + 1, false);\n        this._keyValues[this._size] = new csmPair(key);\n        this._size += 1;\n    };\n    csmMap.prototype.getValue = function (key) {\n        var found = -1;\n        for (var i = 0; i < this._size; i++) {\n            if (this._keyValues[i].first == key) {\n                found = i;\n                break;\n            }\n        }\n        if (found >= 0) {\n            return this._keyValues[found].second;\n        }\n        else {\n            this.appendKey(key);\n            return this._keyValues[this._size - 1].second;\n        }\n    };\n    csmMap.prototype.setValue = function (key, value) {\n        var found = -1;\n        for (var i = 0; i < this._size; i++) {\n            if (this._keyValues[i].first == key) {\n                found = i;\n                break;\n            }\n        }\n        if (found >= 0) {\n            this._keyValues[found].second = value;\n        }\n        else {\n            this.appendKey(key);\n            this._keyValues[this._size - 1].second = value;\n        }\n    };\n    csmMap.prototype.isExist = function (key) {\n        for (var i = 0; i < this._size; i++) {\n            if (this._keyValues[i].first == key) {\n                return true;\n            }\n        }\n        return false;\n    };\n    csmMap.prototype.clear = function () {\n        this._keyValues = void 0;\n        this._keyValues = null;\n        this._keyValues = [];\n        this._size = 0;\n    };\n    csmMap.prototype.getSize = function () {\n        return this._size;\n    };\n    csmMap.prototype.prepareCapacity = function (newSize, fitToSize) {\n        if (newSize > this._keyValues.length) {\n            if (this._keyValues.length == 0) {\n                if (!fitToSize && newSize < csmMap.DefaultSize)\n                    newSize = csmMap.DefaultSize;\n                this._keyValues.length = newSize;\n            }\n            else {\n                if (!fitToSize && newSize < this._keyValues.length * 2)\n                    newSize = this._keyValues.length * 2;\n                this._keyValues.length = newSize;\n            }\n        }\n    };\n    csmMap.prototype.begin = function () {\n        var ite = new iterator(this, 0);\n        return ite;\n    };\n    csmMap.prototype.end = function () {\n        var ite = new iterator(this, this._size);\n        return ite;\n    };\n    csmMap.prototype.erase = function (ite) {\n        var index = ite._index;\n        if (index < 0 || this._size <= index) {\n            return ite;\n        }\n        this._keyValues.splice(index, 1);\n        --this._size;\n        var ite2 = new iterator(this, index);\n        return ite2;\n    };\n    csmMap.prototype.dumpAsInt = function () {\n        for (var i = 0; i < this._size; i++) {\n            (0, cubismdebug_1.CubismLogDebug)('{0} ,', this._keyValues[i]);\n            (0, cubismdebug_1.CubismLogDebug)('\\n');\n        }\n    };\n    csmMap.DefaultSize = 10;\n    return csmMap;\n}());\nvar iterator = (function () {\n    function iterator(v, idx) {\n        this._map = v != undefined ? v : new csmMap();\n        this._index = idx != undefined ? idx : 0;\n    }\n    iterator.prototype.set = function (ite) {\n        this._index = ite._index;\n        this._map = ite._map;\n        return this;\n    };\n    iterator.prototype.preIncrement = function () {\n        ++this._index;\n        return this;\n    };\n    iterator.prototype.preDecrement = function () {\n        --this._index;\n        return this;\n    };\n    iterator.prototype.increment = function () {\n        var iteold = new iterator(this._map, this._index++);\n        return iteold;\n    };\n    iterator.prototype.decrement = function () {\n        var iteold = new iterator(this._map, this._index);\n        this._map = iteold._map;\n        this._index = iteold._index;\n        return this;\n    };\n    iterator.prototype.ptr = function () {\n        return this._map._keyValues[this._index];\n    };\n    iterator.prototype.notEqual = function (ite) {\n        return this._index != ite._index || this._map != ite._map;\n    };\n    return iterator;\n}());\nexports.iterator = iterator;\nvar $ = __importStar(__webpack_require__(/*! ./csmmap */ \"./src/live2d/framework/type/csmmap.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.csmMap = $.csmMap;\n    Live2DCubismFramework.csmPair = $.csmPair;\n    Live2DCubismFramework.iterator = $.iterator;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/type/csmmap.ts?");

/***/ }),

/***/ "./src/live2d/framework/type/csmrectf.ts":
/*!***********************************************!*\
  !*** ./src/live2d/framework/type/csmrectf.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.csmRect = void 0;\nvar csmRect = (function () {\n    function csmRect(x, y, w, h) {\n        this.x = x;\n        this.y = y;\n        this.width = w;\n        this.height = h;\n    }\n    csmRect.prototype.getCenterX = function () {\n        return this.x + 0.5 * this.width;\n    };\n    csmRect.prototype.getCenterY = function () {\n        return this.y + 0.5 * this.height;\n    };\n    csmRect.prototype.getRight = function () {\n        return this.x + this.width;\n    };\n    csmRect.prototype.getBottom = function () {\n        return this.y + this.height;\n    };\n    csmRect.prototype.setRect = function (r) {\n        this.x = r.x;\n        this.y = r.y;\n        this.width = r.width;\n        this.height = r.height;\n    };\n    csmRect.prototype.expand = function (w, h) {\n        this.x -= w;\n        this.y -= h;\n        this.width += w * 2.0;\n        this.height += h * 2.0;\n    };\n    return csmRect;\n}());\nexports.csmRect = csmRect;\nvar $ = __importStar(__webpack_require__(/*! ./csmrectf */ \"./src/live2d/framework/type/csmrectf.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.csmRect = $.csmRect;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/type/csmrectf.ts?");

/***/ }),

/***/ "./src/live2d/framework/type/csmstring.ts":
/*!************************************************!*\
  !*** ./src/live2d/framework/type/csmstring.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.csmString = void 0;\nvar csmString = (function () {\n    function csmString(s) {\n        this.s = s;\n    }\n    csmString.prototype.append = function (c, length) {\n        this.s += length !== undefined ? c.substr(0, length) : c;\n        return this;\n    };\n    csmString.prototype.expansion = function (length, v) {\n        for (var i = 0; i < length; i++) {\n            this.append(v);\n        }\n        return this;\n    };\n    csmString.prototype.getBytes = function () {\n        return encodeURIComponent(this.s).replace(/%../g, 'x').length;\n    };\n    csmString.prototype.getLength = function () {\n        return this.s.length;\n    };\n    csmString.prototype.isLess = function (s) {\n        return this.s < s.s;\n    };\n    csmString.prototype.isGreat = function (s) {\n        return this.s > s.s;\n    };\n    csmString.prototype.isEqual = function (s) {\n        return this.s == s;\n    };\n    csmString.prototype.isEmpty = function () {\n        return this.s.length == 0;\n    };\n    return csmString;\n}());\nexports.csmString = csmString;\nvar $ = __importStar(__webpack_require__(/*! ./csmstring */ \"./src/live2d/framework/type/csmstring.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.csmString = $.csmString;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/type/csmstring.ts?");

/***/ }),

/***/ "./src/live2d/framework/type/csmvector.ts":
/*!************************************************!*\
  !*** ./src/live2d/framework/type/csmvector.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.iterator = exports.csmVector = void 0;\nvar csmVector = exports.csmVector = (function () {\n    function csmVector(initialCapacity) {\n        if (initialCapacity === void 0) { initialCapacity = 0; }\n        if (initialCapacity < 1) {\n            this._ptr = [];\n            this._capacity = 0;\n            this._size = 0;\n        }\n        else {\n            this._ptr = new Array(initialCapacity);\n            this._capacity = initialCapacity;\n            this._size = 0;\n        }\n    }\n    csmVector.prototype.at = function (index) {\n        return this._ptr[index];\n    };\n    csmVector.prototype.set = function (index, value) {\n        this._ptr[index] = value;\n    };\n    csmVector.prototype.get = function (offset) {\n        if (offset === void 0) { offset = 0; }\n        var ret = new Array();\n        for (var i = offset; i < this._size; i++) {\n            ret.push(this._ptr[i]);\n        }\n        return ret;\n    };\n    csmVector.prototype.pushBack = function (value) {\n        if (this._size >= this._capacity) {\n            this.prepareCapacity(this._capacity == 0 ? csmVector.s_defaultSize : this._capacity * 2);\n        }\n        this._ptr[this._size++] = value;\n    };\n    csmVector.prototype.clear = function () {\n        this._ptr.length = 0;\n        this._size = 0;\n    };\n    csmVector.prototype.getSize = function () {\n        return this._size;\n    };\n    csmVector.prototype.assign = function (newSize, value) {\n        var curSize = this._size;\n        if (curSize < newSize) {\n            this.prepareCapacity(newSize);\n        }\n        for (var i = 0; i < newSize; i++) {\n            this._ptr[i] = value;\n        }\n        this._size = newSize;\n    };\n    csmVector.prototype.resize = function (newSize, value) {\n        if (value === void 0) { value = null; }\n        this.updateSize(newSize, value, true);\n    };\n    csmVector.prototype.updateSize = function (newSize, value, callPlacementNew) {\n        if (value === void 0) { value = null; }\n        if (callPlacementNew === void 0) { callPlacementNew = true; }\n        var curSize = this._size;\n        if (curSize < newSize) {\n            this.prepareCapacity(newSize);\n            if (callPlacementNew) {\n                for (var i = this._size; i < newSize; i++) {\n                    if (typeof value == 'function') {\n                        this._ptr[i] = JSON.parse(JSON.stringify(new value()));\n                    }\n                    else {\n                        this._ptr[i] = value;\n                    }\n                }\n            }\n            else {\n                for (var i = this._size; i < newSize; i++) {\n                    this._ptr[i] = value;\n                }\n            }\n        }\n        else {\n            var sub = this._size - newSize;\n            this._ptr.splice(this._size - sub, sub);\n        }\n        this._size = newSize;\n    };\n    csmVector.prototype.insert = function (position, begin, end) {\n        var dstSi = position._index;\n        var srcSi = begin._index;\n        var srcEi = end._index;\n        var addCount = srcEi - srcSi;\n        this.prepareCapacity(this._size + addCount);\n        var addSize = this._size - dstSi;\n        if (addSize > 0) {\n            for (var i = 0; i < addSize; i++) {\n                this._ptr.splice(dstSi + i, 0, null);\n            }\n        }\n        for (var i = srcSi; i < srcEi; i++, dstSi++) {\n            this._ptr[dstSi] = begin._vector._ptr[i];\n        }\n        this._size = this._size + addCount;\n    };\n    csmVector.prototype.remove = function (index) {\n        if (index < 0 || this._size <= index) {\n            return false;\n        }\n        this._ptr.splice(index, 1);\n        --this._size;\n        return true;\n    };\n    csmVector.prototype.erase = function (ite) {\n        var index = ite._index;\n        if (index < 0 || this._size <= index) {\n            return ite;\n        }\n        this._ptr.splice(index, 1);\n        --this._size;\n        var ite2 = new iterator(this, index);\n        return ite2;\n    };\n    csmVector.prototype.prepareCapacity = function (newSize) {\n        if (newSize > this._capacity) {\n            if (this._capacity == 0) {\n                this._ptr = new Array(newSize);\n                this._capacity = newSize;\n            }\n            else {\n                this._ptr.length = newSize;\n                this._capacity = newSize;\n            }\n        }\n    };\n    csmVector.prototype.begin = function () {\n        var ite = this._size == 0 ? this.end() : new iterator(this, 0);\n        return ite;\n    };\n    csmVector.prototype.end = function () {\n        var ite = new iterator(this, this._size);\n        return ite;\n    };\n    csmVector.prototype.getOffset = function (offset) {\n        var newVector = new csmVector();\n        newVector._ptr = this.get(offset);\n        newVector._size = this.get(offset).length;\n        newVector._capacity = this.get(offset).length;\n        return newVector;\n    };\n    csmVector.s_defaultSize = 10;\n    return csmVector;\n}());\nvar iterator = (function () {\n    function iterator(v, index) {\n        this._vector = v != undefined ? v : null;\n        this._index = index != undefined ? index : 0;\n    }\n    iterator.prototype.set = function (ite) {\n        this._index = ite._index;\n        this._vector = ite._vector;\n        return this;\n    };\n    iterator.prototype.preIncrement = function () {\n        ++this._index;\n        return this;\n    };\n    iterator.prototype.preDecrement = function () {\n        --this._index;\n        return this;\n    };\n    iterator.prototype.increment = function () {\n        var iteold = new iterator(this._vector, this._index++);\n        return iteold;\n    };\n    iterator.prototype.decrement = function () {\n        var iteold = new iterator(this._vector, this._index--);\n        return iteold;\n    };\n    iterator.prototype.ptr = function () {\n        return this._vector._ptr[this._index];\n    };\n    iterator.prototype.substitution = function (ite) {\n        this._index = ite._index;\n        this._vector = ite._vector;\n        return this;\n    };\n    iterator.prototype.notEqual = function (ite) {\n        return this._index != ite._index || this._vector != ite._vector;\n    };\n    return iterator;\n}());\nexports.iterator = iterator;\nvar $ = __importStar(__webpack_require__(/*! ./csmvector */ \"./src/live2d/framework/type/csmvector.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.csmVector = $.csmVector;\n    Live2DCubismFramework.iterator = $.iterator;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/type/csmvector.ts?");

/***/ }),

/***/ "./src/live2d/framework/utils/cubismdebug.ts":
/*!***************************************************!*\
  !*** ./src/live2d/framework/utils/cubismdebug.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.CubismDebug = exports.CubismLogError = exports.CubismLogWarning = exports.CubismLogInfo = exports.CubismLogDebug = exports.CubismLogVerbose = exports.CSM_ASSERT = exports.CubismLogPrintIn = exports.CubismLogPrint = void 0;\nvar cubismframeworkconfig_1 = __webpack_require__(/*! ../cubismframeworkconfig */ \"./src/live2d/framework/cubismframeworkconfig.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar CubismLogPrint = function (level, fmt, args) {\n    CubismDebug.print(level, '[CSM]' + fmt, args);\n};\nexports.CubismLogPrint = CubismLogPrint;\nvar CubismLogPrintIn = function (level, fmt, args) {\n    (0, exports.CubismLogPrint)(level, fmt + '\\n', args);\n};\nexports.CubismLogPrintIn = CubismLogPrintIn;\nvar CSM_ASSERT = function (expr) {\n    console.assert(expr);\n};\nexports.CSM_ASSERT = CSM_ASSERT;\nif (cubismframeworkconfig_1.CSM_LOG_LEVEL <= cubismframeworkconfig_1.CSM_LOG_LEVEL_VERBOSE) {\n    exports.CubismLogVerbose = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Verbose, '[V]' + fmt, args);\n    };\n    exports.CubismLogDebug = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Debug, '[D]' + fmt, args);\n    };\n    exports.CubismLogInfo = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_DEBUG) {\n    exports.CubismLogDebug = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Debug, '[D]' + fmt, args);\n    };\n    exports.CubismLogInfo = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_INFO) {\n    exports.CubismLogInfo = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_WARNING) {\n    exports.CubismLogWarning = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_ERROR) {\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (0, exports.CubismLogPrintIn)(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nvar CubismDebug = (function () {\n    function CubismDebug() {\n    }\n    CubismDebug.print = function (logLevel, format, args) {\n        if (logLevel < live2dcubismframework_1.CubismFramework.getLoggingLevel()) {\n            return;\n        }\n        var logPrint = live2dcubismframework_1.CubismFramework.coreLogFunction;\n        if (!logPrint)\n            return;\n        var buffer = format.replace(/\\{(\\d+)\\}/g, function (m, k) {\n            return args[k];\n        });\n        logPrint(buffer);\n    };\n    CubismDebug.dumpBytes = function (logLevel, data, length) {\n        for (var i = 0; i < length; i++) {\n            if (i % 16 == 0 && i > 0)\n                this.print(logLevel, '\\n');\n            else if (i % 8 == 0 && i > 0)\n                this.print(logLevel, '  ');\n            this.print(logLevel, '{0} ', [data[i] & 0xff]);\n        }\n        this.print(logLevel, '\\n');\n    };\n    return CubismDebug;\n}());\nexports.CubismDebug = CubismDebug;\nvar $ = __importStar(__webpack_require__(/*! ./cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\"));\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismDebug = $.CubismDebug;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/utils/cubismdebug.ts?");

/***/ }),

/***/ "./src/live2d/framework/utils/cubismjson.ts":
/*!**************************************************!*\
  !*** ./src/live2d/framework/utils/cubismjson.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Live2DCubismFramework = exports.JsonMap = exports.JsonArray = exports.JsonNullvalue = exports.JsonError = exports.JsonString = exports.JsonBoolean = exports.JsonFloat = exports.CubismJson = exports.Value = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./src/live2d/framework/type/csmmap.ts\");\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./src/live2d/framework/type/csmstring.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ./cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar CSM_JSON_ERROR_TYPE_MISMATCH = 'Error: type mismatch';\nvar CSM_JSON_ERROR_INDEX_OF_BOUNDS = 'Error: index out of bounds';\nvar Value = (function () {\n    function Value() {\n    }\n    Value.prototype.getRawString = function (defaultValue, indent) {\n        return this.getString(defaultValue, indent);\n    };\n    Value.prototype.toInt = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = 0; }\n        return defaultValue;\n    };\n    Value.prototype.toFloat = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = 0; }\n        return defaultValue;\n    };\n    Value.prototype.toBoolean = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = false; }\n        return defaultValue;\n    };\n    Value.prototype.getSize = function () {\n        return 0;\n    };\n    Value.prototype.getArray = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = null; }\n        return defaultValue;\n    };\n    Value.prototype.getVector = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = new csmvector_1.csmVector(); }\n        return defaultValue;\n    };\n    Value.prototype.getMap = function (defaultValue) {\n        return defaultValue;\n    };\n    Value.prototype.getValueByIndex = function (index) {\n        return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n    };\n    Value.prototype.getValueByString = function (s) {\n        return Value.nullValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n    };\n    Value.prototype.getKeys = function () {\n        return Value.s_dummyKeys;\n    };\n    Value.prototype.isError = function () {\n        return false;\n    };\n    Value.prototype.isNull = function () {\n        return false;\n    };\n    Value.prototype.isBool = function () {\n        return false;\n    };\n    Value.prototype.isFloat = function () {\n        return false;\n    };\n    Value.prototype.isString = function () {\n        return false;\n    };\n    Value.prototype.isArray = function () {\n        return false;\n    };\n    Value.prototype.isMap = function () {\n        return false;\n    };\n    Value.prototype.equals = function (value) {\n        return false;\n    };\n    Value.prototype.isStatic = function () {\n        return false;\n    };\n    Value.prototype.setErrorNotForClientCall = function (errorStr) {\n        return JsonError.errorValue;\n    };\n    Value.staticInitializeNotForClientCall = function () {\n        JsonBoolean.trueValue = new JsonBoolean(true);\n        JsonBoolean.falseValue = new JsonBoolean(false);\n        Value.errorValue = new JsonError('ERROR', true);\n        Value.nullValue = new JsonNullvalue();\n        Value.s_dummyKeys = new csmvector_1.csmVector();\n    };\n    Value.staticReleaseNotForClientCall = function () {\n        JsonBoolean.trueValue = null;\n        JsonBoolean.falseValue = null;\n        Value.errorValue = null;\n        Value.nullValue = null;\n        Value.s_dummyKeys = null;\n    };\n    return Value;\n}());\nexports.Value = Value;\nvar CubismJson = (function () {\n    function CubismJson(buffer, length) {\n        this._parseCallback = cubismjsonextension_1.CubismJsonExtension.parseJsonObject;\n        this._error = null;\n        this._lineCount = 0;\n        this._root = null;\n        if (buffer != undefined) {\n            this.parseBytes(buffer, length, this._parseCallback);\n        }\n    }\n    CubismJson.create = function (buffer, size) {\n        var json = new CubismJson();\n        var succeeded = json.parseBytes(buffer, size, json._parseCallback);\n        if (!succeeded) {\n            CubismJson.delete(json);\n            return null;\n        }\n        else {\n            return json;\n        }\n    };\n    CubismJson.delete = function (instance) {\n        instance = null;\n    };\n    CubismJson.prototype.getRoot = function () {\n        return this._root;\n    };\n    CubismJson.arrayBufferToString = function (buffer) {\n        var uint8Array = new Uint8Array(buffer);\n        var str = '';\n        for (var i = 0, len = uint8Array.length; i < len; ++i) {\n            str += '%' + this.pad(uint8Array[i].toString(16));\n        }\n        str = decodeURIComponent(str);\n        return str;\n    };\n    CubismJson.pad = function (n) {\n        return n.length < 2 ? '0' + n : n;\n    };\n    CubismJson.prototype.parseBytes = function (buffer, size, parseCallback) {\n        var endPos = new Array(1);\n        var decodeBuffer = CubismJson.arrayBufferToString(buffer);\n        if (parseCallback == undefined) {\n            this._root = this.parseValue(decodeBuffer, size, 0, endPos);\n        }\n        else {\n            this._root = parseCallback(JSON.parse(decodeBuffer), new JsonMap());\n        }\n        if (this._error) {\n            var strbuf = '\\0';\n            strbuf = 'Json parse error : @line ' + (this._lineCount + 1) + '\\n';\n            this._root = new JsonString(strbuf);\n            (0, cubismdebug_1.CubismLogInfo)('{0}', this._root.getRawString());\n            return false;\n        }\n        else if (this._root == null) {\n            this._root = new JsonError(new csmstring_1.csmString(this._error), false);\n            return false;\n        }\n        return true;\n    };\n    CubismJson.prototype.getParseError = function () {\n        return this._error;\n    };\n    CubismJson.prototype.checkEndOfFile = function () {\n        return this._root.getArray()[1].equals('EOF');\n    };\n    CubismJson.prototype.parseValue = function (buffer, length, begin, outEndPos) {\n        if (this._error)\n            return null;\n        var o = null;\n        var i = begin;\n        var f;\n        for (; i < length; i++) {\n            var c = buffer[i];\n            switch (c) {\n                case '-':\n                case '.':\n                case '0':\n                case '1':\n                case '2':\n                case '3':\n                case '4':\n                case '5':\n                case '6':\n                case '7':\n                case '8':\n                case '9': {\n                    var afterString = new Array(1);\n                    f = (0, live2dcubismframework_1.strtod)(buffer.slice(i), afterString);\n                    outEndPos[0] = buffer.indexOf(afterString[0]);\n                    return new JsonFloat(f);\n                }\n                case '\"':\n                    return new JsonString(this.parseString(buffer, length, i + 1, outEndPos));\n                case '[':\n                    o = this.parseArray(buffer, length, i + 1, outEndPos);\n                    return o;\n                case '{':\n                    o = this.parseObject(buffer, length, i + 1, outEndPos);\n                    return o;\n                case 'n':\n                    if (i + 3 < length) {\n                        o = new JsonNullvalue();\n                        outEndPos[0] = i + 4;\n                    }\n                    else {\n                        this._error = 'parse null';\n                    }\n                    return o;\n                case 't':\n                    if (i + 3 < length) {\n                        o = JsonBoolean.trueValue;\n                        outEndPos[0] = i + 4;\n                    }\n                    else {\n                        this._error = 'parse true';\n                    }\n                    return o;\n                case 'f':\n                    if (i + 4 < length) {\n                        o = JsonBoolean.falseValue;\n                        outEndPos[0] = i + 5;\n                    }\n                    else {\n                        this._error = \"illegal ',' position\";\n                    }\n                    return o;\n                case ',':\n                    this._error = \"illegal ',' position\";\n                    return null;\n                case ']':\n                    outEndPos[0] = i;\n                    return null;\n                case '\\n':\n                    this._lineCount++;\n                case ' ':\n                case '\\t':\n                case '\\r':\n                default:\n                    break;\n            }\n        }\n        this._error = 'illegal end of value';\n        return null;\n    };\n    CubismJson.prototype.parseString = function (string, length, begin, outEndPos) {\n        if (this._error)\n            return null;\n        var i = begin;\n        var c, c2;\n        var ret = new csmstring_1.csmString('');\n        var bufStart = begin;\n        for (; i < length; i++) {\n            c = string[i];\n            switch (c) {\n                case '\"': {\n                    outEndPos[0] = i + 1;\n                    ret.append(string.slice(bufStart), i - bufStart);\n                    return ret.s;\n                }\n                case '//': {\n                    i++;\n                    if (i - 1 > bufStart) {\n                        ret.append(string.slice(bufStart), i - bufStart);\n                    }\n                    bufStart = i + 1;\n                    if (i < length) {\n                        c2 = string[i];\n                        switch (c2) {\n                            case '\\\\':\n                                ret.expansion(1, '\\\\');\n                                break;\n                            case '\"':\n                                ret.expansion(1, '\"');\n                                break;\n                            case '/':\n                                ret.expansion(1, '/');\n                                break;\n                            case 'b':\n                                ret.expansion(1, '\\b');\n                                break;\n                            case 'f':\n                                ret.expansion(1, '\\f');\n                                break;\n                            case 'n':\n                                ret.expansion(1, '\\n');\n                                break;\n                            case 'r':\n                                ret.expansion(1, '\\r');\n                                break;\n                            case 't':\n                                ret.expansion(1, '\\t');\n                                break;\n                            case 'u':\n                                this._error = 'parse string/unicord escape not supported';\n                                break;\n                            default:\n                                break;\n                        }\n                    }\n                    else {\n                        this._error = 'parse string/escape error';\n                    }\n                }\n                default: {\n                    break;\n                }\n            }\n        }\n        this._error = 'parse string/illegal end';\n        return null;\n    };\n    CubismJson.prototype.parseObject = function (buffer, length, begin, outEndPos) {\n        if (this._error)\n            return null;\n        var ret = new JsonMap();\n        var key = '';\n        var i = begin;\n        var c = '';\n        var localRetEndPos2 = Array(1);\n        var ok = false;\n        for (; i < length; i++) {\n            FOR_LOOP: for (; i < length; i++) {\n                c = buffer[i];\n                switch (c) {\n                    case '\"':\n                        key = this.parseString(buffer, length, i + 1, localRetEndPos2);\n                        if (this._error) {\n                            return null;\n                        }\n                        i = localRetEndPos2[0];\n                        ok = true;\n                        break FOR_LOOP;\n                    case '}':\n                        outEndPos[0] = i + 1;\n                        return ret;\n                    case ':':\n                        this._error = \"illegal ':' position\";\n                        break;\n                    case '\\n':\n                        this._lineCount++;\n                    default:\n                        break;\n                }\n            }\n            if (!ok) {\n                this._error = 'key not found';\n                return null;\n            }\n            ok = false;\n            FOR_LOOP2: for (; i < length; i++) {\n                c = buffer[i];\n                switch (c) {\n                    case ':':\n                        ok = true;\n                        i++;\n                        break FOR_LOOP2;\n                    case '}':\n                        this._error = \"illegal '}' position\";\n                        break;\n                    case '\\n':\n                        this._lineCount++;\n                    default:\n                        break;\n                }\n            }\n            if (!ok) {\n                this._error = \"':' not found\";\n                return null;\n            }\n            var value = this.parseValue(buffer, length, i, localRetEndPos2);\n            if (this._error) {\n                return null;\n            }\n            i = localRetEndPos2[0];\n            ret.put(key, value);\n            FOR_LOOP3: for (; i < length; i++) {\n                c = buffer[i];\n                switch (c) {\n                    case ',':\n                        break FOR_LOOP3;\n                    case '}':\n                        outEndPos[0] = i + 1;\n                        return ret;\n                    case '\\n':\n                        this._lineCount++;\n                    default:\n                        break;\n                }\n            }\n        }\n        this._error = 'illegal end of perseObject';\n        return null;\n    };\n    CubismJson.prototype.parseArray = function (buffer, length, begin, outEndPos) {\n        if (this._error)\n            return null;\n        var ret = new JsonArray();\n        var i = begin;\n        var c;\n        var localRetEndpos2 = new Array(1);\n        for (; i < length; i++) {\n            var value = this.parseValue(buffer, length, i, localRetEndpos2);\n            if (this._error) {\n                return null;\n            }\n            i = localRetEndpos2[0];\n            if (value) {\n                ret.add(value);\n            }\n            FOR_LOOP: for (; i < length; i++) {\n                c = buffer[i];\n                switch (c) {\n                    case ',':\n                        break FOR_LOOP;\n                    case ']':\n                        outEndPos[0] = i + 1;\n                        return ret;\n                    case '\\n':\n                        ++this._lineCount;\n                    default:\n                        break;\n                }\n            }\n        }\n        ret = void 0;\n        this._error = 'illegal end of parseObject';\n        return null;\n    };\n    return CubismJson;\n}());\nexports.CubismJson = CubismJson;\nvar JsonFloat = (function (_super) {\n    __extends(JsonFloat, _super);\n    function JsonFloat(v) {\n        var _this = _super.call(this) || this;\n        _this._value = v;\n        return _this;\n    }\n    JsonFloat.prototype.isFloat = function () {\n        return true;\n    };\n    JsonFloat.prototype.getString = function (defaultValue, indent) {\n        var strbuf = '\\0';\n        this._value = parseFloat(strbuf);\n        this._stringBuffer = strbuf;\n        return this._stringBuffer;\n    };\n    JsonFloat.prototype.toInt = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = 0; }\n        return parseInt(this._value.toString());\n    };\n    JsonFloat.prototype.toFloat = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = 0.0; }\n        return this._value;\n    };\n    JsonFloat.prototype.equals = function (value) {\n        if ('number' === typeof value) {\n            if (Math.round(value)) {\n                return false;\n            }\n            else {\n                return value == this._value;\n            }\n        }\n        return false;\n    };\n    return JsonFloat;\n}(Value));\nexports.JsonFloat = JsonFloat;\nvar JsonBoolean = (function (_super) {\n    __extends(JsonBoolean, _super);\n    function JsonBoolean(v) {\n        var _this = _super.call(this) || this;\n        _this._boolValue = v;\n        return _this;\n    }\n    JsonBoolean.prototype.isBool = function () {\n        return true;\n    };\n    JsonBoolean.prototype.toBoolean = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = false; }\n        return this._boolValue;\n    };\n    JsonBoolean.prototype.getString = function (defaultValue, indent) {\n        this._stringBuffer = this._boolValue ? 'true' : 'false';\n        return this._stringBuffer;\n    };\n    JsonBoolean.prototype.equals = function (value) {\n        if ('boolean' === typeof value) {\n            return value == this._boolValue;\n        }\n        return false;\n    };\n    JsonBoolean.prototype.isStatic = function () {\n        return true;\n    };\n    return JsonBoolean;\n}(Value));\nexports.JsonBoolean = JsonBoolean;\nvar JsonString = (function (_super) {\n    __extends(JsonString, _super);\n    function JsonString(s) {\n        var _this = _super.call(this) || this;\n        if ('string' === typeof s) {\n            _this._stringBuffer = s;\n        }\n        if (s instanceof csmstring_1.csmString) {\n            _this._stringBuffer = s.s;\n        }\n        return _this;\n    }\n    JsonString.prototype.isString = function () {\n        return true;\n    };\n    JsonString.prototype.getString = function (defaultValue, indent) {\n        return this._stringBuffer;\n    };\n    JsonString.prototype.equals = function (value) {\n        if ('string' === typeof value) {\n            return this._stringBuffer == value;\n        }\n        if (value instanceof csmstring_1.csmString) {\n            return this._stringBuffer == value.s;\n        }\n        return false;\n    };\n    return JsonString;\n}(Value));\nexports.JsonString = JsonString;\nvar JsonError = (function (_super) {\n    __extends(JsonError, _super);\n    function JsonError(s, isStatic) {\n        var _this = this;\n        if ('string' === typeof s) {\n            _this = _super.call(this, s) || this;\n        }\n        else {\n            _this = _super.call(this, s) || this;\n        }\n        _this._isStatic = isStatic;\n        return _this;\n    }\n    JsonError.prototype.isStatic = function () {\n        return this._isStatic;\n    };\n    JsonError.prototype.setErrorNotForClientCall = function (s) {\n        this._stringBuffer = s;\n        return this;\n    };\n    JsonError.prototype.isError = function () {\n        return true;\n    };\n    return JsonError;\n}(JsonString));\nexports.JsonError = JsonError;\nvar JsonNullvalue = (function (_super) {\n    __extends(JsonNullvalue, _super);\n    function JsonNullvalue() {\n        var _this = _super.call(this) || this;\n        _this._stringBuffer = 'NullValue';\n        return _this;\n    }\n    JsonNullvalue.prototype.isNull = function () {\n        return true;\n    };\n    JsonNullvalue.prototype.getString = function (defaultValue, indent) {\n        return this._stringBuffer;\n    };\n    JsonNullvalue.prototype.isStatic = function () {\n        return true;\n    };\n    JsonNullvalue.prototype.setErrorNotForClientCall = function (s) {\n        this._stringBuffer = s;\n        return JsonError.nullValue;\n    };\n    return JsonNullvalue;\n}(Value));\nexports.JsonNullvalue = JsonNullvalue;\nvar JsonArray = (function (_super) {\n    __extends(JsonArray, _super);\n    function JsonArray() {\n        var _this = _super.call(this) || this;\n        _this._array = new csmvector_1.csmVector();\n        return _this;\n    }\n    JsonArray.prototype.release = function () {\n        for (var ite = this._array.begin(); ite.notEqual(this._array.end()); ite.preIncrement()) {\n            var v = ite.ptr();\n            if (v && !v.isStatic()) {\n                v = void 0;\n                v = null;\n            }\n        }\n    };\n    JsonArray.prototype.isArray = function () {\n        return true;\n    };\n    JsonArray.prototype.getValueByIndex = function (index) {\n        if (index < 0 || this._array.getSize() <= index) {\n            return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_INDEX_OF_BOUNDS);\n        }\n        var v = this._array.at(index);\n        if (v == null) {\n            return Value.nullValue;\n        }\n        return v;\n    };\n    JsonArray.prototype.getValueByString = function (s) {\n        return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n    };\n    JsonArray.prototype.getString = function (defaultValue, indent) {\n        var stringBuffer = indent + '[\\n';\n        for (var ite = this._array.begin(); ite.notEqual(this._array.end()); ite.increment()) {\n            var v = ite.ptr();\n            this._stringBuffer += indent + '' + v.getString(indent + ' ') + '\\n';\n        }\n        this._stringBuffer = stringBuffer + indent + ']\\n';\n        return this._stringBuffer;\n    };\n    JsonArray.prototype.add = function (v) {\n        this._array.pushBack(v);\n    };\n    JsonArray.prototype.getVector = function (defaultValue) {\n        if (defaultValue === void 0) { defaultValue = null; }\n        return this._array;\n    };\n    JsonArray.prototype.getSize = function () {\n        return this._array.getSize();\n    };\n    return JsonArray;\n}(Value));\nexports.JsonArray = JsonArray;\nvar JsonMap = (function (_super) {\n    __extends(JsonMap, _super);\n    function JsonMap() {\n        var _this = _super.call(this) || this;\n        _this._map = new csmmap_1.csmMap();\n        return _this;\n    }\n    JsonMap.prototype.release = function () {\n        var ite = this._map.begin();\n        while (ite.notEqual(this._map.end())) {\n            var v = ite.ptr().second;\n            if (v && !v.isStatic()) {\n                v = void 0;\n                v = null;\n            }\n            ite.preIncrement();\n        }\n    };\n    JsonMap.prototype.isMap = function () {\n        return true;\n    };\n    JsonMap.prototype.getValueByString = function (s) {\n        if (s instanceof csmstring_1.csmString) {\n            var ret = this._map.getValue(s.s);\n            if (ret == null) {\n                return Value.nullValue;\n            }\n            return ret;\n        }\n        for (var iter = this._map.begin(); iter.notEqual(this._map.end()); iter.preIncrement()) {\n            if (iter.ptr().first == s) {\n                if (iter.ptr().second == null) {\n                    return Value.nullValue;\n                }\n                return iter.ptr().second;\n            }\n        }\n        return Value.nullValue;\n    };\n    JsonMap.prototype.getValueByIndex = function (index) {\n        return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n    };\n    JsonMap.prototype.getString = function (defaultValue, indent) {\n        this._stringBuffer = indent + '{\\n';\n        var ite = this._map.begin();\n        while (ite.notEqual(this._map.end())) {\n            var key = ite.ptr().first;\n            var v = ite.ptr().second;\n            this._stringBuffer +=\n                indent + ' ' + key + ' : ' + v.getString(indent + '   ') + ' \\n';\n            ite.preIncrement();\n        }\n        this._stringBuffer += indent + '}\\n';\n        return this._stringBuffer;\n    };\n    JsonMap.prototype.getMap = function (defaultValue) {\n        return this._map;\n    };\n    JsonMap.prototype.put = function (key, v) {\n        this._map.setValue(key, v);\n    };\n    JsonMap.prototype.getKeys = function () {\n        if (!this._keys) {\n            this._keys = new csmvector_1.csmVector();\n            var ite = this._map.begin();\n            while (ite.notEqual(this._map.end())) {\n                var key = ite.ptr().first;\n                this._keys.pushBack(key);\n                ite.preIncrement();\n            }\n        }\n        return this._keys;\n    };\n    JsonMap.prototype.getSize = function () {\n        return this._keys.getSize();\n    };\n    return JsonMap;\n}(Value));\nexports.JsonMap = JsonMap;\nvar $ = __importStar(__webpack_require__(/*! ./cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\"));\nvar cubismjsonextension_1 = __webpack_require__(/*! ./cubismjsonextension */ \"./src/live2d/framework/utils/cubismjsonextension.ts\");\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.CubismJson = $.CubismJson;\n    Live2DCubismFramework.JsonArray = $.JsonArray;\n    Live2DCubismFramework.JsonBoolean = $.JsonBoolean;\n    Live2DCubismFramework.JsonError = $.JsonError;\n    Live2DCubismFramework.JsonFloat = $.JsonFloat;\n    Live2DCubismFramework.JsonMap = $.JsonMap;\n    Live2DCubismFramework.JsonNullvalue = $.JsonNullvalue;\n    Live2DCubismFramework.JsonString = $.JsonString;\n    Live2DCubismFramework.Value = $.Value;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n\n\n//# sourceURL=webpack:///./src/live2d/framework/utils/cubismjson.ts?");

/***/ }),

/***/ "./src/live2d/framework/utils/cubismjsonextension.ts":
/*!***********************************************************!*\
  !*** ./src/live2d/framework/utils/cubismjsonextension.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CubismJsonExtension = void 0;\nvar cubismjson_1 = __webpack_require__(/*! ./cubismjson */ \"./src/live2d/framework/utils/cubismjson.ts\");\nvar CubismJsonExtension = (function () {\n    function CubismJsonExtension() {\n    }\n    CubismJsonExtension.parseJsonObject = function (obj, map) {\n        Object.keys(obj).forEach(function (key) {\n            if (typeof obj[key] == 'boolean') {\n                var convValue = Boolean(obj[key]);\n                map.put(key, new cubismjson_1.JsonBoolean(convValue));\n            }\n            else if (typeof obj[key] == 'string') {\n                var convValue = String(obj[key]);\n                map.put(key, new cubismjson_1.JsonString(convValue));\n            }\n            else if (typeof obj[key] == 'number') {\n                var convValue = Number(obj[key]);\n                map.put(key, new cubismjson_1.JsonFloat(convValue));\n            }\n            else if (obj[key] instanceof Array) {\n                map.put(key, CubismJsonExtension.parseJsonArray(obj[key]));\n            }\n            else if (obj[key] instanceof Object) {\n                map.put(key, CubismJsonExtension.parseJsonObject(obj[key], new cubismjson_1.JsonMap()));\n            }\n            else if (obj[key] == null) {\n                map.put(key, new cubismjson_1.JsonNullvalue());\n            }\n            else {\n                map.put(key, obj[key]);\n            }\n        });\n        return map;\n    };\n    CubismJsonExtension.parseJsonArray = function (obj) {\n        var _this = this;\n        var arr = new cubismjson_1.JsonArray();\n        Object.keys(obj).forEach(function (key) {\n            var convKey = Number(key);\n            if (typeof convKey == 'number') {\n                if (typeof obj[key] == 'boolean') {\n                    var convValue = Boolean(obj[key]);\n                    arr.add(new cubismjson_1.JsonBoolean(convValue));\n                }\n                else if (typeof obj[key] == 'string') {\n                    var convValue = String(obj[key]);\n                    arr.add(new cubismjson_1.JsonString(convValue));\n                }\n                else if (typeof obj[key] == 'number') {\n                    var convValue = Number(obj[key]);\n                    arr.add(new cubismjson_1.JsonFloat(convValue));\n                }\n                else if (obj[key] instanceof Array) {\n                    arr.add(_this.parseJsonArray(obj[key]));\n                }\n                else if (obj[key] instanceof Object) {\n                    arr.add(_this.parseJsonObject(obj[key], new cubismjson_1.JsonMap()));\n                }\n                else if (obj[key] == null) {\n                    arr.add(new cubismjson_1.JsonNullvalue());\n                }\n                else {\n                    arr.add(obj[key]);\n                }\n            }\n            else if (obj[key] instanceof Array) {\n                arr.add(_this.parseJsonArray(obj[key]));\n            }\n            else if (obj[key] instanceof Object) {\n                arr.add(_this.parseJsonObject(obj[key], new cubismjson_1.JsonMap()));\n            }\n            else if (obj[key] == null) {\n                arr.add(new cubismjson_1.JsonNullvalue());\n            }\n            else {\n                var convValue = Array(obj[key]);\n                for (var i = 0; i < convValue.length; i++) {\n                    arr.add(convValue[i]);\n                }\n            }\n        });\n        return arr;\n    };\n    return CubismJsonExtension;\n}());\nexports.CubismJsonExtension = CubismJsonExtension;\n\n\n//# sourceURL=webpack:///./src/live2d/framework/utils/cubismjsonextension.ts?");

/***/ }),

/***/ "./src/live2d/lappdefine.ts":
/*!**********************************!*\
  !*** ./src/live2d/lappdefine.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RenderTargetHeight = exports.RenderTargetWidth = exports.CubismLoggingLevel = exports.DebugTouchLogEnable = exports.DebugLogEnable = exports.MOCConsistencyValidationEnable = exports.PriorityForce = exports.PriorityNormal = exports.PriorityIdle = exports.PriorityNone = exports.HitAreaNameBody = exports.HitAreaNameHead = exports.MotionGroupTapBody = exports.MotionGroupIdle = exports.ModelDirSize = exports.ModelDir = exports.PowerImageName = exports.GearImageName = exports.BackImageName = exports.ResourcesPath = exports.ViewLogicalMaxTop = exports.ViewLogicalMaxBottom = exports.ViewLogicalMaxRight = exports.ViewLogicalMaxLeft = exports.ViewLogicalTop = exports.ViewLogicalBottom = exports.ViewLogicalRight = exports.ViewLogicalLeft = exports.ViewMinScale = exports.ViewMaxScale = exports.ViewScale = exports.CanvasSize = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ./framework/live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nexports.CanvasSize = 'auto';\nexports.ViewScale = 1.0;\nexports.ViewMaxScale = 2.0;\nexports.ViewMinScale = 0.8;\nexports.ViewLogicalLeft = -1.0;\nexports.ViewLogicalRight = 1.0;\nexports.ViewLogicalBottom = -1.0;\nexports.ViewLogicalTop = 1.0;\nexports.ViewLogicalMaxLeft = -2.0;\nexports.ViewLogicalMaxRight = 2.0;\nexports.ViewLogicalMaxBottom = -2.0;\nexports.ViewLogicalMaxTop = 2.0;\nexports.ResourcesPath = './assets/';\nexports.BackImageName = 'back_class_normal.png';\nexports.GearImageName = 'icon_gear.png';\nexports.PowerImageName = 'CloseNormal.png';\nexports.ModelDir = [\n    'hgkoazarasi'\n];\nexports.ModelDirSize = exports.ModelDir.length;\nexports.MotionGroupIdle = 'Idle';\nexports.MotionGroupTapBody = 'TapBody';\nexports.HitAreaNameHead = 'Head';\nexports.HitAreaNameBody = 'Body';\nexports.PriorityNone = 0;\nexports.PriorityIdle = 1;\nexports.PriorityNormal = 2;\nexports.PriorityForce = 3;\nexports.MOCConsistencyValidationEnable = true;\nexports.DebugLogEnable = true;\nexports.DebugTouchLogEnable = false;\nexports.CubismLoggingLevel = live2dcubismframework_1.LogLevel.LogLevel_Verbose;\nexports.RenderTargetWidth = 1900;\nexports.RenderTargetHeight = 1000;\n\n\n//# sourceURL=webpack:///./src/live2d/lappdefine.ts?");

/***/ }),

/***/ "./src/live2d/lappdelegate.ts":
/*!************************************!*\
  !*** ./src/live2d/lappdelegate.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppDelegate = exports.frameBuffer = exports.gl = exports.s_instance = exports.canvas = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ./framework/live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/live2d/lappdefine.ts\"));\nvar lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/live2d/lapplive2dmanager.ts\");\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/live2d/lapppal.ts\");\nvar lapptexturemanager_1 = __webpack_require__(/*! ./lapptexturemanager */ \"./src/live2d/lapptexturemanager.ts\");\nvar lappview_1 = __webpack_require__(/*! ./lappview */ \"./src/live2d/lappview.ts\");\nexports.canvas = null;\nexports.s_instance = null;\nexports.gl = null;\nexports.frameBuffer = null;\nvar LAppDelegate = (function () {\n    function LAppDelegate() {\n        this._captured = false;\n        this._mouseX = 0.0;\n        this._mouseY = 0.0;\n        this._isEnd = false;\n        this._cubismOption = new live2dcubismframework_1.Option();\n        this._view = new lappview_1.LAppView();\n        this._textureManager = new lapptexturemanager_1.LAppTextureManager();\n    }\n    LAppDelegate.getInstance = function () {\n        if (exports.s_instance == null) {\n            exports.s_instance = new LAppDelegate();\n        }\n        return exports.s_instance;\n    };\n    LAppDelegate.releaseInstance = function () {\n        if (exports.s_instance != null) {\n            exports.s_instance.release();\n        }\n        exports.s_instance = null;\n    };\n    LAppDelegate.prototype.initialize = function () {\n        exports.canvas = document.createElement('canvas');\n        if (LAppDefine.CanvasSize === 'auto') {\n            this._resizeCanvas();\n        }\n        else {\n            exports.canvas.width = LAppDefine.CanvasSize.width;\n            exports.canvas.height = LAppDefine.CanvasSize.height;\n        }\n        exports.gl = exports.canvas.getContext('webgl') || exports.canvas.getContext('experimental-webgl');\n        if (!exports.gl) {\n            alert('Cannot initialize WebGL. This browser does not support.');\n            exports.gl = null;\n            document.body.innerHTML =\n                'This browser does not support the <code>&lt;canvas&gt;</code> element.';\n            return false;\n        }\n        document.body.appendChild(exports.canvas);\n        if (!exports.frameBuffer) {\n            exports.frameBuffer = exports.gl.getParameter(exports.gl.FRAMEBUFFER_BINDING);\n        }\n        exports.gl.enable(exports.gl.BLEND);\n        exports.gl.blendFunc(exports.gl.SRC_ALPHA, exports.gl.ONE_MINUS_SRC_ALPHA);\n        var supportTouch = 'ontouchend' in exports.canvas;\n        if (supportTouch) {\n            exports.canvas.ontouchstart = onTouchBegan;\n            exports.canvas.ontouchmove = onTouchMoved;\n            exports.canvas.ontouchend = onTouchEnded;\n            exports.canvas.ontouchcancel = onTouchCancel;\n        }\n        else {\n            exports.canvas.onmousedown = onClickBegan;\n            exports.canvas.onmousemove = onMouseMoved;\n            exports.canvas.onmouseup = onClickEnded;\n        }\n        this._view.initialize();\n        this.initializeCubism();\n        return true;\n    };\n    LAppDelegate.prototype.onResize = function () {\n        this._resizeCanvas();\n        this._view.initialize();\n        var viewport = [0, 0, exports.canvas.width, exports.canvas.height];\n        exports.gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n    };\n    LAppDelegate.prototype.release = function () {\n        this._textureManager.release();\n        this._textureManager = null;\n        this._view.release();\n        this._view = null;\n        lapplive2dmanager_1.LAppLive2DManager.releaseInstance();\n        live2dcubismframework_1.CubismFramework.dispose();\n    };\n    LAppDelegate.prototype.run = function () {\n        var _this = this;\n        var loop = function () {\n            if (exports.s_instance == null) {\n                return;\n            }\n            lapppal_1.LAppPal.updateTime();\n            exports.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n            exports.gl.enable(exports.gl.DEPTH_TEST);\n            exports.gl.depthFunc(exports.gl.LEQUAL);\n            exports.gl.clear(exports.gl.COLOR_BUFFER_BIT | exports.gl.DEPTH_BUFFER_BIT);\n            exports.gl.clearDepth(1.0);\n            exports.gl.enable(exports.gl.BLEND);\n            exports.gl.blendFunc(exports.gl.SRC_ALPHA, exports.gl.ONE_MINUS_SRC_ALPHA);\n            _this._view.render();\n            requestAnimationFrame(loop);\n        };\n        loop();\n    };\n    LAppDelegate.prototype.createShader = function () {\n        var vertexShaderId = exports.gl.createShader(exports.gl.VERTEX_SHADER);\n        if (vertexShaderId == null) {\n            lapppal_1.LAppPal.printMessage('failed to create vertexShader');\n            return null;\n        }\n        var vertexShader = 'precision mediump float;' +\n            'attribute vec3 position;' +\n            'attribute vec2 uv;' +\n            'varying vec2 vuv;' +\n            'void main(void)' +\n            '{' +\n            '   gl_Position = vec4(position, 1.0);' +\n            '   vuv = uv;' +\n            '}';\n        exports.gl.shaderSource(vertexShaderId, vertexShader);\n        exports.gl.compileShader(vertexShaderId);\n        var fragmentShaderId = exports.gl.createShader(exports.gl.FRAGMENT_SHADER);\n        if (fragmentShaderId == null) {\n            lapppal_1.LAppPal.printMessage('failed to create fragmentShader');\n            return null;\n        }\n        var fragmentShader = 'precision mediump float;' +\n            'varying vec2 vuv;' +\n            'uniform sampler2D texture;' +\n            'void main(void)' +\n            '{' +\n            '   gl_FragColor = texture2D(texture, vuv);' +\n            '}';\n        exports.gl.shaderSource(fragmentShaderId, fragmentShader);\n        exports.gl.compileShader(fragmentShaderId);\n        var programId = exports.gl.createProgram();\n        exports.gl.attachShader(programId, vertexShaderId);\n        exports.gl.attachShader(programId, fragmentShaderId);\n        exports.gl.deleteShader(vertexShaderId);\n        exports.gl.deleteShader(fragmentShaderId);\n        exports.gl.linkProgram(programId);\n        exports.gl.useProgram(programId);\n        return programId;\n    };\n    LAppDelegate.prototype.getView = function () {\n        return this._view;\n    };\n    LAppDelegate.prototype.getTextureManager = function () {\n        return this._textureManager;\n    };\n    LAppDelegate.prototype.initializeCubism = function () {\n        this._cubismOption.logFunction = lapppal_1.LAppPal.printMessage;\n        this._cubismOption.loggingLevel = LAppDefine.CubismLoggingLevel;\n        live2dcubismframework_1.CubismFramework.startUp(this._cubismOption);\n        live2dcubismframework_1.CubismFramework.initialize();\n        lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        lapppal_1.LAppPal.updateTime();\n    };\n    LAppDelegate.prototype._resizeCanvas = function () {\n        exports.canvas.width = window.innerWidth;\n        exports.canvas.height = window.innerHeight;\n    };\n    return LAppDelegate;\n}());\nexports.LAppDelegate = LAppDelegate;\nfunction onClickBegan(e) {\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    LAppDelegate.getInstance()._captured = true;\n    var posX = e.pageX;\n    var posY = e.pageY;\n    LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\n}\nfunction onMouseMoved(e) {\n    if (!LAppDelegate.getInstance()._captured) {\n        return;\n    }\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.clientX - rect.left;\n    var posY = e.clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\n}\nfunction onClickEnded(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.clientX - rect.left;\n    var posY = e.clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\nfunction onTouchBegan(e) {\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    LAppDelegate.getInstance()._captured = true;\n    var posX = e.changedTouches[0].pageX;\n    var posY = e.changedTouches[0].pageY;\n    LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\n}\nfunction onTouchMoved(e) {\n    if (!LAppDelegate.getInstance()._captured) {\n        return;\n    }\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.changedTouches[0].clientX - rect.left;\n    var posY = e.changedTouches[0].clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\n}\nfunction onTouchEnded(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.changedTouches[0].clientX - rect.left;\n    var posY = e.changedTouches[0].clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\nfunction onTouchCancel(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.changedTouches[0].clientX - rect.left;\n    var posY = e.changedTouches[0].clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\n\n\n//# sourceURL=webpack:///./src/live2d/lappdelegate.ts?");

/***/ }),

/***/ "./src/live2d/lapplive2dmanager.ts":
/*!*****************************************!*\
  !*** ./src/live2d/lapplive2dmanager.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppLive2DManager = exports.s_instance = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! ./framework/math/cubismmatrix44 */ \"./src/live2d/framework/math/cubismmatrix44.ts\");\nvar csmvector_1 = __webpack_require__(/*! ./framework/type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/live2d/lappdefine.ts\"));\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nvar lappmodel_1 = __webpack_require__(/*! ./lappmodel */ \"./src/live2d/lappmodel.ts\");\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/live2d/lapppal.ts\");\nexports.s_instance = null;\nvar LAppLive2DManager = (function () {\n    function LAppLive2DManager() {\n        this._finishedMotion = function (self) {\n            lapppal_1.LAppPal.printMessage('Motion Finished:');\n            console.log(self);\n        };\n        this._viewMatrix = new cubismmatrix44_1.CubismMatrix44();\n        this._models = new csmvector_1.csmVector();\n        this._sceneIndex = 0;\n        this.changeScene(this._sceneIndex);\n    }\n    LAppLive2DManager.getInstance = function () {\n        if (exports.s_instance == null) {\n            exports.s_instance = new LAppLive2DManager();\n        }\n        return exports.s_instance;\n    };\n    LAppLive2DManager.releaseInstance = function () {\n        if (exports.s_instance != null) {\n            exports.s_instance = void 0;\n        }\n        exports.s_instance = null;\n    };\n    LAppLive2DManager.prototype.getModel = function (no) {\n        if (no < this._models.getSize()) {\n            return this._models.at(no);\n        }\n        return null;\n    };\n    LAppLive2DManager.prototype.releaseAllModel = function () {\n        for (var i = 0; i < this._models.getSize(); i++) {\n            this._models.at(i).release();\n            this._models.set(i, null);\n        }\n        this._models.clear();\n    };\n    LAppLive2DManager.prototype.onDrag = function (x, y) {\n        for (var i = 0; i < this._models.getSize(); i++) {\n            var model = this.getModel(i);\n            if (model) {\n                model.setDragging(x, y);\n            }\n        }\n    };\n    LAppLive2DManager.prototype.onTap = function (x, y) {\n        if (LAppDefine.DebugLogEnable) {\n            lapppal_1.LAppPal.printMessage(\"[APP]tap point: {x: \".concat(x.toFixed(2), \" y: \").concat(y.toFixed(2), \"}\"));\n        }\n        for (var i = 0; i < this._models.getSize(); i++) {\n            if (this._models.at(i).hitTest(LAppDefine.HitAreaNameHead, x, y)) {\n                if (LAppDefine.DebugLogEnable) {\n                    lapppal_1.LAppPal.printMessage(\"[APP]hit area: [\".concat(LAppDefine.HitAreaNameHead, \"]\"));\n                }\n                this._models.at(i).setRandomExpression();\n            }\n            else if (this._models.at(i).hitTest(LAppDefine.HitAreaNameBody, x, y)) {\n                if (LAppDefine.DebugLogEnable) {\n                    lapppal_1.LAppPal.printMessage(\"[APP]hit area: [\".concat(LAppDefine.HitAreaNameBody, \"]\"));\n                }\n                this._models\n                    .at(i)\n                    .startRandomMotion(LAppDefine.MotionGroupTapBody, LAppDefine.PriorityNormal, this._finishedMotion);\n            }\n        }\n    };\n    LAppLive2DManager.prototype.onUpdate = function () {\n        var width = lappdelegate_1.canvas.width, height = lappdelegate_1.canvas.height;\n        var modelCount = this._models.getSize();\n        for (var i = 0; i < modelCount; ++i) {\n            var projection = new cubismmatrix44_1.CubismMatrix44();\n            var model = this.getModel(i);\n            if (model.getModel()) {\n                if (model.getModel().getCanvasWidth() > 1.0 && width < height) {\n                    model.getModelMatrix().setWidth(2.0);\n                    projection.scale(1.0, width / height);\n                }\n                else {\n                    projection.scale(height / width, 1.0);\n                }\n                if (this._viewMatrix != null) {\n                    projection.multiplyByMatrix(this._viewMatrix);\n                }\n            }\n            model.update();\n            model.draw(projection);\n        }\n    };\n    LAppLive2DManager.prototype.nextScene = function () {\n        var no = (this._sceneIndex + 1) % LAppDefine.ModelDirSize;\n        this.changeScene(no);\n    };\n    LAppLive2DManager.prototype.changeScene = function (index) {\n        this._sceneIndex = index;\n        if (LAppDefine.DebugLogEnable) {\n            lapppal_1.LAppPal.printMessage(\"[APP]model index: \".concat(this._sceneIndex));\n        }\n        var model = LAppDefine.ModelDir[index];\n        var modelPath = LAppDefine.ResourcesPath + model + '/';\n        var modelJsonName = LAppDefine.ModelDir[index];\n        modelJsonName += '.model3.json';\n        this.releaseAllModel();\n        this._models.pushBack(new lappmodel_1.LAppModel());\n        this._models.at(0).loadAssets(modelPath, modelJsonName);\n    };\n    LAppLive2DManager.prototype.setViewMatrix = function (m) {\n        for (var i = 0; i < 16; i++) {\n            this._viewMatrix.getArray()[i] = m.getArray()[i];\n        }\n    };\n    return LAppLive2DManager;\n}());\nexports.LAppLive2DManager = LAppLive2DManager;\n\n\n//# sourceURL=webpack:///./src/live2d/lapplive2dmanager.ts?");

/***/ }),

/***/ "./src/live2d/lappmodel.ts":
/*!*********************************!*\
  !*** ./src/live2d/lappmodel.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppModel = void 0;\n__webpack_require__(/*! whatwg-fetch */ \"./node_modules/whatwg-fetch/fetch.js\");\nvar cubismdefaultparameterid_1 = __webpack_require__(/*! ./framework/cubismdefaultparameterid */ \"./src/live2d/framework/cubismdefaultparameterid.ts\");\nvar cubismmodelsettingjson_1 = __webpack_require__(/*! ./framework/cubismmodelsettingjson */ \"./src/live2d/framework/cubismmodelsettingjson.ts\");\nvar cubismbreath_1 = __webpack_require__(/*! ./framework/effect/cubismbreath */ \"./src/live2d/framework/effect/cubismbreath.ts\");\nvar cubismeyeblink_1 = __webpack_require__(/*! ./framework/effect/cubismeyeblink */ \"./src/live2d/framework/effect/cubismeyeblink.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ./framework/live2dcubismframework */ \"./src/live2d/framework/live2dcubismframework.ts\");\nvar cubismusermodel_1 = __webpack_require__(/*! ./framework/model/cubismusermodel */ \"./src/live2d/framework/model/cubismusermodel.ts\");\nvar acubismmotion_1 = __webpack_require__(/*! ./framework/motion/acubismmotion */ \"./src/live2d/framework/motion/acubismmotion.ts\");\nvar cubismmotionqueuemanager_1 = __webpack_require__(/*! ./framework/motion/cubismmotionqueuemanager */ \"./src/live2d/framework/motion/cubismmotionqueuemanager.ts\");\nvar csmmap_1 = __webpack_require__(/*! ./framework/type/csmmap */ \"./src/live2d/framework/type/csmmap.ts\");\nvar csmvector_1 = __webpack_require__(/*! ./framework/type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ./framework/utils/cubismdebug */ \"./src/live2d/framework/utils/cubismdebug.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/live2d/lappdefine.ts\"));\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/live2d/lapppal.ts\");\nvar lappwavfilehandler_1 = __webpack_require__(/*! ./lappwavfilehandler */ \"./src/live2d/lappwavfilehandler.ts\");\nvar cubismmoc_1 = __webpack_require__(/*! ./framework/model/cubismmoc */ \"./src/live2d/framework/model/cubismmoc.ts\");\nvar LoadStep;\n(function (LoadStep) {\n    LoadStep[LoadStep[\"LoadAssets\"] = 0] = \"LoadAssets\";\n    LoadStep[LoadStep[\"LoadModel\"] = 1] = \"LoadModel\";\n    LoadStep[LoadStep[\"WaitLoadModel\"] = 2] = \"WaitLoadModel\";\n    LoadStep[LoadStep[\"LoadExpression\"] = 3] = \"LoadExpression\";\n    LoadStep[LoadStep[\"WaitLoadExpression\"] = 4] = \"WaitLoadExpression\";\n    LoadStep[LoadStep[\"LoadPhysics\"] = 5] = \"LoadPhysics\";\n    LoadStep[LoadStep[\"WaitLoadPhysics\"] = 6] = \"WaitLoadPhysics\";\n    LoadStep[LoadStep[\"LoadPose\"] = 7] = \"LoadPose\";\n    LoadStep[LoadStep[\"WaitLoadPose\"] = 8] = \"WaitLoadPose\";\n    LoadStep[LoadStep[\"SetupEyeBlink\"] = 9] = \"SetupEyeBlink\";\n    LoadStep[LoadStep[\"SetupBreath\"] = 10] = \"SetupBreath\";\n    LoadStep[LoadStep[\"LoadUserData\"] = 11] = \"LoadUserData\";\n    LoadStep[LoadStep[\"WaitLoadUserData\"] = 12] = \"WaitLoadUserData\";\n    LoadStep[LoadStep[\"SetupEyeBlinkIds\"] = 13] = \"SetupEyeBlinkIds\";\n    LoadStep[LoadStep[\"SetupLipSyncIds\"] = 14] = \"SetupLipSyncIds\";\n    LoadStep[LoadStep[\"SetupLayout\"] = 15] = \"SetupLayout\";\n    LoadStep[LoadStep[\"LoadMotion\"] = 16] = \"LoadMotion\";\n    LoadStep[LoadStep[\"WaitLoadMotion\"] = 17] = \"WaitLoadMotion\";\n    LoadStep[LoadStep[\"CompleteInitialize\"] = 18] = \"CompleteInitialize\";\n    LoadStep[LoadStep[\"CompleteSetupModel\"] = 19] = \"CompleteSetupModel\";\n    LoadStep[LoadStep[\"LoadTexture\"] = 20] = \"LoadTexture\";\n    LoadStep[LoadStep[\"WaitLoadTexture\"] = 21] = \"WaitLoadTexture\";\n    LoadStep[LoadStep[\"CompleteSetup\"] = 22] = \"CompleteSetup\";\n})(LoadStep || (LoadStep = {}));\nvar LAppModel = (function (_super) {\n    __extends(LAppModel, _super);\n    function LAppModel() {\n        var _this = _super.call(this) || this;\n        _this._modelSetting = null;\n        _this._modelHomeDir = null;\n        _this._userTimeSeconds = 0.0;\n        _this._eyeBlinkIds = new csmvector_1.csmVector();\n        _this._lipSyncIds = new csmvector_1.csmVector();\n        _this._motions = new csmmap_1.csmMap();\n        _this._expressions = new csmmap_1.csmMap();\n        _this._hitArea = new csmvector_1.csmVector();\n        _this._userArea = new csmvector_1.csmVector();\n        _this._idParamAngleX = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamAngleX);\n        _this._idParamAngleY = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamAngleY);\n        _this._idParamAngleZ = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamAngleZ);\n        _this._idParamEyeBallX = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamEyeBallX);\n        _this._idParamEyeBallY = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamEyeBallY);\n        _this._idParamBodyAngleX = live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamBodyAngleX);\n        if (LAppDefine.MOCConsistencyValidationEnable) {\n            _this._mocConsistency = true;\n        }\n        _this._state = LoadStep.LoadAssets;\n        _this._expressionCount = 0;\n        _this._textureCount = 0;\n        _this._motionCount = 0;\n        _this._allMotionCount = 0;\n        _this._wavFileHandler = new lappwavfilehandler_1.LAppWavFileHandler();\n        _this._consistency = false;\n        return _this;\n    }\n    LAppModel.prototype.loadAssets = function (dir, fileName) {\n        var _this = this;\n        this._modelHomeDir = dir;\n        fetch(\"\".concat(this._modelHomeDir).concat(fileName))\n            .then(function (response) { return response.arrayBuffer(); })\n            .then(function (arrayBuffer) {\n            var setting = new cubismmodelsettingjson_1.CubismModelSettingJson(arrayBuffer, arrayBuffer.byteLength);\n            _this._state = LoadStep.LoadModel;\n            _this.setupModel(setting);\n        });\n    };\n    LAppModel.prototype.setupModel = function (setting) {\n        var _this = this;\n        this._updating = true;\n        this._initialized = false;\n        this._modelSetting = setting;\n        if (this._modelSetting.getModelFileName() != '') {\n            var modelFileName = this._modelSetting.getModelFileName();\n            fetch(\"\".concat(this._modelHomeDir).concat(modelFileName))\n                .then(function (response) { return response.arrayBuffer(); })\n                .then(function (arrayBuffer) {\n                _this.loadModel(arrayBuffer, _this._mocConsistency);\n                _this._state = LoadStep.LoadExpression;\n                loadCubismExpression();\n            });\n            this._state = LoadStep.WaitLoadModel;\n        }\n        else {\n            lapppal_1.LAppPal.printMessage('Model data does not exist.');\n        }\n        var loadCubismExpression = function () {\n            if (_this._modelSetting.getExpressionCount() > 0) {\n                var count_1 = _this._modelSetting.getExpressionCount();\n                var _loop_1 = function (i) {\n                    var expressionName = _this._modelSetting.getExpressionName(i);\n                    var expressionFileName = _this._modelSetting.getExpressionFileName(i);\n                    fetch(\"\".concat(_this._modelHomeDir).concat(expressionFileName))\n                        .then(function (response) { return response.arrayBuffer(); })\n                        .then(function (arrayBuffer) {\n                        var motion = _this.loadExpression(arrayBuffer, arrayBuffer.byteLength, expressionName);\n                        if (_this._expressions.getValue(expressionName) != null) {\n                            acubismmotion_1.ACubismMotion.delete(_this._expressions.getValue(expressionName));\n                            _this._expressions.setValue(expressionName, null);\n                        }\n                        _this._expressions.setValue(expressionName, motion);\n                        _this._expressionCount++;\n                        if (_this._expressionCount >= count_1) {\n                            _this._state = LoadStep.LoadPhysics;\n                            loadCubismPhysics();\n                        }\n                    });\n                };\n                for (var i = 0; i < count_1; i++) {\n                    _loop_1(i);\n                }\n                _this._state = LoadStep.WaitLoadExpression;\n            }\n            else {\n                _this._state = LoadStep.LoadPhysics;\n                loadCubismPhysics();\n            }\n        };\n        var loadCubismPhysics = function () {\n            if (_this._modelSetting.getPhysicsFileName() != '') {\n                var physicsFileName = _this._modelSetting.getPhysicsFileName();\n                fetch(\"\".concat(_this._modelHomeDir).concat(physicsFileName))\n                    .then(function (response) { return response.arrayBuffer(); })\n                    .then(function (arrayBuffer) {\n                    _this.loadPhysics(arrayBuffer, arrayBuffer.byteLength);\n                    _this._state = LoadStep.LoadPose;\n                    loadCubismPose();\n                });\n                _this._state = LoadStep.WaitLoadPhysics;\n            }\n            else {\n                _this._state = LoadStep.LoadPose;\n                loadCubismPose();\n            }\n        };\n        var loadCubismPose = function () {\n            if (_this._modelSetting.getPoseFileName() != '') {\n                var poseFileName = _this._modelSetting.getPoseFileName();\n                fetch(\"\".concat(_this._modelHomeDir).concat(poseFileName))\n                    .then(function (response) { return response.arrayBuffer(); })\n                    .then(function (arrayBuffer) {\n                    _this.loadPose(arrayBuffer, arrayBuffer.byteLength);\n                    _this._state = LoadStep.SetupEyeBlink;\n                    setupEyeBlink();\n                });\n                _this._state = LoadStep.WaitLoadPose;\n            }\n            else {\n                _this._state = LoadStep.SetupEyeBlink;\n                setupEyeBlink();\n            }\n        };\n        var setupEyeBlink = function () {\n            if (_this._modelSetting.getEyeBlinkParameterCount() > 0) {\n                _this._eyeBlink = cubismeyeblink_1.CubismEyeBlink.create(_this._modelSetting);\n                _this._state = LoadStep.SetupBreath;\n            }\n            setupBreath();\n        };\n        var setupBreath = function () {\n            _this._breath = cubismbreath_1.CubismBreath.create();\n            var breathParameters = new csmvector_1.csmVector();\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(_this._idParamAngleX, 0.0, 15.0, 6.5345, 0.5));\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(_this._idParamAngleY, 0.0, 8.0, 3.5345, 0.5));\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(_this._idParamAngleZ, 0.0, 10.0, 5.5345, 0.5));\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(_this._idParamBodyAngleX, 0.0, 4.0, 15.5345, 0.5));\n            breathParameters.pushBack(new cubismbreath_1.BreathParameterData(live2dcubismframework_1.CubismFramework.getIdManager().getId(cubismdefaultparameterid_1.CubismDefaultParameterId.ParamBreath), 0.5, 0.5, 3.2345, 1));\n            _this._breath.setParameters(breathParameters);\n            _this._state = LoadStep.LoadUserData;\n            loadUserData();\n        };\n        var loadUserData = function () {\n            if (_this._modelSetting.getUserDataFile() != '') {\n                var userDataFile = _this._modelSetting.getUserDataFile();\n                fetch(\"\".concat(_this._modelHomeDir).concat(userDataFile))\n                    .then(function (response) { return response.arrayBuffer(); })\n                    .then(function (arrayBuffer) {\n                    _this.loadUserData(arrayBuffer, arrayBuffer.byteLength);\n                    _this._state = LoadStep.SetupEyeBlinkIds;\n                    setupEyeBlinkIds();\n                });\n                _this._state = LoadStep.WaitLoadUserData;\n            }\n            else {\n                _this._state = LoadStep.SetupEyeBlinkIds;\n                setupEyeBlinkIds();\n            }\n        };\n        var setupEyeBlinkIds = function () {\n            var eyeBlinkIdCount = _this._modelSetting.getEyeBlinkParameterCount();\n            for (var i = 0; i < eyeBlinkIdCount; ++i) {\n                _this._eyeBlinkIds.pushBack(_this._modelSetting.getEyeBlinkParameterId(i));\n            }\n            _this._state = LoadStep.SetupLipSyncIds;\n            setupLipSyncIds();\n        };\n        var setupLipSyncIds = function () {\n            var lipSyncIdCount = _this._modelSetting.getLipSyncParameterCount();\n            for (var i = 0; i < lipSyncIdCount; ++i) {\n                _this._lipSyncIds.pushBack(_this._modelSetting.getLipSyncParameterId(i));\n            }\n            _this._state = LoadStep.SetupLayout;\n            setupLayout();\n        };\n        var setupLayout = function () {\n            var layout = new csmmap_1.csmMap();\n            if (_this._modelSetting == null || _this._modelMatrix == null) {\n                (0, cubismdebug_1.CubismLogError)('Failed to setupLayout().');\n                return;\n            }\n            _this._modelSetting.getLayoutMap(layout);\n            _this._modelMatrix.setupFromLayout(layout);\n            _this._state = LoadStep.LoadMotion;\n            loadCubismMotion();\n        };\n        var loadCubismMotion = function () {\n            _this._state = LoadStep.WaitLoadMotion;\n            _this._model.saveParameters();\n            _this._allMotionCount = 0;\n            _this._motionCount = 0;\n            var group = [];\n            var motionGroupCount = _this._modelSetting.getMotionGroupCount();\n            for (var i = 0; i < motionGroupCount; i++) {\n                group[i] = _this._modelSetting.getMotionGroupName(i);\n                _this._allMotionCount += _this._modelSetting.getMotionCount(group[i]);\n            }\n            for (var i = 0; i < motionGroupCount; i++) {\n                _this.preLoadMotionGroup(group[i]);\n            }\n            if (motionGroupCount == 0) {\n                _this._state = LoadStep.LoadTexture;\n                _this._motionManager.stopAllMotions();\n                _this._updating = false;\n                _this._initialized = true;\n                _this.createRenderer();\n                _this.setupTextures();\n                _this.getRenderer().startUp(lappdelegate_1.gl);\n            }\n        };\n    };\n    LAppModel.prototype.setupTextures = function () {\n        var _this = this;\n        var usePremultiply = true;\n        if (this._state == LoadStep.LoadTexture) {\n            var textureCount_1 = this._modelSetting.getTextureCount();\n            var _loop_2 = function (modelTextureNumber) {\n                if (this_1._modelSetting.getTextureFileName(modelTextureNumber) == '') {\n                    console.log('getTextureFileName null');\n                    return \"continue\";\n                }\n                var texturePath = this_1._modelSetting.getTextureFileName(modelTextureNumber);\n                texturePath = this_1._modelHomeDir + texturePath;\n                var onLoad = function (textureInfo) {\n                    _this.getRenderer().bindTexture(modelTextureNumber, textureInfo.id);\n                    _this._textureCount++;\n                    if (_this._textureCount >= textureCount_1) {\n                        _this._state = LoadStep.CompleteSetup;\n                    }\n                };\n                lappdelegate_1.LAppDelegate.getInstance()\n                    .getTextureManager()\n                    .createTextureFromPngFile(texturePath, usePremultiply, onLoad);\n                this_1.getRenderer().setIsPremultipliedAlpha(usePremultiply);\n            };\n            var this_1 = this;\n            for (var modelTextureNumber = 0; modelTextureNumber < textureCount_1; modelTextureNumber++) {\n                _loop_2(modelTextureNumber);\n            }\n            this._state = LoadStep.WaitLoadTexture;\n        }\n    };\n    LAppModel.prototype.reloadRenderer = function () {\n        this.deleteRenderer();\n        this.createRenderer();\n        this.setupTextures();\n    };\n    LAppModel.prototype.update = function () {\n        if (this._state != LoadStep.CompleteSetup)\n            return;\n        var deltaTimeSeconds = lapppal_1.LAppPal.getDeltaTime();\n        this._userTimeSeconds += deltaTimeSeconds;\n        this._dragManager.update(deltaTimeSeconds);\n        this._dragX = this._dragManager.getX();\n        this._dragY = this._dragManager.getY();\n        var motionUpdated = false;\n        this._model.loadParameters();\n        if (this._motionManager.isFinished()) {\n            this.startRandomMotion(LAppDefine.MotionGroupIdle, LAppDefine.PriorityIdle);\n        }\n        else {\n            motionUpdated = this._motionManager.updateMotion(this._model, deltaTimeSeconds);\n        }\n        this._model.saveParameters();\n        if (!motionUpdated) {\n            if (this._eyeBlink != null) {\n                this._eyeBlink.updateParameters(this._model, deltaTimeSeconds);\n            }\n        }\n        if (this._expressionManager != null) {\n            this._expressionManager.updateMotion(this._model, deltaTimeSeconds);\n        }\n        this._model.addParameterValueById(this._idParamAngleX, this._dragX * 30);\n        this._model.addParameterValueById(this._idParamAngleY, this._dragY * 30);\n        this._model.addParameterValueById(this._idParamAngleZ, this._dragX * this._dragY * -30);\n        this._model.addParameterValueById(this._idParamBodyAngleX, this._dragX * 10);\n        this._model.addParameterValueById(this._idParamEyeBallX, this._dragX);\n        this._model.addParameterValueById(this._idParamEyeBallY, this._dragY);\n        if (this._breath != null) {\n            this._breath.updateParameters(this._model, deltaTimeSeconds);\n        }\n        if (this._physics != null) {\n            this._physics.evaluate(this._model, deltaTimeSeconds);\n        }\n        if (this._lipsync) {\n            var value = 0.0;\n            this._wavFileHandler.update(deltaTimeSeconds);\n            value = this._wavFileHandler.getRms();\n            for (var i = 0; i < this._lipSyncIds.getSize(); ++i) {\n                this._model.addParameterValueById(this._lipSyncIds.at(i), value, 0.8);\n            }\n        }\n        if (this._pose != null) {\n            this._pose.updateParameters(this._model, deltaTimeSeconds);\n        }\n        this._model.update();\n    };\n    LAppModel.prototype.startMotion = function (group, no, priority, onFinishedMotionHandler) {\n        var _this = this;\n        if (priority == LAppDefine.PriorityForce) {\n            this._motionManager.setReservePriority(priority);\n        }\n        else if (!this._motionManager.reserveMotion(priority)) {\n            if (this._debugMode) {\n                lapppal_1.LAppPal.printMessage(\"[APP]can't start motion.\");\n            }\n            return cubismmotionqueuemanager_1.InvalidMotionQueueEntryHandleValue;\n        }\n        var motionFileName = this._modelSetting.getMotionFileName(group, no);\n        var name = \"\".concat(group, \"_\").concat(no);\n        var motion = this._motions.getValue(name);\n        var autoDelete = false;\n        if (motion == null) {\n            fetch(\"\".concat(this._modelHomeDir).concat(motionFileName))\n                .then(function (response) { return response.arrayBuffer(); })\n                .then(function (arrayBuffer) {\n                motion = _this.loadMotion(arrayBuffer, arrayBuffer.byteLength, null, onFinishedMotionHandler);\n                var fadeTime = _this._modelSetting.getMotionFadeInTimeValue(group, no);\n                if (fadeTime >= 0.0) {\n                    motion.setFadeInTime(fadeTime);\n                }\n                fadeTime = _this._modelSetting.getMotionFadeOutTimeValue(group, no);\n                if (fadeTime >= 0.0) {\n                    motion.setFadeOutTime(fadeTime);\n                }\n                motion.setEffectIds(_this._eyeBlinkIds, _this._lipSyncIds);\n                autoDelete = true;\n            });\n        }\n        else {\n            motion.setFinishedMotionHandler(onFinishedMotionHandler);\n        }\n        var voice = this._modelSetting.getMotionSoundFileName(group, no);\n        if (voice.localeCompare('') != 0) {\n            var path = voice;\n            path = this._modelHomeDir + path;\n            this._wavFileHandler.start(path);\n        }\n        if (this._debugMode) {\n            lapppal_1.LAppPal.printMessage(\"[APP]start motion: [\".concat(group, \"_\").concat(no));\n        }\n        return this._motionManager.startMotionPriority(motion, autoDelete, priority);\n    };\n    LAppModel.prototype.startRandomMotion = function (group, priority, onFinishedMotionHandler) {\n        if (this._modelSetting.getMotionCount(group) == 0) {\n            return cubismmotionqueuemanager_1.InvalidMotionQueueEntryHandleValue;\n        }\n        var no = Math.floor(Math.random() * this._modelSetting.getMotionCount(group));\n        return this.startMotion(group, no, priority, onFinishedMotionHandler);\n    };\n    LAppModel.prototype.setExpression = function (expressionId) {\n        var motion = this._expressions.getValue(expressionId);\n        if (this._debugMode) {\n            lapppal_1.LAppPal.printMessage(\"[APP]expression: [\".concat(expressionId, \"]\"));\n        }\n        if (motion != null) {\n            this._expressionManager.startMotionPriority(motion, false, LAppDefine.PriorityForce);\n        }\n        else {\n            if (this._debugMode) {\n                lapppal_1.LAppPal.printMessage(\"[APP]expression[\".concat(expressionId, \"] is null\"));\n            }\n        }\n    };\n    LAppModel.prototype.setRandomExpression = function () {\n        if (this._expressions.getSize() == 0) {\n            return;\n        }\n        var no = Math.floor(Math.random() * this._expressions.getSize());\n        for (var i = 0; i < this._expressions.getSize(); i++) {\n            if (i == no) {\n                var name_1 = this._expressions._keyValues[i].first;\n                this.setExpression(name_1);\n                return;\n            }\n        }\n    };\n    LAppModel.prototype.motionEventFired = function (eventValue) {\n        (0, cubismdebug_1.CubismLogInfo)('{0} is fired on LAppModel!!', eventValue.s);\n    };\n    LAppModel.prototype.hitTest = function (hitArenaName, x, y) {\n        if (this._opacity < 1) {\n            return false;\n        }\n        var count = this._modelSetting.getHitAreasCount();\n        for (var i = 0; i < count; i++) {\n            if (this._modelSetting.getHitAreaName(i) == hitArenaName) {\n                var drawId = this._modelSetting.getHitAreaId(i);\n                return this.isHit(drawId, x, y);\n            }\n        }\n        return false;\n    };\n    LAppModel.prototype.preLoadMotionGroup = function (group) {\n        var _this = this;\n        var _loop_3 = function (i) {\n            var motionFileName = this_2._modelSetting.getMotionFileName(group, i);\n            var name_2 = \"\".concat(group, \"_\").concat(i);\n            if (this_2._debugMode) {\n                lapppal_1.LAppPal.printMessage(\"[APP]load motion: \".concat(motionFileName, \" => [\").concat(name_2, \"]\"));\n            }\n            fetch(\"\".concat(this_2._modelHomeDir).concat(motionFileName))\n                .then(function (response) { return response.arrayBuffer(); })\n                .then(function (arrayBuffer) {\n                var tmpMotion = _this.loadMotion(arrayBuffer, arrayBuffer.byteLength, name_2);\n                var fadeTime = _this._modelSetting.getMotionFadeInTimeValue(group, i);\n                if (fadeTime >= 0.0) {\n                    tmpMotion.setFadeInTime(fadeTime);\n                }\n                fadeTime = _this._modelSetting.getMotionFadeOutTimeValue(group, i);\n                if (fadeTime >= 0.0) {\n                    tmpMotion.setFadeOutTime(fadeTime);\n                }\n                tmpMotion.setEffectIds(_this._eyeBlinkIds, _this._lipSyncIds);\n                if (_this._motions.getValue(name_2) != null) {\n                    acubismmotion_1.ACubismMotion.delete(_this._motions.getValue(name_2));\n                }\n                _this._motions.setValue(name_2, tmpMotion);\n                _this._motionCount++;\n                if (_this._motionCount >= _this._allMotionCount) {\n                    _this._state = LoadStep.LoadTexture;\n                    _this._motionManager.stopAllMotions();\n                    _this._updating = false;\n                    _this._initialized = true;\n                    _this.createRenderer();\n                    _this.setupTextures();\n                    _this.getRenderer().startUp(lappdelegate_1.gl);\n                }\n            });\n        };\n        var this_2 = this;\n        for (var i = 0; i < this._modelSetting.getMotionCount(group); i++) {\n            _loop_3(i);\n        }\n    };\n    LAppModel.prototype.releaseMotions = function () {\n        this._motions.clear();\n    };\n    LAppModel.prototype.releaseExpressions = function () {\n        this._expressions.clear();\n    };\n    LAppModel.prototype.doDraw = function () {\n        if (this._model == null)\n            return;\n        var viewport = [0, 0, lappdelegate_1.canvas.width, lappdelegate_1.canvas.height];\n        this.getRenderer().setRenderState(lappdelegate_1.frameBuffer, viewport);\n        this.getRenderer().drawModel();\n    };\n    LAppModel.prototype.draw = function (matrix) {\n        if (this._model == null) {\n            return;\n        }\n        if (this._state == LoadStep.CompleteSetup) {\n            matrix.multiplyByMatrix(this._modelMatrix);\n            this.getRenderer().setMvpMatrix(matrix);\n            this.doDraw();\n        }\n    };\n    LAppModel.prototype.hasMocConsistencyFromFile = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var modelFileName, response, arrayBuffer;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, cubismdebug_1.CSM_ASSERT)(this._modelSetting.getModelFileName().localeCompare(\"\"));\n                        if (!(this._modelSetting.getModelFileName() != '')) return [3, 3];\n                        modelFileName = this._modelSetting.getModelFileName();\n                        return [4, fetch(\"\".concat(this._modelHomeDir).concat(modelFileName))];\n                    case 1:\n                        response = _a.sent();\n                        return [4, response.arrayBuffer()];\n                    case 2:\n                        arrayBuffer = _a.sent();\n                        this._consistency = cubismmoc_1.CubismMoc.hasMocConsistency(arrayBuffer);\n                        if (!this._consistency) {\n                            (0, cubismdebug_1.CubismLogInfo)('Inconsistent MOC3.');\n                        }\n                        else {\n                            (0, cubismdebug_1.CubismLogInfo)('Consistent MOC3.');\n                        }\n                        return [2, this._consistency];\n                    case 3:\n                        lapppal_1.LAppPal.printMessage('Model data does not exist.');\n                        _a.label = 4;\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    return LAppModel;\n}(cubismusermodel_1.CubismUserModel));\nexports.LAppModel = LAppModel;\n\n\n//# sourceURL=webpack:///./src/live2d/lappmodel.ts?");

/***/ }),

/***/ "./src/live2d/lapppal.ts":
/*!*******************************!*\
  !*** ./src/live2d/lapppal.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppPal = void 0;\nvar LAppPal = exports.LAppPal = (function () {\n    function LAppPal() {\n    }\n    LAppPal.loadFileAsBytes = function (filePath, callback) {\n        fetch(filePath)\n            .then(function (response) { return response.arrayBuffer(); })\n            .then(function (arrayBuffer) { return callback(arrayBuffer, arrayBuffer.byteLength); });\n    };\n    LAppPal.getDeltaTime = function () {\n        return this.s_deltaTime;\n    };\n    LAppPal.updateTime = function () {\n        this.s_currentFrame = Date.now();\n        this.s_deltaTime = (this.s_currentFrame - this.s_lastFrame) / 1000;\n        this.s_lastFrame = this.s_currentFrame;\n    };\n    LAppPal.printMessage = function (message) {\n        console.log(message);\n    };\n    LAppPal.lastUpdate = Date.now();\n    LAppPal.s_currentFrame = 0.0;\n    LAppPal.s_lastFrame = 0.0;\n    LAppPal.s_deltaTime = 0.0;\n    return LAppPal;\n}());\n\n\n//# sourceURL=webpack:///./src/live2d/lapppal.ts?");

/***/ }),

/***/ "./src/live2d/lappsprite.ts":
/*!**********************************!*\
  !*** ./src/live2d/lappsprite.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Rect = exports.LAppSprite = void 0;\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nvar LAppSprite = (function () {\n    function LAppSprite(x, y, width, height, textureId) {\n        this._rect = new Rect();\n        this._rect.left = x - width * 0.5;\n        this._rect.right = x + width * 0.5;\n        this._rect.up = y + height * 0.5;\n        this._rect.down = y - height * 0.5;\n        this._texture = textureId;\n        this._vertexBuffer = null;\n        this._uvBuffer = null;\n        this._indexBuffer = null;\n        this._positionLocation = null;\n        this._uvLocation = null;\n        this._textureLocation = null;\n        this._positionArray = null;\n        this._uvArray = null;\n        this._indexArray = null;\n        this._firstDraw = true;\n    }\n    LAppSprite.prototype.release = function () {\n        this._rect = null;\n        lappdelegate_1.gl.deleteTexture(this._texture);\n        this._texture = null;\n        lappdelegate_1.gl.deleteBuffer(this._uvBuffer);\n        this._uvBuffer = null;\n        lappdelegate_1.gl.deleteBuffer(this._vertexBuffer);\n        this._vertexBuffer = null;\n        lappdelegate_1.gl.deleteBuffer(this._indexBuffer);\n        this._indexBuffer = null;\n    };\n    LAppSprite.prototype.getTexture = function () {\n        return this._texture;\n    };\n    LAppSprite.prototype.render = function (programId) {\n        if (this._texture == null) {\n            return;\n        }\n        if (this._firstDraw) {\n            this._positionLocation = lappdelegate_1.gl.getAttribLocation(programId, 'position');\n            lappdelegate_1.gl.enableVertexAttribArray(this._positionLocation);\n            this._uvLocation = lappdelegate_1.gl.getAttribLocation(programId, 'uv');\n            lappdelegate_1.gl.enableVertexAttribArray(this._uvLocation);\n            this._textureLocation = lappdelegate_1.gl.getUniformLocation(programId, 'texture');\n            lappdelegate_1.gl.uniform1i(this._textureLocation, 0);\n            {\n                this._uvArray = new Float32Array([\n                    1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0\n                ]);\n                this._uvBuffer = lappdelegate_1.gl.createBuffer();\n            }\n            {\n                var maxWidth = lappdelegate_1.canvas.width;\n                var maxHeight = lappdelegate_1.canvas.height;\n                this._positionArray = new Float32Array([\n                    (this._rect.right - maxWidth * 0.5) / (maxWidth * 0.5),\n                    (this._rect.up - maxHeight * 0.5) / (maxHeight * 0.5),\n                    (this._rect.left - maxWidth * 0.5) / (maxWidth * 0.5),\n                    (this._rect.up - maxHeight * 0.5) / (maxHeight * 0.5),\n                    (this._rect.left - maxWidth * 0.5) / (maxWidth * 0.5),\n                    (this._rect.down - maxHeight * 0.5) / (maxHeight * 0.5),\n                    (this._rect.right - maxWidth * 0.5) / (maxWidth * 0.5),\n                    (this._rect.down - maxHeight * 0.5) / (maxHeight * 0.5)\n                ]);\n                this._vertexBuffer = lappdelegate_1.gl.createBuffer();\n            }\n            {\n                this._indexArray = new Uint16Array([0, 1, 2, 3, 2, 0]);\n                this._indexBuffer = lappdelegate_1.gl.createBuffer();\n            }\n            this._firstDraw = false;\n        }\n        lappdelegate_1.gl.bindBuffer(lappdelegate_1.gl.ARRAY_BUFFER, this._uvBuffer);\n        lappdelegate_1.gl.bufferData(lappdelegate_1.gl.ARRAY_BUFFER, this._uvArray, lappdelegate_1.gl.STATIC_DRAW);\n        lappdelegate_1.gl.vertexAttribPointer(this._uvLocation, 2, lappdelegate_1.gl.FLOAT, false, 0, 0);\n        lappdelegate_1.gl.bindBuffer(lappdelegate_1.gl.ARRAY_BUFFER, this._vertexBuffer);\n        lappdelegate_1.gl.bufferData(lappdelegate_1.gl.ARRAY_BUFFER, this._positionArray, lappdelegate_1.gl.STATIC_DRAW);\n        lappdelegate_1.gl.vertexAttribPointer(this._positionLocation, 2, lappdelegate_1.gl.FLOAT, false, 0, 0);\n        lappdelegate_1.gl.bindBuffer(lappdelegate_1.gl.ELEMENT_ARRAY_BUFFER, this._indexBuffer);\n        lappdelegate_1.gl.bufferData(lappdelegate_1.gl.ELEMENT_ARRAY_BUFFER, this._indexArray, lappdelegate_1.gl.DYNAMIC_DRAW);\n        lappdelegate_1.gl.bindTexture(lappdelegate_1.gl.TEXTURE_2D, this._texture);\n        lappdelegate_1.gl.drawElements(lappdelegate_1.gl.TRIANGLES, this._indexArray.length, lappdelegate_1.gl.UNSIGNED_SHORT, 0);\n    };\n    LAppSprite.prototype.isHit = function (pointX, pointY) {\n        var height = lappdelegate_1.canvas.height;\n        var y = height - pointY;\n        return (pointX >= this._rect.left &&\n            pointX <= this._rect.right &&\n            y <= this._rect.up &&\n            y >= this._rect.down);\n    };\n    return LAppSprite;\n}());\nexports.LAppSprite = LAppSprite;\nvar Rect = (function () {\n    function Rect() {\n    }\n    return Rect;\n}());\nexports.Rect = Rect;\n\n\n//# sourceURL=webpack:///./src/live2d/lappsprite.ts?");

/***/ }),

/***/ "./src/live2d/lapptexturemanager.ts":
/*!******************************************!*\
  !*** ./src/live2d/lapptexturemanager.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TextureInfo = exports.LAppTextureManager = void 0;\nvar csmvector_1 = __webpack_require__(/*! ./framework/type/csmvector */ \"./src/live2d/framework/type/csmvector.ts\");\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nvar LAppTextureManager = (function () {\n    function LAppTextureManager() {\n        this._textures = new csmvector_1.csmVector();\n    }\n    LAppTextureManager.prototype.release = function () {\n        for (var ite = this._textures.begin(); ite.notEqual(this._textures.end()); ite.preIncrement()) {\n            lappdelegate_1.gl.deleteTexture(ite.ptr().id);\n        }\n        this._textures = null;\n    };\n    LAppTextureManager.prototype.createTextureFromPngFile = function (fileName, usePremultiply, callback) {\n        var _this = this;\n        var _loop_1 = function (ite) {\n            if (ite.ptr().fileName == fileName &&\n                ite.ptr().usePremultply == usePremultiply) {\n                ite.ptr().img = new Image();\n                ite.ptr().img.onload = function () { return callback(ite.ptr()); };\n                ite.ptr().img.src = fileName;\n                return { value: void 0 };\n            }\n        };\n        for (var ite = this._textures.begin(); ite.notEqual(this._textures.end()); ite.preIncrement()) {\n            var state_1 = _loop_1(ite);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        var img = new Image();\n        img.onload = function () {\n            var tex = lappdelegate_1.gl.createTexture();\n            lappdelegate_1.gl.bindTexture(lappdelegate_1.gl.TEXTURE_2D, tex);\n            lappdelegate_1.gl.texParameteri(lappdelegate_1.gl.TEXTURE_2D, lappdelegate_1.gl.TEXTURE_MIN_FILTER, lappdelegate_1.gl.LINEAR_MIPMAP_LINEAR);\n            lappdelegate_1.gl.texParameteri(lappdelegate_1.gl.TEXTURE_2D, lappdelegate_1.gl.TEXTURE_MAG_FILTER, lappdelegate_1.gl.LINEAR);\n            if (usePremultiply) {\n                lappdelegate_1.gl.pixelStorei(lappdelegate_1.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\n            }\n            lappdelegate_1.gl.texImage2D(lappdelegate_1.gl.TEXTURE_2D, 0, lappdelegate_1.gl.RGBA, lappdelegate_1.gl.RGBA, lappdelegate_1.gl.UNSIGNED_BYTE, img);\n            lappdelegate_1.gl.generateMipmap(lappdelegate_1.gl.TEXTURE_2D);\n            lappdelegate_1.gl.bindTexture(lappdelegate_1.gl.TEXTURE_2D, null);\n            var textureInfo = new TextureInfo();\n            if (textureInfo != null) {\n                textureInfo.fileName = fileName;\n                textureInfo.width = img.width;\n                textureInfo.height = img.height;\n                textureInfo.id = tex;\n                textureInfo.img = img;\n                textureInfo.usePremultply = usePremultiply;\n                _this._textures.pushBack(textureInfo);\n            }\n            callback(textureInfo);\n        };\n        img.src = fileName;\n    };\n    LAppTextureManager.prototype.releaseTextures = function () {\n        for (var i = 0; i < this._textures.getSize(); i++) {\n            this._textures.set(i, null);\n        }\n        this._textures.clear();\n    };\n    LAppTextureManager.prototype.releaseTextureByTexture = function (texture) {\n        for (var i = 0; i < this._textures.getSize(); i++) {\n            if (this._textures.at(i).id != texture) {\n                continue;\n            }\n            this._textures.set(i, null);\n            this._textures.remove(i);\n            break;\n        }\n    };\n    LAppTextureManager.prototype.releaseTextureByFilePath = function (fileName) {\n        for (var i = 0; i < this._textures.getSize(); i++) {\n            if (this._textures.at(i).fileName == fileName) {\n                this._textures.set(i, null);\n                this._textures.remove(i);\n                break;\n            }\n        }\n    };\n    return LAppTextureManager;\n}());\nexports.LAppTextureManager = LAppTextureManager;\nvar TextureInfo = (function () {\n    function TextureInfo() {\n        this.id = null;\n        this.width = 0;\n        this.height = 0;\n    }\n    return TextureInfo;\n}());\nexports.TextureInfo = TextureInfo;\n\n\n//# sourceURL=webpack:///./src/live2d/lapptexturemanager.ts?");

/***/ }),

/***/ "./src/live2d/lappview.ts":
/*!********************************!*\
  !*** ./src/live2d/lappview.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LAppView = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! ./framework/math/cubismmatrix44 */ \"./src/live2d/framework/math/cubismmatrix44.ts\");\nvar cubismviewmatrix_1 = __webpack_require__(/*! ./framework/math/cubismviewmatrix */ \"./src/live2d/framework/math/cubismviewmatrix.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/live2d/lappdefine.ts\"));\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nvar lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/live2d/lapplive2dmanager.ts\");\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/live2d/lapppal.ts\");\nvar lappsprite_1 = __webpack_require__(/*! ./lappsprite */ \"./src/live2d/lappsprite.ts\");\nvar touchmanager_1 = __webpack_require__(/*! ./touchmanager */ \"./src/live2d/touchmanager.ts\");\nvar LAppView = (function () {\n    function LAppView() {\n        this._programId = null;\n        this._back = null;\n        this._gear = null;\n        this._touchManager = new touchmanager_1.TouchManager();\n        this._deviceToScreen = new cubismmatrix44_1.CubismMatrix44();\n        this._viewMatrix = new cubismviewmatrix_1.CubismViewMatrix();\n    }\n    LAppView.prototype.initialize = function () {\n        var width = lappdelegate_1.canvas.width, height = lappdelegate_1.canvas.height;\n        var ratio = width / height;\n        var left = -ratio;\n        var right = ratio;\n        var bottom = LAppDefine.ViewLogicalLeft;\n        var top = LAppDefine.ViewLogicalRight;\n        this._viewMatrix.setScreenRect(left, right, bottom, top);\n        this._viewMatrix.scale(LAppDefine.ViewScale, LAppDefine.ViewScale);\n        this._deviceToScreen.loadIdentity();\n        if (width > height) {\n            var screenW = Math.abs(right - left);\n            this._deviceToScreen.scaleRelative(screenW / width, -screenW / width);\n        }\n        else {\n            var screenH = Math.abs(top - bottom);\n            this._deviceToScreen.scaleRelative(screenH / height, -screenH / height);\n        }\n        this._deviceToScreen.translateRelative(-width * 0.5, -height * 0.5);\n        this._viewMatrix.setMaxScale(LAppDefine.ViewMaxScale);\n        this._viewMatrix.setMinScale(LAppDefine.ViewMinScale);\n        this._viewMatrix.setMaxScreenRect(LAppDefine.ViewLogicalMaxLeft, LAppDefine.ViewLogicalMaxRight, LAppDefine.ViewLogicalMaxBottom, LAppDefine.ViewLogicalMaxTop);\n    };\n    LAppView.prototype.release = function () {\n        this._viewMatrix = null;\n        this._touchManager = null;\n        this._deviceToScreen = null;\n        this._gear.release();\n        this._gear = null;\n        this._back.release();\n        this._back = null;\n        lappdelegate_1.gl.deleteProgram(this._programId);\n        this._programId = null;\n    };\n    LAppView.prototype.render = function () {\n        lappdelegate_1.gl.useProgram(this._programId);\n        if (this._back) {\n            this._back.render(this._programId);\n        }\n        if (this._gear) {\n            this._gear.render(this._programId);\n        }\n        lappdelegate_1.gl.flush();\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.setViewMatrix(this._viewMatrix);\n        live2DManager.onUpdate();\n    };\n    LAppView.prototype.initializeSprite = function () {\n        var _this = this;\n        var width = lappdelegate_1.canvas.width;\n        var height = lappdelegate_1.canvas.height;\n        var textureManager = lappdelegate_1.LAppDelegate.getInstance().getTextureManager();\n        var resourcesPath = LAppDefine.ResourcesPath;\n        var imageName = '';\n        imageName = LAppDefine.BackImageName;\n        var initBackGroundTexture = function (textureInfo) {\n            var x = width * 0.5;\n            var y = height * 0.5;\n            var fwidth = textureInfo.width * 2.0;\n            var fheight = height * 0.95;\n            _this._back = new lappsprite_1.LAppSprite(x, y, fwidth, fheight, textureInfo.id);\n        };\n        textureManager.createTextureFromPngFile(resourcesPath + imageName, false, initBackGroundTexture);\n        imageName = LAppDefine.GearImageName;\n        var initGearTexture = function (textureInfo) {\n            var x = width - textureInfo.width * 0.5;\n            var y = height - textureInfo.height * 0.5;\n            var fwidth = textureInfo.width;\n            var fheight = textureInfo.height;\n            _this._gear = new lappsprite_1.LAppSprite(x, y, fwidth, fheight, textureInfo.id);\n        };\n        textureManager.createTextureFromPngFile(resourcesPath + imageName, false, initGearTexture);\n        if (this._programId == null) {\n            this._programId = lappdelegate_1.LAppDelegate.getInstance().createShader();\n        }\n    };\n    LAppView.prototype.onTouchesBegan = function (pointX, pointY) {\n        this._touchManager.touchesBegan(pointX, pointY);\n    };\n    LAppView.prototype.onTouchesMoved = function (pointX, pointY) {\n        var viewX = this.transformViewX(this._touchManager.getX());\n        var viewY = this.transformViewY(this._touchManager.getY());\n        this._touchManager.touchesMoved(pointX, pointY);\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.onDrag(viewX, viewY);\n    };\n    LAppView.prototype.onTouchesEnded = function (pointX, pointY) {\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.onDrag(0.0, 0.0);\n        {\n            var x = this._deviceToScreen.transformX(this._touchManager.getX());\n            var y = this._deviceToScreen.transformY(this._touchManager.getY());\n            if (LAppDefine.DebugTouchLogEnable) {\n                lapppal_1.LAppPal.printMessage(\"[APP]touchesEnded x: \".concat(x, \" y: \").concat(y));\n            }\n            live2DManager.onTap(x, y);\n        }\n    };\n    LAppView.prototype.transformViewX = function (deviceX) {\n        var screenX = this._deviceToScreen.transformX(deviceX);\n        return this._viewMatrix.invertTransformX(screenX);\n    };\n    LAppView.prototype.transformViewY = function (deviceY) {\n        var screenY = this._deviceToScreen.transformY(deviceY);\n        return this._viewMatrix.invertTransformY(screenY);\n    };\n    LAppView.prototype.transformScreenX = function (deviceX) {\n        return this._deviceToScreen.transformX(deviceX);\n    };\n    LAppView.prototype.transformScreenY = function (deviceY) {\n        return this._deviceToScreen.transformY(deviceY);\n    };\n    return LAppView;\n}());\nexports.LAppView = LAppView;\n\n\n//# sourceURL=webpack:///./src/live2d/lappview.ts?");

/***/ }),

/***/ "./src/live2d/lappwavfilehandler.ts":
/*!******************************************!*\
  !*** ./src/live2d/lappwavfilehandler.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ByteReader = exports.WavFileInfo = exports.LAppWavFileHandler = exports.s_instance = void 0;\nexports.s_instance = null;\nvar LAppWavFileHandler = (function () {\n    function LAppWavFileHandler() {\n        var _this = this;\n        this._loadFiletoBytes = function (arrayBuffer, length) {\n            _this._byteReader._fileByte = arrayBuffer;\n            _this._byteReader._fileDataView = new DataView(_this._byteReader._fileByte);\n            _this._byteReader._fileSize = length;\n        };\n        this._pcmData = null;\n        this._userTimeSeconds = 0.0;\n        this._lastRms = 0.0;\n        this._sampleOffset = 0.0;\n        this._wavFileInfo = new WavFileInfo();\n        this._byteReader = new ByteReader();\n    }\n    LAppWavFileHandler.getInstance = function () {\n        if (exports.s_instance == null) {\n            exports.s_instance = new LAppWavFileHandler();\n        }\n        return exports.s_instance;\n    };\n    LAppWavFileHandler.releaseInstance = function () {\n        if (exports.s_instance != null) {\n            exports.s_instance = void 0;\n        }\n        exports.s_instance = null;\n    };\n    LAppWavFileHandler.prototype.update = function (deltaTimeSeconds) {\n        var goalOffset;\n        var rms;\n        if (this._pcmData == null ||\n            this._sampleOffset >= this._wavFileInfo._samplesPerChannel) {\n            this._lastRms = 0.0;\n            return false;\n        }\n        this._userTimeSeconds += deltaTimeSeconds;\n        goalOffset = Math.floor(this._userTimeSeconds * this._wavFileInfo._samplingRate);\n        if (goalOffset > this._wavFileInfo._samplesPerChannel) {\n            goalOffset = this._wavFileInfo._samplesPerChannel;\n        }\n        rms = 0.0;\n        for (var channelCount = 0; channelCount < this._wavFileInfo._numberOfChannels; channelCount++) {\n            for (var sampleCount = this._sampleOffset; sampleCount < goalOffset; sampleCount++) {\n                var pcm = this._pcmData[channelCount][sampleCount];\n                rms += pcm * pcm;\n            }\n        }\n        rms = Math.sqrt(rms /\n            (this._wavFileInfo._numberOfChannels *\n                (goalOffset - this._sampleOffset)));\n        this._lastRms = rms;\n        this._sampleOffset = goalOffset;\n        return true;\n    };\n    LAppWavFileHandler.prototype.start = function (filePath) {\n        this._sampleOffset = 0;\n        this._userTimeSeconds = 0.0;\n        this._lastRms = 0.0;\n        if (!this.loadWavFile(filePath)) {\n            return;\n        }\n    };\n    LAppWavFileHandler.prototype.getRms = function () {\n        return this._lastRms;\n    };\n    LAppWavFileHandler.prototype.loadWavFile = function (filePath) {\n        var _this = this;\n        var ret = false;\n        if (this._pcmData != null) {\n            this.releasePcmData();\n        }\n        var asyncFileLoad = function () { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, fetch(filePath).then(function (responce) {\n                        return responce.arrayBuffer();\n                    })];\n            });\n        }); };\n        var asyncWavFileManager = (function () { return __awaiter(_this, void 0, void 0, function () {\n            var _a, fmtChunkSize, dataChunkSize, channelCount, sampleCount, channelCount;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this._byteReader;\n                        return [4, asyncFileLoad()];\n                    case 1:\n                        _a._fileByte = _b.sent();\n                        this._byteReader._fileDataView = new DataView(this._byteReader._fileByte);\n                        this._byteReader._fileSize = this._byteReader._fileByte.byteLength;\n                        this._byteReader._readOffset = 0;\n                        if (this._byteReader._fileByte == null ||\n                            this._byteReader._fileSize < 4) {\n                            return [2, false];\n                        }\n                        this._wavFileInfo._fileName = filePath;\n                        try {\n                            if (!this._byteReader.getCheckSignature('RIFF')) {\n                                ret = false;\n                                throw new Error('Cannot find Signeture \"RIFF\".');\n                            }\n                            this._byteReader.get32LittleEndian();\n                            if (!this._byteReader.getCheckSignature('WAVE')) {\n                                ret = false;\n                                throw new Error('Cannot find Signeture \"WAVE\".');\n                            }\n                            if (!this._byteReader.getCheckSignature('fmt ')) {\n                                ret = false;\n                                throw new Error('Cannot find Signeture \"fmt\".');\n                            }\n                            fmtChunkSize = this._byteReader.get32LittleEndian();\n                            if (this._byteReader.get16LittleEndian() != 1) {\n                                ret = false;\n                                throw new Error('File is not linear PCM.');\n                            }\n                            this._wavFileInfo._numberOfChannels =\n                                this._byteReader.get16LittleEndian();\n                            this._wavFileInfo._samplingRate = this._byteReader.get32LittleEndian();\n                            this._byteReader.get32LittleEndian();\n                            this._byteReader.get16LittleEndian();\n                            this._wavFileInfo._bitsPerSample = this._byteReader.get16LittleEndian();\n                            if (fmtChunkSize > 16) {\n                                this._byteReader._readOffset += fmtChunkSize - 16;\n                            }\n                            while (!this._byteReader.getCheckSignature('data') &&\n                                this._byteReader._readOffset < this._byteReader._fileSize) {\n                                this._byteReader._readOffset +=\n                                    this._byteReader.get32LittleEndian() + 4;\n                            }\n                            if (this._byteReader._readOffset >= this._byteReader._fileSize) {\n                                ret = false;\n                                throw new Error('Cannot find \"data\" Chunk.');\n                            }\n                            {\n                                dataChunkSize = this._byteReader.get32LittleEndian();\n                                this._wavFileInfo._samplesPerChannel =\n                                    (dataChunkSize * 8) /\n                                        (this._wavFileInfo._bitsPerSample *\n                                            this._wavFileInfo._numberOfChannels);\n                            }\n                            this._pcmData = new Array(this._wavFileInfo._numberOfChannels);\n                            for (channelCount = 0; channelCount < this._wavFileInfo._numberOfChannels; channelCount++) {\n                                this._pcmData[channelCount] = new Float32Array(this._wavFileInfo._samplesPerChannel);\n                            }\n                            for (sampleCount = 0; sampleCount < this._wavFileInfo._samplesPerChannel; sampleCount++) {\n                                for (channelCount = 0; channelCount < this._wavFileInfo._numberOfChannels; channelCount++) {\n                                    this._pcmData[channelCount][sampleCount] = this.getPcmSample();\n                                }\n                            }\n                            ret = true;\n                        }\n                        catch (e) {\n                            console.log(e);\n                        }\n                        return [2];\n                }\n            });\n        }); })();\n        return ret;\n    };\n    LAppWavFileHandler.prototype.getPcmSample = function () {\n        var pcm32;\n        switch (this._wavFileInfo._bitsPerSample) {\n            case 8:\n                pcm32 = this._byteReader.get8() - 128;\n                pcm32 <<= 24;\n                break;\n            case 16:\n                pcm32 = this._byteReader.get16LittleEndian() << 16;\n                break;\n            case 24:\n                pcm32 = this._byteReader.get24LittleEndian() << 8;\n                break;\n            default:\n                pcm32 = 0;\n                break;\n        }\n        return pcm32 / 2147483647;\n    };\n    LAppWavFileHandler.prototype.releasePcmData = function () {\n        for (var channelCount = 0; channelCount < this._wavFileInfo._numberOfChannels; channelCount++) {\n            delete this._pcmData[channelCount];\n        }\n        delete this._pcmData;\n        this._pcmData = null;\n    };\n    return LAppWavFileHandler;\n}());\nexports.LAppWavFileHandler = LAppWavFileHandler;\nvar WavFileInfo = (function () {\n    function WavFileInfo() {\n        this._fileName = '';\n        this._numberOfChannels = 0;\n        this._bitsPerSample = 0;\n        this._samplingRate = 0;\n        this._samplesPerChannel = 0;\n    }\n    return WavFileInfo;\n}());\nexports.WavFileInfo = WavFileInfo;\nvar ByteReader = (function () {\n    function ByteReader() {\n        this._fileByte = null;\n        this._fileDataView = null;\n        this._fileSize = 0;\n        this._readOffset = 0;\n    }\n    ByteReader.prototype.get8 = function () {\n        var ret = this._fileDataView.getUint8(this._readOffset);\n        this._readOffset++;\n        return ret;\n    };\n    ByteReader.prototype.get16LittleEndian = function () {\n        var ret = (this._fileDataView.getUint8(this._readOffset + 1) << 8) |\n            this._fileDataView.getUint8(this._readOffset);\n        this._readOffset += 2;\n        return ret;\n    };\n    ByteReader.prototype.get24LittleEndian = function () {\n        var ret = (this._fileDataView.getUint8(this._readOffset + 2) << 16) |\n            (this._fileDataView.getUint8(this._readOffset + 1) << 8) |\n            this._fileDataView.getUint8(this._readOffset);\n        this._readOffset += 3;\n        return ret;\n    };\n    ByteReader.prototype.get32LittleEndian = function () {\n        var ret = (this._fileDataView.getUint8(this._readOffset + 3) << 24) |\n            (this._fileDataView.getUint8(this._readOffset + 2) << 16) |\n            (this._fileDataView.getUint8(this._readOffset + 1) << 8) |\n            this._fileDataView.getUint8(this._readOffset);\n        this._readOffset += 4;\n        return ret;\n    };\n    ByteReader.prototype.getCheckSignature = function (reference) {\n        var getSignature = new Uint8Array(4);\n        var referenceString = new TextEncoder().encode(reference);\n        if (reference.length != 4) {\n            return false;\n        }\n        for (var signatureOffset = 0; signatureOffset < 4; signatureOffset++) {\n            getSignature[signatureOffset] = this.get8();\n        }\n        return (getSignature[0] == referenceString[0] &&\n            getSignature[1] == referenceString[1] &&\n            getSignature[2] == referenceString[2] &&\n            getSignature[3] == referenceString[3]);\n    };\n    return ByteReader;\n}());\nexports.ByteReader = ByteReader;\n\n\n//# sourceURL=webpack:///./src/live2d/lappwavfilehandler.ts?");

/***/ }),

/***/ "./src/live2d/touchmanager.ts":
/*!************************************!*\
  !*** ./src/live2d/touchmanager.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TouchManager = void 0;\nvar TouchManager = (function () {\n    function TouchManager() {\n        this._startX = 0.0;\n        this._startY = 0.0;\n        this._lastX = 0.0;\n        this._lastY = 0.0;\n        this._lastX1 = 0.0;\n        this._lastY1 = 0.0;\n        this._lastX2 = 0.0;\n        this._lastY2 = 0.0;\n        this._lastTouchDistance = 0.0;\n        this._deltaX = 0.0;\n        this._deltaY = 0.0;\n        this._scale = 1.0;\n        this._touchSingle = false;\n        this._flipAvailable = false;\n    }\n    TouchManager.prototype.getCenterX = function () {\n        return this._lastX;\n    };\n    TouchManager.prototype.getCenterY = function () {\n        return this._lastY;\n    };\n    TouchManager.prototype.getDeltaX = function () {\n        return this._deltaX;\n    };\n    TouchManager.prototype.getDeltaY = function () {\n        return this._deltaY;\n    };\n    TouchManager.prototype.getStartX = function () {\n        return this._startX;\n    };\n    TouchManager.prototype.getStartY = function () {\n        return this._startY;\n    };\n    TouchManager.prototype.getScale = function () {\n        return this._scale;\n    };\n    TouchManager.prototype.getX = function () {\n        return this._lastX;\n    };\n    TouchManager.prototype.getY = function () {\n        return this._lastY;\n    };\n    TouchManager.prototype.getX1 = function () {\n        return this._lastX1;\n    };\n    TouchManager.prototype.getY1 = function () {\n        return this._lastY1;\n    };\n    TouchManager.prototype.getX2 = function () {\n        return this._lastX2;\n    };\n    TouchManager.prototype.getY2 = function () {\n        return this._lastY2;\n    };\n    TouchManager.prototype.isSingleTouch = function () {\n        return this._touchSingle;\n    };\n    TouchManager.prototype.isFlickAvailable = function () {\n        return this._flipAvailable;\n    };\n    TouchManager.prototype.disableFlick = function () {\n        this._flipAvailable = false;\n    };\n    TouchManager.prototype.touchesBegan = function (deviceX, deviceY) {\n        this._lastX = deviceX;\n        this._lastY = deviceY;\n        this._startX = deviceX;\n        this._startY = deviceY;\n        this._lastTouchDistance = -1.0;\n        this._flipAvailable = true;\n        this._touchSingle = true;\n    };\n    TouchManager.prototype.touchesMoved = function (deviceX, deviceY) {\n        this._lastX = deviceX;\n        this._lastY = deviceY;\n        this._lastTouchDistance = -1.0;\n        this._touchSingle = true;\n    };\n    TouchManager.prototype.getFlickDistance = function () {\n        return this.calculateDistance(this._startX, this._startY, this._lastX, this._lastY);\n    };\n    TouchManager.prototype.calculateDistance = function (x1, y1, x2, y2) {\n        return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n    };\n    TouchManager.prototype.calculateMovingAmount = function (v1, v2) {\n        if (v1 > 0.0 != v2 > 0.0) {\n            return 0.0;\n        }\n        var sign = v1 > 0.0 ? 1.0 : -1.0;\n        var absoluteValue1 = Math.abs(v1);\n        var absoluteValue2 = Math.abs(v2);\n        return (sign * (absoluteValue1 < absoluteValue2 ? absoluteValue1 : absoluteValue2));\n    };\n    return TouchManager;\n}());\nexports.TouchManager = TouchManager;\n\n\n//# sourceURL=webpack:///./src/live2d/touchmanager.ts?");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar lappdelegate_1 = __webpack_require__(/*! ./live2d/lappdelegate */ \"./src/live2d/lappdelegate.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./live2d/lappdefine */ \"./src/live2d/lappdefine.ts\"));\nwindow.onload = function () {\n    if (lappdelegate_1.LAppDelegate.getInstance().initialize() == false) {\n        return;\n    }\n    lappdelegate_1.LAppDelegate.getInstance().run();\n};\nwindow.onbeforeunload = function () { return lappdelegate_1.LAppDelegate.releaseInstance(); };\nwindow.onresize = function () {\n    if (LAppDefine.CanvasSize === 'auto') {\n        lappdelegate_1.LAppDelegate.getInstance().onResize();\n    }\n};\n\n\n//# sourceURL=webpack:///./src/main.ts?");

/***/ }),

/***/ "./node_modules/whatwg-fetch/fetch.js":
/*!********************************************!*\
  !*** ./node_modules/whatwg-fetch/fetch.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DOMException\": function() { return /* binding */ DOMException; },\n/* harmony export */   \"Headers\": function() { return /* binding */ Headers; },\n/* harmony export */   \"Request\": function() { return /* binding */ Request; },\n/* harmony export */   \"Response\": function() { return /* binding */ Response; },\n/* harmony export */   \"fetch\": function() { return /* binding */ fetch; }\n/* harmony export */ });\nvar global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n\n\n//# sourceURL=webpack:///./node_modules/whatwg-fetch/fetch.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.ts");
/******/ 	
/******/ })()
;